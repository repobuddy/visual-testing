import{n as rt}from"./iframe-4keGAOXU.js";import"./preload-helper-PPVm8Dsz.js";var it={reset:[0,0],bold:[1,22,"\x1B[22m\x1B[1m"],dim:[2,22,"\x1B[22m\x1B[2m"],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]},st=Object.entries(it);function de(e){return String(e)}de.open="";de.close="";function ot(e=!1){let t=typeof process<"u"?process:void 0,n=t?.env||{},r=t?.argv||[];return!("NO_COLOR"in n||r.includes("--no-color"))&&("FORCE_COLOR"in n||r.includes("--color")||t?.platform==="win32"||e&&n.TERM!=="dumb"||"CI"in n)||typeof window<"u"&&!!window.chrome}function ct(e=!1){let t=ot(e),n=(s,c,l,a)=>{let f="",h=0;do f+=s.substring(h,a)+l,h=a+c.length,a=s.indexOf(c,h);while(~a);return f+s.substring(h)},r=(s,c,l=s)=>{let a=f=>{let h=String(f),y=h.indexOf(c,s.length);return~y?s+n(h,c,l,y)+c:s+h+c};return a.open=s,a.close=c,a},i={isColorSupported:t},o=s=>`\x1B[${s}m`;for(let[s,c]of st)i[s]=t?r(o(c[0]),o(c[1]),c[2]):de;return i}ct();const ge={bold:["1","22"],dim:["2","22"],italic:["3","23"],underline:["4","24"],inverse:["7","27"],hidden:["8","28"],strike:["9","29"],black:["30","39"],red:["31","39"],green:["32","39"],yellow:["33","39"],blue:["34","39"],magenta:["35","39"],cyan:["36","39"],white:["37","39"],brightblack:["30;1","39"],brightred:["31;1","39"],brightgreen:["32;1","39"],brightyellow:["33;1","39"],brightblue:["34;1","39"],brightmagenta:["35;1","39"],brightcyan:["36;1","39"],brightwhite:["37;1","39"],grey:["90","39"]},at={special:"cyan",number:"yellow",bigint:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",symbol:"green",date:"magenta",regexp:"red"},V="…";function lt(e,t){const n=ge[at[t]]||ge[t]||"";return n?`\x1B[${n[0]}m${String(e)}\x1B[${n[1]}m`:String(e)}function ut({showHidden:e=!1,depth:t=2,colors:n=!1,customInspect:r=!0,showProxy:i=!1,maxArrayLength:o=1/0,breakLength:s=1/0,seen:c=[],truncate:l=1/0,stylize:a=String}={},f){const h={showHidden:!!e,depth:Number(t),colors:!!n,customInspect:!!r,showProxy:!!i,maxArrayLength:Number(o),breakLength:Number(s),truncate:Number(l),seen:c,inspect:f,stylize:a};return h.colors&&(h.stylize=lt),h}function ft(e){return e>="\uD800"&&e<="\uDBFF"}function D(e,t,n=V){e=String(e);const r=n.length,i=e.length;if(r>t&&i>r)return n;if(i>t&&i>r){let o=t-r;return o>0&&ft(e[o-1])&&(o=o-1),`${e.slice(0,o)}${n}`}return e}function X(e,t,n,r=", "){n=n||t.inspect;const i=e.length;if(i===0)return"";const o=t.truncate;let s="",c="",l="";for(let a=0;a<i;a+=1){const f=a+1===e.length,h=a+2===e.length;l=`${V}(${e.length-a})`;const y=e[a];t.truncate=o-s.length-(f?0:r.length);const g=c||n(y,t)+(f?"":r),I=s.length+g.length,$=I+l.length;if(f&&I>o&&s.length+l.length<=o||!f&&!h&&$>o||(c=f?"":n(e[a+1],t)+(h?"":r),!f&&h&&$>o&&I+c.length>o))break;if(s+=g,!f&&!h&&I+c.length>=o){l=`${V}(${e.length-a-1})`;break}l=""}return`${s}${l}`}function dt(e){return e.match(/^[a-zA-Z_][a-zA-Z_0-9]*$/)?e:JSON.stringify(e).replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'")}function U([e,t],n){return n.truncate-=2,typeof e=="string"?e=dt(e):typeof e!="number"&&(e=`[${n.inspect(e,n)}]`),n.truncate-=e.length,t=n.inspect(t,n),`${e}: ${t}`}function pt(e,t){const n=Object.keys(e).slice(e.length);if(!e.length&&!n.length)return"[]";t.truncate-=4;const r=X(e,t);t.truncate-=r.length;let i="";return n.length&&(i=X(n.map(o=>[o,e[o]]),t,U)),`[ ${r}${i?`, ${i}`:""} ]`}const ht=e=>typeof Buffer=="function"&&e instanceof Buffer?"Buffer":e[Symbol.toStringTag]?e[Symbol.toStringTag]:e.constructor.name;function O(e,t){const n=ht(e);t.truncate-=n.length+4;const r=Object.keys(e).slice(e.length);if(!e.length&&!r.length)return`${n}[]`;let i="";for(let s=0;s<e.length;s++){const c=`${t.stylize(D(e[s],t.truncate),"number")}${s===e.length-1?"":", "}`;if(t.truncate-=c.length,e[s]!==e.length&&t.truncate<=3){i+=`${V}(${e.length-e[s]+1})`;break}i+=c}let o="";return r.length&&(o=X(r.map(s=>[s,e[s]]),t,U)),`${n}[ ${i}${o?`, ${o}`:""} ]`}function gt(e,t){const n=e.toJSON();if(n===null)return"Invalid Date";const r=n.split("T"),i=r[0];return t.stylize(`${i}T${D(r[1],t.truncate-i.length-1)}`,"date")}function ye(e,t){const n=e[Symbol.toStringTag]||"Function",r=e.name;return r?t.stylize(`[${n} ${D(r,t.truncate-11)}]`,"special"):t.stylize(`[${n}]`,"special")}function yt([e,t],n){return n.truncate-=4,e=n.inspect(e,n),n.truncate-=e.length,t=n.inspect(t,n),`${e} => ${t}`}function mt(e){const t=[];return e.forEach((n,r)=>{t.push([r,n])}),t}function bt(e,t){return e.size===0?"Map{}":(t.truncate-=7,`Map{ ${X(mt(e),t,yt)} }`)}const St=Number.isNaN||(e=>e!==e);function me(e,t){return St(e)?t.stylize("NaN","number"):e===1/0?t.stylize("Infinity","number"):e===-1/0?t.stylize("-Infinity","number"):e===0?t.stylize(1/e===1/0?"+0":"-0","number"):t.stylize(D(String(e),t.truncate),"number")}function be(e,t){let n=D(e.toString(),t.truncate-1);return n!==V&&(n+="n"),t.stylize(n,"bigint")}function It(e,t){const n=e.toString().split("/")[2],r=t.truncate-(2+n.length),i=e.source;return t.stylize(`/${D(i,r)}/${n}`,"regexp")}function xt(e){const t=[];return e.forEach(n=>{t.push(n)}),t}function vt(e,t){return e.size===0?"Set{}":(t.truncate-=7,`Set{ ${X(xt(e),t)} }`)}const Se=new RegExp("['\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]","g"),wt={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"},Tt=16;function $t(e){return wt[e]||`\\u${`0000${e.charCodeAt(0).toString(Tt)}`.slice(-4)}`}function Ie(e,t){return Se.test(e)&&(e=e.replace(Se,$t)),t.stylize(`'${D(e,t.truncate-2)}'`,"string")}function xe(e){return"description"in Symbol.prototype?e.description?`Symbol(${e.description})`:"Symbol()":e.toString()}const Et=()=>"Promise{…}";function G(e,t){const n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[];if(n.length===0&&r.length===0)return"{}";if(t.truncate-=4,t.seen=t.seen||[],t.seen.includes(e))return"[Circular]";t.seen.push(e);const i=X(n.map(c=>[c,e[c]]),t,U),o=X(r.map(c=>[c,e[c]]),t,U);t.seen.pop();let s="";return i&&o&&(s=", "),`{ ${i}${s}${o} }`}const ne=typeof Symbol<"u"&&Symbol.toStringTag?Symbol.toStringTag:!1;function kt(e,t){let n="";return ne&&ne in e&&(n=e[ne]),n=n||e.constructor.name,(!n||n==="_class")&&(n="<Anonymous Class>"),t.truncate-=n.length,`${n}${G(e,t)}`}function Ct(e,t){return e.length===0?"Arguments[]":(t.truncate-=13,`Arguments[ ${X(e,t)} ]`)}const _t=["stack","line","column","name","message","fileName","lineNumber","columnNumber","number","description","cause"];function At(e,t){const n=Object.getOwnPropertyNames(e).filter(s=>_t.indexOf(s)===-1),r=e.name;t.truncate-=r.length;let i="";if(typeof e.message=="string"?i=D(e.message,t.truncate):n.unshift("message"),i=i?`: ${i}`:"",t.truncate-=i.length+5,t.seen=t.seen||[],t.seen.includes(e))return"[Circular]";t.seen.push(e);const o=X(n.map(s=>[s,e[s]]),t,U);return`${r}${i}${o?` { ${o} }`:""}`}function Nt([e,t],n){return n.truncate-=3,t?`${n.stylize(String(e),"yellow")}=${n.stylize(`"${t}"`,"string")}`:`${n.stylize(String(e),"yellow")}`}function le(e,t){return X(e,t,Pt,`
`)}function Pt(e,t){switch(e.nodeType){case 1:return Me(e,t);case 3:return t.inspect(e.data,t);default:return t.inspect(e,t)}}function Me(e,t){const n=e.getAttributeNames(),r=e.tagName.toLowerCase(),i=t.stylize(`<${r}`,"special"),o=t.stylize(">","special"),s=t.stylize(`</${r}>`,"special");t.truncate-=r.length*2+5;let c="";n.length>0&&(c+=" ",c+=X(n.map(f=>[f,e.getAttribute(f)]),t,Nt," ")),t.truncate-=c.length;const l=t.truncate;let a=le(e.children,t);return a&&a.length>l&&(a=`${V}(${e.children.length})`),`${i}${c}${o}${a}${s}`}const Jt=typeof Symbol=="function"&&typeof Symbol.for=="function",re=Jt?Symbol.for("chai/inspect"):"@@chai/inspect",ie=Symbol.for("nodejs.util.inspect.custom"),ve=new WeakMap,we={},Te={undefined:(e,t)=>t.stylize("undefined","undefined"),null:(e,t)=>t.stylize("null","null"),boolean:(e,t)=>t.stylize(String(e),"boolean"),Boolean:(e,t)=>t.stylize(String(e),"boolean"),number:me,Number:me,bigint:be,BigInt:be,string:Ie,String:Ie,function:ye,Function:ye,symbol:xe,Symbol:xe,Array:pt,Date:gt,Map:bt,Set:vt,RegExp:It,Promise:Et,WeakSet:(e,t)=>t.stylize("WeakSet{…}","special"),WeakMap:(e,t)=>t.stylize("WeakMap{…}","special"),Arguments:Ct,Int8Array:O,Uint8Array:O,Uint8ClampedArray:O,Int16Array:O,Uint16Array:O,Int32Array:O,Uint32Array:O,Float32Array:O,Float64Array:O,Generator:()=>"",DataView:()=>"",ArrayBuffer:()=>"",Error:At,HTMLCollection:le,NodeList:le},Lt=(e,t,n,r)=>re in e&&typeof e[re]=="function"?e[re](t):ie in e&&typeof e[ie]=="function"?e[ie](t.depth,t,r):"inspect"in e&&typeof e.inspect=="function"?e.inspect(t.depth,t):"constructor"in e&&ve.has(e.constructor)?ve.get(e.constructor)(e,t):we[n]?we[n](e,t):"",Ft=Object.prototype.toString;function Y(e,t={}){const n=ut(t,Y),{customInspect:r}=n;let i=e===null?"null":typeof e;if(i==="object"&&(i=Ft.call(e).slice(8,-1)),i in Te)return Te[i](e,n);if(r&&e){const s=Lt(e,n,i,Y);if(s)return typeof s=="string"?s:Y(s,n)}const o=e?Object.getPrototypeOf(e):!1;return o===Object.prototype||o===null?G(e,n):e&&typeof HTMLElement=="function"&&e instanceof HTMLElement?Me(e,n):"constructor"in e?e.constructor!==Object?kt(e,n):G(e,n):e===Object(e)?G(e,n):n.stylize(String(e),i)}const Xt=/%[sdjifoOc%]/g;function jt(...e){if(typeof e[0]!="string"){const o=[];for(let s=0;s<e.length;s++)o.push(q(e[s],{depth:0,colors:!1}));return o.join(" ")}const t=e.length;let n=1;const r=e[0];let i=String(r).replace(Xt,o=>{if(o==="%%")return"%";if(n>=t)return o;switch(o){case"%s":{const s=e[n++];return typeof s=="bigint"?`${s.toString()}n`:typeof s=="number"&&s===0&&1/s<0?"-0":typeof s=="object"&&s!==null?typeof s.toString=="function"&&s.toString!==Object.prototype.toString?s.toString():q(s,{depth:0,colors:!1}):String(s)}case"%d":{const s=e[n++];return typeof s=="bigint"?`${s.toString()}n`:Number(s).toString()}case"%i":{const s=e[n++];return typeof s=="bigint"?`${s.toString()}n`:Number.parseInt(String(s)).toString()}case"%f":return Number.parseFloat(String(e[n++])).toString();case"%o":return q(e[n++],{showHidden:!0,showProxy:!0});case"%O":return q(e[n++]);case"%c":return n++,"";case"%j":try{return JSON.stringify(e[n++])}catch(s){const c=s.message;if(c.includes("circular structure")||c.includes("cyclic structures")||c.includes("cyclic object"))return"[Circular]";throw s}default:return o}});for(let o=e[n];n<t;o=e[++n])o===null||typeof o!="object"?i+=` ${o}`:i+=` ${q(o)}`;return i}function q(e,t={}){return t.truncate===0&&(t.truncate=Number.POSITIVE_INFINITY),Y(e,t)}function Rt(e,t={}){typeof t.truncate>"u"&&(t.truncate=40);const n=q(e,t),r=Object.prototype.toString.call(e);if(t.truncate&&n.length>=t.truncate)if(r==="[object Function]"){const i=e;return i.name?`[Function: ${i.name}]`:"[Function]"}else{if(r==="[object Array]")return`[ Array(${e.length}) ]`;if(r==="[object Object]"){const i=Object.keys(e);return`{ Object (${i.length>2?`${i.splice(0,2).join(", ")}, ...`:i.join(", ")}) }`}else return n}return n}function Oe(e){return e==null&&(e=[]),Array.isArray(e)?e:[e]}function We(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}function Mt(){}function $e(e,t,n=void 0){const r=t.replace(/\[(\d+)\]/g,".$1").split(".");let i=e;for(const o of r)if(i=new Object(i)[o],i===void 0)return n;return i}function Ee(){let e=null,t=null;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function Ot(e){if(!Number.isNaN(e))return!1;const t=new Float64Array(1);return t[0]=e,new Uint32Array(t.buffer)[1]>>>31===1}var se,ke;function Wt(){if(ke)return se;ke=1;var e,t,n,r,i,o,s,c,l,a,f,h,y,g,I,$,w,m,v;return y=/\/(?![*\/])(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\\]).|\\.)*(\/[$_\u200C\u200D\p{ID_Continue}]*|\\)?/yu,h=/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![\/*]))=?|[?~,:;[\](){}]/y,e=/(\x23?)(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/yu,I=/(['"])(?:(?!\1)[^\\\n\r]|\\(?:\r\n|[^]))*(\1)?/y,f=/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/y,$=/[`}](?:[^`\\$]|\\[^]|\$(?!\{))*(`|\$\{)?/y,v=/[\t\v\f\ufeff\p{Zs}]+/yu,c=/\r?\n|[\r\u2028\u2029]/y,l=/\/\*(?:[^*]|\*(?!\/))*(\*\/)?/y,g=/\/\/.*/y,n=/[<>.:={}]|\/(?![\/*])/y,t=/[$_\p{ID_Start}][$_\u200C\u200D\p{ID_Continue}-]*/yu,r=/(['"])(?:(?!\1)[^])*(\1)?/y,i=/[^<>{}]+/y,m=/^(?:[\/+-]|\.{3}|\?(?:InterpolationIn(?:JSX|Template)|NoLineTerminatorHere|NonExpressionParenEnd|UnaryIncDec))?$|[{}([,;<>=*%&|^!~?:]$/,w=/^(?:=>|[;\]){}]|else|\?(?:NoLineTerminatorHere|NonExpressionParenEnd))?$/,o=/^(?:await|case|default|delete|do|else|instanceof|new|return|throw|typeof|void|yield)$/,s=/^(?:return|throw|yield)$/,a=RegExp(c.source),se=function*(x,{jsx:T=!1}={}){var P,A,M,b,u,S,p,d,L,J,N,E,k,C;for({length:S}=x,b=0,u="",C=[{tag:"JS"}],P=[],N=0,E=!1;b<S;){switch(d=C[C.length-1],d.tag){case"JS":case"JSNonExpressionParen":case"InterpolationInTemplate":case"InterpolationInJSX":if(x[b]==="/"&&(m.test(u)||o.test(u))&&(y.lastIndex=b,p=y.exec(x))){b=y.lastIndex,u=p[0],E=!0,yield{type:"RegularExpressionLiteral",value:p[0],closed:p[1]!==void 0&&p[1]!=="\\"};continue}if(h.lastIndex=b,p=h.exec(x)){switch(k=p[0],L=h.lastIndex,J=k,k){case"(":u==="?NonExpressionParenKeyword"&&C.push({tag:"JSNonExpressionParen",nesting:N}),N++,E=!1;break;case")":N--,E=!0,d.tag==="JSNonExpressionParen"&&N===d.nesting&&(C.pop(),J="?NonExpressionParenEnd",E=!1);break;case"{":h.lastIndex=0,M=!w.test(u)&&(m.test(u)||o.test(u)),P.push(M),E=!1;break;case"}":switch(d.tag){case"InterpolationInTemplate":if(P.length===d.nesting){$.lastIndex=b,p=$.exec(x),b=$.lastIndex,u=p[0],p[1]==="${"?(u="?InterpolationInTemplate",E=!1,yield{type:"TemplateMiddle",value:p[0]}):(C.pop(),E=!0,yield{type:"TemplateTail",value:p[0],closed:p[1]==="`"});continue}break;case"InterpolationInJSX":if(P.length===d.nesting){C.pop(),b+=1,u="}",yield{type:"JSXPunctuator",value:"}"};continue}}E=P.pop(),J=E?"?ExpressionBraceEnd":"}";break;case"]":E=!0;break;case"++":case"--":J=E?"?PostfixIncDec":"?UnaryIncDec";break;case"<":if(T&&(m.test(u)||o.test(u))){C.push({tag:"JSXTag"}),b+=1,u="<",yield{type:"JSXPunctuator",value:k};continue}E=!1;break;default:E=!1}b=L,u=J,yield{type:"Punctuator",value:k};continue}if(e.lastIndex=b,p=e.exec(x)){switch(b=e.lastIndex,J=p[0],p[0]){case"for":case"if":case"while":case"with":u!=="."&&u!=="?."&&(J="?NonExpressionParenKeyword")}u=J,E=!o.test(p[0]),yield{type:p[1]==="#"?"PrivateIdentifier":"IdentifierName",value:p[0]};continue}if(I.lastIndex=b,p=I.exec(x)){b=I.lastIndex,u=p[0],E=!0,yield{type:"StringLiteral",value:p[0],closed:p[2]!==void 0};continue}if(f.lastIndex=b,p=f.exec(x)){b=f.lastIndex,u=p[0],E=!0,yield{type:"NumericLiteral",value:p[0]};continue}if($.lastIndex=b,p=$.exec(x)){b=$.lastIndex,u=p[0],p[1]==="${"?(u="?InterpolationInTemplate",C.push({tag:"InterpolationInTemplate",nesting:P.length}),E=!1,yield{type:"TemplateHead",value:p[0]}):(E=!0,yield{type:"NoSubstitutionTemplate",value:p[0],closed:p[1]==="`"});continue}break;case"JSXTag":case"JSXTagEnd":if(n.lastIndex=b,p=n.exec(x)){switch(b=n.lastIndex,J=p[0],p[0]){case"<":C.push({tag:"JSXTag"});break;case">":C.pop(),u==="/"||d.tag==="JSXTagEnd"?(J="?JSX",E=!0):C.push({tag:"JSXChildren"});break;case"{":C.push({tag:"InterpolationInJSX",nesting:P.length}),J="?InterpolationInJSX",E=!1;break;case"/":u==="<"&&(C.pop(),C[C.length-1].tag==="JSXChildren"&&C.pop(),C.push({tag:"JSXTagEnd"}))}u=J,yield{type:"JSXPunctuator",value:p[0]};continue}if(t.lastIndex=b,p=t.exec(x)){b=t.lastIndex,u=p[0],yield{type:"JSXIdentifier",value:p[0]};continue}if(r.lastIndex=b,p=r.exec(x)){b=r.lastIndex,u=p[0],yield{type:"JSXString",value:p[0],closed:p[2]!==void 0};continue}break;case"JSXChildren":if(i.lastIndex=b,p=i.exec(x)){b=i.lastIndex,u=p[0],yield{type:"JSXText",value:p[0]};continue}switch(x[b]){case"<":C.push({tag:"JSXTag"}),b++,u="<",yield{type:"JSXPunctuator",value:"<"};continue;case"{":C.push({tag:"InterpolationInJSX",nesting:P.length}),b++,u="?InterpolationInJSX",E=!1,yield{type:"JSXPunctuator",value:"{"};continue}}if(v.lastIndex=b,p=v.exec(x)){b=v.lastIndex,yield{type:"WhiteSpace",value:p[0]};continue}if(c.lastIndex=b,p=c.exec(x)){b=c.lastIndex,E=!1,s.test(u)&&(u="?NoLineTerminatorHere"),yield{type:"LineTerminatorSequence",value:p[0]};continue}if(l.lastIndex=b,p=l.exec(x)){b=l.lastIndex,a.test(p[0])&&(E=!1,s.test(u)&&(u="?NoLineTerminatorHere")),yield{type:"MultiLineComment",value:p[0],closed:p[1]!==void 0};continue}if(g.lastIndex=b,p=g.exec(x)){b=g.lastIndex,E=!1,yield{type:"SingleLineComment",value:p[0]};continue}A=String.fromCodePoint(x.codePointAt(b)),b+=A.length,u=A,E=!1,yield{type:d.tag.startsWith("JSX")?"JSXInvalid":"Invalid",value:A}}},se}Wt();var Be={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"]};new Set(Be.keyword);new Set(Be.strict);const Ce=Symbol("vitest:SAFE_TIMERS");function De(){const{setTimeout:e,setInterval:t,clearInterval:n,clearTimeout:r,setImmediate:i,clearImmediate:o,queueMicrotask:s}=globalThis[Ce]||globalThis,{nextTick:c}=globalThis[Ce]||globalThis.process||{nextTick:l=>l()};return{nextTick:c,setTimeout:e,setInterval:t,clearInterval:n,clearTimeout:r,setImmediate:i,clearImmediate:o,queueMicrotask:s}}const _e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bt=new Uint8Array(64),Dt=new Uint8Array(128);for(let e=0;e<_e.length;e++){const t=_e.charCodeAt(e);Bt[e]=t,Dt[t]=e}var Ae;(function(e){e[e.Empty=1]="Empty",e[e.Hash=2]="Hash",e[e.Query=3]="Query",e[e.RelativePath=4]="RelativePath",e[e.AbsolutePath=5]="AbsolutePath",e[e.SchemeRelative=6]="SchemeRelative",e[e.Absolute=7]="Absolute"})(Ae||(Ae={}));const zt=/^[A-Za-z]:\//;function qt(e=""){return e&&e.replace(/\\/g,"/").replace(zt,t=>t.toUpperCase())}const Ht=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/;function Vt(){return typeof process<"u"&&typeof process.cwd=="function"?process.cwd().replace(/\\/g,"/"):"/"}const Kt=function(...e){e=e.map(r=>qt(r));let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const i=r>=0?e[r]:Vt();!i||i.length===0||(t=`${i}/${t}`,n=Ne(i))}return t=Ut(t,!n),n&&!Ne(t)?`/${t}`:t.length>0?t:"."};function Ut(e,t){let n="",r=0,i=-1,o=0,s=null;for(let c=0;c<=e.length;++c){if(c<e.length)s=e[c];else{if(s==="/")break;s="/"}if(s==="/"){if(!(i===c-1||o===1))if(o===2){if(n.length<2||r!==2||n[n.length-1]!=="."||n[n.length-2]!=="."){if(n.length>2){const l=n.lastIndexOf("/");l===-1?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=c,o=0;continue}else if(n.length>0){n="",r=0,i=c,o=0;continue}}t&&(n+=n.length>0?"/..":"..",r=2)}else n.length>0?n+=`/${e.slice(i+1,c)}`:n=e.slice(i+1,c),r=c-i-1;i=c,o=0}else s==="."&&o!==-1?++o:o=-1}return n}const Ne=function(e){return Ht.test(e)},ze=/^\s*at .*(?:\S:\d+|\(native\))/m,Zt=/^(?:eval@)?(?:\[native code\])?$/;function qe(e){if(!e.includes(":"))return[e];const n=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/^\(|\)$/g,""));if(!n)return[e];let r=n[1];if(r.startsWith("async ")&&(r=r.slice(6)),r.startsWith("http:")||r.startsWith("https:")){const i=new URL(r);i.searchParams.delete("import"),i.searchParams.delete("browserv"),r=i.pathname+i.hash+i.search}if(r.startsWith("/@fs/")){const i=/^\/@fs\/[a-zA-Z]:\//.test(r);r=r.slice(i?5:4)}return[r,n[2]||void 0,n[3]||void 0]}function Gt(e){let t=e.trim();if(Zt.test(t)||(t.includes(" > eval")&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),!t.includes("@")&&!t.includes(":")))return null;const n=/((.*".+"[^@]*)?[^@]*)(@)/,r=t.match(n),i=r&&r[1]?r[1]:void 0,[o,s,c]=qe(t.replace(n,""));return!o||!s||!c?null:{file:o,method:i||"",line:Number.parseInt(s),column:Number.parseInt(c)}}function He(e){const t=e.trim();return ze.test(t)?Yt(t):Gt(t)}function Yt(e){let t=e.trim();if(!ze.test(t))return null;t.includes("(eval ")&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));let n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,"");const r=n.match(/ (\(.+\)$)/);n=r?n.replace(r[0],""):n;const[i,o,s]=qe(r?r[1]:n);let c=r&&n||"",l=i&&["eval","<anonymous>"].includes(i)?void 0:i;return!l||!o||!s?null:(c.startsWith("async ")&&(c=c.slice(6)),l.startsWith("file://")&&(l=l.slice(7)),l=l.startsWith("node:")||l.startsWith("internal:")?l:Kt(l),c&&(c=c.replace(/__vite_ssr_import_\d+__\./g,"")),{method:c,file:l,line:Number.parseInt(o),column:Number.parseInt(s)})}var oe,Pe;function Qt(){if(Pe)return oe;Pe=1;var e,t,n,r,i,o,s,c,l,a,f,h,y,g,I,$,w,m,v,x;return g=/\/(?![*\/])(?:\[(?:[^\]\\\n\r\u2028\u2029]+|\\.)*\]?|[^\/[\\\n\r\u2028\u2029]+|\\.)*(\/[$_\u200C\u200D\p{ID_Continue}]*|\\)?/yu,y=/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![\/*]))=?|[?~,:;[\](){}]/y,t=/(\x23?)(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]+|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/yu,$=/(['"])(?:[^'"\\\n\r]+|(?!\1)['"]|\\(?:\r\n|[^]))*(\1)?/y,h=/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/y,w=/[`}](?:[^`\\$]+|\\[^]|\$(?!\{))*(`|\$\{)?/y,x=/[\t\v\f\ufeff\p{Zs}]+/yu,l=/\r?\n|[\r\u2028\u2029]/y,a=/\/\*(?:[^*]+|\*(?!\/))*(\*\/)?/y,I=/\/\/.*/y,e=/^#!.*/,r=/[<>.:={}]|\/(?![\/*])/y,n=/[$_\p{ID_Start}][$_\u200C\u200D\p{ID_Continue}-]*/yu,i=/(['"])(?:[^'"]+|(?!\1)['"])*(\1)?/y,o=/[^<>{}]+/y,v=/^(?:[\/+-]|\.{3}|\?(?:InterpolationIn(?:JSX|Template)|NoLineTerminatorHere|NonExpressionParenEnd|UnaryIncDec))?$|[{}([,;<>=*%&|^!~?:]$/,m=/^(?:=>|[;\]){}]|else|\?(?:NoLineTerminatorHere|NonExpressionParenEnd))?$/,s=/^(?:await|case|default|delete|do|else|instanceof|new|return|throw|typeof|void|yield)$/,c=/^(?:return|throw|yield)$/,f=RegExp(l.source),oe=function*(T,{jsx:P=!1}={}){var A,M,b,u,S,p,d,L,J,N,E,k,C,_;for({length:p}=T,u=0,S="",_=[{tag:"JS"}],A=[],E=0,k=!1,(d=e.exec(T))&&(yield{type:"HashbangComment",value:d[0]},u=d[0].length);u<p;){switch(L=_[_.length-1],L.tag){case"JS":case"JSNonExpressionParen":case"InterpolationInTemplate":case"InterpolationInJSX":if(T[u]==="/"&&(v.test(S)||s.test(S))&&(g.lastIndex=u,d=g.exec(T))){u=g.lastIndex,S=d[0],k=!0,yield{type:"RegularExpressionLiteral",value:d[0],closed:d[1]!==void 0&&d[1]!=="\\"};continue}if(y.lastIndex=u,d=y.exec(T)){switch(C=d[0],J=y.lastIndex,N=C,C){case"(":S==="?NonExpressionParenKeyword"&&_.push({tag:"JSNonExpressionParen",nesting:E}),E++,k=!1;break;case")":E--,k=!0,L.tag==="JSNonExpressionParen"&&E===L.nesting&&(_.pop(),N="?NonExpressionParenEnd",k=!1);break;case"{":y.lastIndex=0,b=!m.test(S)&&(v.test(S)||s.test(S)),A.push(b),k=!1;break;case"}":switch(L.tag){case"InterpolationInTemplate":if(A.length===L.nesting){w.lastIndex=u,d=w.exec(T),u=w.lastIndex,S=d[0],d[1]==="${"?(S="?InterpolationInTemplate",k=!1,yield{type:"TemplateMiddle",value:d[0]}):(_.pop(),k=!0,yield{type:"TemplateTail",value:d[0],closed:d[1]==="`"});continue}break;case"InterpolationInJSX":if(A.length===L.nesting){_.pop(),u+=1,S="}",yield{type:"JSXPunctuator",value:"}"};continue}}k=A.pop(),N=k?"?ExpressionBraceEnd":"}";break;case"]":k=!0;break;case"++":case"--":N=k?"?PostfixIncDec":"?UnaryIncDec";break;case"<":if(P&&(v.test(S)||s.test(S))){_.push({tag:"JSXTag"}),u+=1,S="<",yield{type:"JSXPunctuator",value:C};continue}k=!1;break;default:k=!1}u=J,S=N,yield{type:"Punctuator",value:C};continue}if(t.lastIndex=u,d=t.exec(T)){switch(u=t.lastIndex,N=d[0],d[0]){case"for":case"if":case"while":case"with":S!=="."&&S!=="?."&&(N="?NonExpressionParenKeyword")}S=N,k=!s.test(d[0]),yield{type:d[1]==="#"?"PrivateIdentifier":"IdentifierName",value:d[0]};continue}if($.lastIndex=u,d=$.exec(T)){u=$.lastIndex,S=d[0],k=!0,yield{type:"StringLiteral",value:d[0],closed:d[2]!==void 0};continue}if(h.lastIndex=u,d=h.exec(T)){u=h.lastIndex,S=d[0],k=!0,yield{type:"NumericLiteral",value:d[0]};continue}if(w.lastIndex=u,d=w.exec(T)){u=w.lastIndex,S=d[0],d[1]==="${"?(S="?InterpolationInTemplate",_.push({tag:"InterpolationInTemplate",nesting:A.length}),k=!1,yield{type:"TemplateHead",value:d[0]}):(k=!0,yield{type:"NoSubstitutionTemplate",value:d[0],closed:d[1]==="`"});continue}break;case"JSXTag":case"JSXTagEnd":if(r.lastIndex=u,d=r.exec(T)){switch(u=r.lastIndex,N=d[0],d[0]){case"<":_.push({tag:"JSXTag"});break;case">":_.pop(),S==="/"||L.tag==="JSXTagEnd"?(N="?JSX",k=!0):_.push({tag:"JSXChildren"});break;case"{":_.push({tag:"InterpolationInJSX",nesting:A.length}),N="?InterpolationInJSX",k=!1;break;case"/":S==="<"&&(_.pop(),_[_.length-1].tag==="JSXChildren"&&_.pop(),_.push({tag:"JSXTagEnd"}))}S=N,yield{type:"JSXPunctuator",value:d[0]};continue}if(n.lastIndex=u,d=n.exec(T)){u=n.lastIndex,S=d[0],yield{type:"JSXIdentifier",value:d[0]};continue}if(i.lastIndex=u,d=i.exec(T)){u=i.lastIndex,S=d[0],yield{type:"JSXString",value:d[0],closed:d[2]!==void 0};continue}break;case"JSXChildren":if(o.lastIndex=u,d=o.exec(T)){u=o.lastIndex,S=d[0],yield{type:"JSXText",value:d[0]};continue}switch(T[u]){case"<":_.push({tag:"JSXTag"}),u++,S="<",yield{type:"JSXPunctuator",value:"<"};continue;case"{":_.push({tag:"InterpolationInJSX",nesting:A.length}),u++,S="?InterpolationInJSX",k=!1,yield{type:"JSXPunctuator",value:"{"};continue}}if(x.lastIndex=u,d=x.exec(T)){u=x.lastIndex,yield{type:"WhiteSpace",value:d[0]};continue}if(l.lastIndex=u,d=l.exec(T)){u=l.lastIndex,k=!1,c.test(S)&&(S="?NoLineTerminatorHere"),yield{type:"LineTerminatorSequence",value:d[0]};continue}if(a.lastIndex=u,d=a.exec(T)){u=a.lastIndex,f.test(d[0])&&(k=!1,c.test(S)&&(S="?NoLineTerminatorHere")),yield{type:"MultiLineComment",value:d[0],closed:d[1]!==void 0};continue}if(I.lastIndex=u,d=I.exec(T)){u=I.lastIndex,k=!1,yield{type:"SingleLineComment",value:d[0]};continue}M=String.fromCodePoint(T.codePointAt(u)),u+=M.length,S=M,k=!1,yield{type:L.tag.startsWith("JSX")?"JSXInvalid":"Invalid",value:M}}},oe}var en=Qt();const tn=rt(en),Je=" ";function nn(e,t,n){if(e.type==="SingleLineComment")return Je.repeat(e.value.length);if(e.type==="MultiLineComment")return e.value.replace(/[^\n]/g,Je);if(e.type==="StringLiteral"){if(!e.closed)return e.value;const r=e.value.slice(1,-1);if(n(r))return e.value[0]+t.repeat(r.length)+e.value[e.value.length-1]}if(e.type==="NoSubstitutionTemplate"){const r=e.value.slice(1,-1);if(n(r))return`\`${r.replace(/[^\n]/g,t)}\``}if(e.type==="RegularExpressionLiteral"){const r=e.value;if(n(r))return r.replace(/\/(.*)\/(\w?)$/g,(i,o,s)=>`/${t.repeat(o.length)}/${s}`)}if(e.type==="TemplateHead"){const r=e.value.slice(1,-2);if(n(r))return`\`${r.replace(/[^\n]/g,t)}\${`}if(e.type==="TemplateTail"){const r=e.value.slice(0,-2);if(n(r))return`}${r.replace(/[^\n]/g,t)}\``}if(e.type==="TemplateMiddle"){const r=e.value.slice(1,-2);if(n(r))return`}${r.replace(/[^\n]/g,t)}\${`}return e.value}function rn(e){return{fillChar:" ",filter:(()=>!0)}}function sn(e,t){let n="";const r=rn();for(const i of tn(e,{jsx:!1}))n+=nn(i,r.fillChar,r.filter);return n}class on extends Error{code="VITEST_PENDING";taskId;constructor(t,n,r){super(t),this.message=t,this.note=r,this.taskId=n.id}}const Ve=new WeakMap,Ke=new WeakMap,Ue=new WeakMap;function cn(e,t){Ve.set(e,t)}function Bn(e){return Ve.get(e)}function an(e,t){Ke.set(e,t)}function ln(e){return Ke.get(e)}function un(e,t){Ue.set(e,t)}function fn(e){return Ue.get(e)}function dn(e,t){const n=t.reduce((o,s)=>(o[s.prop]=s,o),{}),r={};e.forEach(o=>{const s=n[o.prop]||{...o};r[s.prop]=s});for(const o in r){var i;const s=r[o];s.deps=(i=s.deps)===null||i===void 0?void 0:i.map(c=>r[c.prop])}return Object.values(r)}function Ze(e,t,n){const r=["auto","injected","scope"],i=Object.entries(e).map(([o,s])=>{const c={value:s};if(Array.isArray(s)&&s.length>=2&&We(s[1])&&Object.keys(s[1]).some(a=>r.includes(a))){var l;Object.assign(c,s[1]);const a=s[0];c.value=c.injected?((l=n.injectValue)===null||l===void 0?void 0:l.call(n,o))??a:a}return c.scope=c.scope||"test",c.scope==="worker"&&!n.getWorkerContext&&(c.scope="file"),c.prop=o,c.isFn=typeof c.value=="function",c});return Array.isArray(t.fixtures)?t.fixtures=t.fixtures.concat(i):t.fixtures=i,i.forEach(o=>{if(o.isFn){const c=Ye(o.value);if(c.length&&(o.deps=t.fixtures.filter(({prop:l})=>l!==o.prop&&c.includes(l))),o.scope!=="test"){var s;(s=o.deps)===null||s===void 0||s.forEach(l=>{if(l.isFn&&!(o.scope==="worker"&&l.scope==="worker")&&!(o.scope==="file"&&l.scope!=="test"))throw new SyntaxError(`cannot use the ${l.scope} fixture "${l.prop}" inside the ${o.scope} fixture "${o.prop}"`)})}}}),t}const ce=new Map,H=new Map;function pn(e,t,n){return r=>{const i=r||n;if(!i)return t({});const o=ln(i);if(!o?.length)return t(i);const s=Ye(t),c=o.some(({auto:g})=>g);if(!s.length&&!c)return t(i);ce.get(i)||ce.set(i,new Map);const l=ce.get(i);H.has(i)||H.set(i,[]);const a=H.get(i),f=o.filter(({prop:g,auto:I})=>I||s.includes(g)),h=Ge(f);if(!h.length)return t(i);async function y(){for(const g of h){if(l.has(g))continue;const I=await hn(e,g,i,a);i[g.prop]=I,l.set(g,I),g.scope==="test"&&a.unshift(()=>{l.delete(g)})}}return y().then(()=>t(i))}}const Z=new WeakMap;function hn(e,t,n,r){var i;const o=Ln(n.task.file),s=(i=e.getWorkerContext)===null||i===void 0?void 0:i.call(e);if(!t.isFn){var c;if(o[c=t.prop]??(o[c]=t.value),s){var l;s[l=t.prop]??(s[l]=t.value)}return t.value}if(t.scope==="test")return Le(t.value,n,r);if(Z.has(t))return Z.get(t);let a;if(t.scope==="worker"){if(!s)throw new TypeError("[@vitest/runner] The worker context is not available in the current test runner. Please, provide the `getWorkerContext` method when initiating the runner.");a=s}else a=o;if(t.prop in a)return a[t.prop];H.has(a)||H.set(a,[]);const f=H.get(a),h=Le(t.value,a,f).then(y=>(a[t.prop]=y,Z.delete(t),y));return Z.set(t,h),h}async function Le(e,t,n){const r=Ee();let i=!1;const o=e(t,async s=>{i=!0,r.resolve(s);const c=Ee();n.push(async()=>{c.resolve(),await o}),await c}).catch(s=>{if(!i){r.reject(s);return}throw s});return r}function Ge(e,t=new Set,n=[]){return e.forEach(r=>{if(!n.includes(r)){if(!r.isFn||!r.deps){n.push(r);return}if(t.has(r))throw new Error(`Circular fixture dependency detected: ${r.prop} <- ${[...t].reverse().map(i=>i.prop).join(" <- ")}`);t.add(r),Ge(r.deps,t,n),n.push(r),t.clear()}}),n}function Ye(e){let t=sn(e.toString());/__async\((?:this|null), (?:null|arguments|\[[_0-9, ]*\]), function\*/.test(t)&&(t=t.split(/__async\((?:this|null),/)[1]);const n=t.match(/[^(]*\(([^)]*)/);if(!n)return[];const r=Fe(n[1]);if(!r.length)return[];let i=r[0];if("__VITEST_FIXTURE_INDEX__"in e&&(i=r[e.__VITEST_FIXTURE_INDEX__],!i))return[];if(!(i.startsWith("{")&&i.endsWith("}")))throw new Error(`The first argument inside a fixture must use object destructuring pattern, e.g. ({ test } => {}). Instead, received "${i}".`);const o=i.slice(1,-1).replace(/\s/g,""),s=Fe(o).map(l=>l.replace(/:.*|=.*/g,"")),c=s.at(-1);if(c&&c.startsWith("..."))throw new Error(`Rest parameters are not supported in fixtures, received "${c}".`);return s}function Fe(e){const t=[],n=[];let r=0;for(let o=0;o<e.length;o++)if(e[o]==="{"||e[o]==="[")n.push(e[o]==="{"?"}":"]");else if(e[o]===n[n.length-1])n.pop();else if(!n.length&&e[o]===","){const s=e.substring(r,o).trim();s&&t.push(s),r=o+1}const i=e.substring(r).trim();return i&&t.push(i),t}let gn;function Dn(){return gn}function pe(e,t){function n(i){const o=function(...s){return t.apply(i,s)};Object.assign(o,t),o.withContext=()=>o.bind(i),o.setContext=(s,c)=>{i[s]=c},o.mergeContext=s=>{Object.assign(i,s)};for(const s of e)Object.defineProperty(o,s,{get(){return n({...i,[s]:!0})}});return o}const r=n({});return r.fn=t,r}const K=vn();he(function(e,t,n){ee().test.fn.call(this,W(e),t,n)});let j,Qe,yn;function et(e,t){if(!e)throw new Error(`Vitest failed to find ${t}. This is a bug in Vitest. Please, open an issue with reproduction.`)}function mn(){return yn}function bn(){return et(j,"the runner"),j}function ee(){const e=B.currentSuite||Qe;return et(e,"the current suite"),e}function Sn(){return{beforeAll:[],afterAll:[],beforeEach:[],afterEach:[]}}function z(e,t){let n={},r=()=>{};if(typeof t=="object"){if(typeof e=="object")throw new TypeError("Cannot use two objects as arguments. Please provide options and a function callback in that order.");console.warn("Using an object as a third argument is deprecated. Vitest 4 will throw an error if the third argument is not a timeout number. Please use the second argument for options. See more at https://vitest.dev/guide/migration"),n=t}else typeof t=="number"?n={timeout:t}:typeof e=="object"&&(n=e);if(typeof e=="function"){if(typeof t=="function")throw new TypeError("Cannot use two functions as arguments. Please use the second argument for options.");r=e}else typeof t=="function"&&(r=t);return{options:n,handler:r}}function In(e,t=()=>{},n,r,i,o){const s=[];let c;g();const l=function(w="",m={}){var v;const x=m?.timeout??j.config.testTimeout,T={id:"",name:w,suite:(v=B.currentSuite)===null||v===void 0?void 0:v.suite,each:m.each,fails:m.fails,context:void 0,type:"test",file:void 0,timeout:x,retry:m.retry??j.config.retry,repeats:m.repeats,mode:m.only?"only":m.skip?"skip":m.todo?"todo":"run",meta:m.meta??Object.create(null),annotations:[]},P=m.handler;(m.concurrent||!m.sequential&&j.config.sequence.concurrent)&&(T.concurrent=!0),T.shuffle=i?.shuffle;const A=Nn(T,j);Object.defineProperty(T,"context",{value:A,enumerable:!1}),an(A,m.fixtures);const M=Error.stackTraceLimit;Error.stackTraceLimit=15;const b=new Error("STACK_TRACE_ERROR");if(Error.stackTraceLimit=M,P&&cn(T,ue(xn(pn(j,P,A),T),x,!1,b,(u,S)=>_n([A],S))),j.config.includeTaskLocation){const u=b.stack,S=Tn(u);S&&(T.location=S)}return s.push(T),T},a=he(function(w,m,v){let{options:x,handler:T}=z(m,v);typeof i=="object"&&(x=Object.assign({},i,x)),x.concurrent=this.concurrent||!this.sequential&&x?.concurrent,x.sequential=this.sequential||!this.concurrent&&x?.sequential;const P=l(W(w),{...this,...x,handler:T});P.type="test"});let f=o;const h={type:"collector",name:e,mode:n,suite:c,options:i,test:a,tasks:s,collect:$,task:l,clear:I,on:y,fixtures(){return f},scoped(w){const m=Ze(w,{fixtures:f},j);m.fixtures&&(f=m.fixtures)}};function y(w,...m){fn(c)[w].push(...m)}function g(w){var m;typeof i=="number"&&(i={timeout:i}),c={id:"",type:"suite",name:e,suite:(m=B.currentSuite)===null||m===void 0?void 0:m.suite,mode:n,each:r,file:void 0,shuffle:i?.shuffle,tasks:[],meta:Object.create(null),concurrent:i?.concurrent},un(c,Sn())}function I(){s.length=0,g()}async function $(w){if(!w)throw new TypeError("File is required to collect tasks.");t&&await Cn(h,()=>t(a));const m=[];for(const v of s)m.push(v.type==="collector"?await v.collect(w):v);return c.file=w,c.tasks=m,m.forEach(v=>{v.file=w}),c}return kn(h),h}function xn(e,t){return async(...n)=>{const r=await e(...n);if(t.promises){const o=(await Promise.allSettled(t.promises)).map(s=>s.status==="rejected"?s.reason:void 0).filter(Boolean);if(o.length)throw o}return r}}function vn(){function e(t,n,r){var i;const o=this.only?"only":this.skip?"skip":this.todo?"todo":"run",s=B.currentSuite||Qe;let{options:c,handler:l}=z(n,r);const a=c.concurrent||this.concurrent||c.sequential===!1,f=c.sequential||this.sequential||c.concurrent===!1;c={...s?.options,...c,shuffle:this.shuffle??c.shuffle??(s==null||(i=s.options)===null||i===void 0?void 0:i.shuffle)??void 0};const h=a||c.concurrent&&!f,y=f||c.sequential&&!a;return c.concurrent=h&&!y,c.sequential=y&&!h,In(W(t),l,o,this.each,c,s?.fixtures())}return e.each=function(t,...n){const r=this.withContext();return this.setContext("each",!0),Array.isArray(t)&&n.length&&(t=te(t,n)),(i,o,s)=>{const c=W(i),l=t.every(Array.isArray),{options:a,handler:f}=z(o,s),h=typeof o=="function"&&typeof s=="object";t.forEach((y,g)=>{const I=Array.isArray(y)?y:[y];h?l?r(R(c,I,g),()=>f(...I),a):r(R(c,I,g),()=>f(y),a):l?r(R(c,I,g),a,()=>f(...I)):r(R(c,I,g),a,()=>f(y))}),this.setContext("each",void 0)}},e.for=function(t,...n){return Array.isArray(t)&&n.length&&(t=te(t,n)),(r,i,o)=>{const s=W(r),{options:c,handler:l}=z(i,o);t.forEach((a,f)=>{K(R(s,Oe(a),f),c,()=>l(a))})}},e.skipIf=t=>t?K.skip:K,e.runIf=t=>t?K:K.skip,pe(["concurrent","sequential","shuffle","skip","only","todo"],e)}function wn(e,t){const n=e;n.each=function(i,...o){const s=this.withContext();return this.setContext("each",!0),Array.isArray(i)&&o.length&&(i=te(i,o)),(c,l,a)=>{const f=W(c),h=i.every(Array.isArray),{options:y,handler:g}=z(l,a),I=typeof l=="function"&&typeof a=="object";i.forEach(($,w)=>{const m=Array.isArray($)?$:[$];I?h?s(R(f,m,w),()=>g(...m),y):s(R(f,m,w),()=>g($),y):h?s(R(f,m,w),y,()=>g(...m)):s(R(f,m,w),y,()=>g($))}),this.setContext("each",void 0)}},n.for=function(i,...o){const s=this.withContext();return Array.isArray(i)&&o.length&&(i=te(i,o)),(c,l,a)=>{const f=W(c),{options:h,handler:y}=z(l,a);i.forEach((g,I)=>{const $=w=>y(g,w);$.__VITEST_FIXTURE_INDEX__=1,$.toString=()=>y.toString(),s(R(f,Oe(g),I),h,$)})}},n.skipIf=function(i){return i?this.skip:this},n.runIf=function(i){return i?this:this.skip},n.scoped=function(i){ee().scoped(i)},n.extend=function(i){const o=Ze(i,t||{},j),s=e;return he(function(c,l,a){const h=ee().fixtures(),y={...this};h&&(y.fixtures=dn(y.fixtures||[],h));const{handler:g,options:I}=z(l,a),$=I.timeout??void 0;s.call(y,W(c),g,$)},o)};const r=pe(["concurrent","sequential","skip","only","todo","fails"],n);return t&&r.mergeContext(t),r}function he(e,t){return wn(e,t)}function W(e){return typeof e=="string"?e:typeof e=="function"?e.name||"<anonymous>":String(e)}function R(e,t,n){(e.includes("%#")||e.includes("%$"))&&(e=e.replace(/%%/g,"__vitest_escaped_%__").replace(/%#/g,`${n}`).replace(/%\$/g,`${n+1}`).replace(/__vitest_escaped_%__/g,"%%"));const r=e.split("%").length-1;e.includes("%f")&&(e.match(/%f/g)||[]).forEach((c,l)=>{if(Ot(t[l])||Object.is(t[l],-0)){let a=0;e=e.replace(/%f/g,f=>(a++,a===l+1?"-%f":f))}});let i=jt(e,...t.slice(0,r));const o=We(t[0]);return i=i.replace(/\$([$\w.]+)/g,(s,c)=>{const l=/^\d+$/.test(c);if(!o&&!l)return`$${c}`;const a=l?$e(t,c):void 0,f=o?$e(t[0],c,a):a;return Rt(f,{truncate:void 0})}),i}function te(e,t){const n=e.join("").trim().replace(/ /g,"").split(`
`).map(i=>i.split("|"))[0],r=[];for(let i=0;i<Math.floor(t.length/n.length);i++){const o={};for(let s=0;s<n.length;s++)o[n[s]]=t[i*n.length+s];r.push(o)}return r}function Tn(e){const t=mn(),n=e.split(`
`).slice(1);for(const r of n){const i=He(r);if(i&&i.file===t)return{line:i.line,column:i.column}}}globalThis.performance?globalThis.performance.now.bind(globalThis.performance):Date.now;globalThis.performance?globalThis.performance.now.bind(globalThis.performance):Date.now;De();const ae=new Map,Xe=[],Q=[];function $n(e){if(ae.size){var t;const n=Array.from(ae).map(([i,o])=>[i,o[0],o[1]]),r=(t=e.onTaskUpdate)===null||t===void 0?void 0:t.call(e,n,Xe);r&&(Q.push(r),r.then(()=>Q.splice(Q.indexOf(r),1),()=>{})),Xe.length=0,ae.clear()}}async function En(e){$n(e),await Promise.all(Q)}const je=Date.now,B={currentSuite:null};function kn(e){var t;(t=B.currentSuite)===null||t===void 0||t.tasks.push(e)}async function Cn(e,t){const n=B.currentSuite;B.currentSuite=e,await t(),B.currentSuite=n}function ue(e,t,n=!1,r,i){if(t<=0||t===Number.POSITIVE_INFINITY)return e;const{setTimeout:o,clearTimeout:s}=De();return function(...l){const a=je(),f=bn();return f._currentTaskStartTime=a,f._currentTaskTimeout=t,new Promise((h,y)=>{var g;const I=o(()=>{s(I),$()},t);(g=I.unref)===null||g===void 0||g.call(I);function $(){const v=Pn(n,t,r);i?.(l,v),y(v)}function w(v){if(f._currentTaskStartTime=void 0,f._currentTaskTimeout=void 0,s(I),je()-a>=t){$();return}h(v)}function m(v){f._currentTaskStartTime=void 0,f._currentTaskTimeout=void 0,s(I),y(v)}try{const v=e(...l);typeof v=="object"&&v!=null&&typeof v.then=="function"?v.then(w,m):w(v)}catch(v){m(v)}})}}const fe=new WeakMap;function _n([e],t){e&&An(e,t)}function An(e,t){const n=fe.get(e);n?.abort(t)}function Nn(e,t){var n;const r=function(){throw new Error("done() callback is deprecated, use promise instead")};let i=fe.get(r);i||(i=new AbortController,fe.set(r,i)),r.signal=i.signal,r.task=e,r.skip=(s,c)=>{if(s!==!1)throw e.result??(e.result={state:"skip"}),e.result.pending=!0,new on("test is skipped; abort execution",e,typeof s=="string"?s:c)};async function o(s,c,l,a){const f={message:s,type:l||"notice"};if(a){if(!a.body&&!a.path)throw new TypeError("Test attachment requires body or path to be set. Both are missing.");if(a.body&&a.path)throw new TypeError('Test attachment requires only one of "body" or "path" to be set. Both are specified.');f.attachment=a,a.body instanceof Uint8Array&&(a.body=Fn(a.body))}if(c&&(f.location=c),!t.onTestAnnotate)throw new Error("Test runner doesn't support test annotations.");await En(t);const h=await t.onTestAnnotate(e,f);return e.annotations.push(h),h}return r.annotate=(s,c,l)=>{if(e.result&&e.result.state!=="run")throw new Error(`Cannot annotate tests outside of the test run. The test "${e.name}" finished running with the "${e.result.state}" state already.`);let a;const f=new Error("STACK_TRACE").stack,h=f.includes("STACK_TRACE")?2:1,y=f.split(`
`)[h],g=He(y);return g&&(a={file:g.file,line:g.line,column:g.column}),typeof c=="object"?Re(e,o(s,a,void 0,c)):Re(e,o(s,a,c,l))},r.onTestFailed=(s,c)=>{e.onFailed||(e.onFailed=[]),e.onFailed.push(ue(s,c??t.config.hookTimeout,!0,new Error("STACK_TRACE_ERROR"),(l,a)=>i.abort(a)))},r.onTestFinished=(s,c)=>{e.onFinished||(e.onFinished=[]),e.onFinished.push(ue(s,c??t.config.hookTimeout,!0,new Error("STACK_TRACE_ERROR"),(l,a)=>i.abort(a)))},((n=t.extendTaskContext)===null||n===void 0?void 0:n.call(t,r))||r}function Pn(e,t,n){const r=`${e?"Hook":"Test"} timed out in ${t}ms.
If this is a long-running ${e?"hook":"test"}, pass a timeout value as the last argument or configure it globally with "${e?"hookTimeout":"testTimeout"}".`,i=new Error(r);return n?.stack&&(i.stack=n.stack.replace(i.message,n.message)),i}const Jn=new WeakMap;function Ln(e){const t=Jn.get(e);if(!t)throw new Error(`Cannot find file context for ${e.name}`);return t}const F=[];for(let e=65;e<91;e++)F.push(String.fromCharCode(e));for(let e=97;e<123;e++)F.push(String.fromCharCode(e));for(let e=0;e<10;e++)F.push(e.toString(10));function Fn(e){let t="";const n=e.byteLength;for(let r=0;r<n;r+=3)if(n===r+1){const i=(e[r]&252)>>2,o=(e[r]&3)<<4;t+=F[i],t+=F[o],t+="=="}else if(n===r+2){const i=(e[r]&252)>>2,o=(e[r]&3)<<4|(e[r+1]&240)>>4,s=(e[r+1]&15)<<2;t+=F[i],t+=F[o],t+=F[s],t+="="}else{const i=(e[r]&252)>>2,o=(e[r]&3)<<4|(e[r+1]&240)>>4,s=(e[r+1]&15)<<2|(e[r+2]&192)>>6,c=e[r+2]&63;t+=F[i],t+=F[o],t+=F[s],t+=F[c]}return t}function Re(e,t){return t=t.finally(()=>{if(!e.promises)return;const n=e.promises.indexOf(t);n!==-1&&e.promises.splice(n,1)}),e.promises||(e.promises=[]),e.promises.push(t),t}const Xn="__vitest_worker__";function jn(){const e=globalThis[Xn];if(!e){const t=`Vitest failed to access its internal state.

One of the following is possible:
- "vitest" is imported directly without running "vitest" command
- "vitest" is imported inside "globalSetup" (to fix this, use "setupFiles" instead, because "globalSetup" runs in a different context)
- "vitest" is imported inside Vite / Vitest config file
- Otherwise, it might be a Vitest bug. Please report it to https://github.com/vitest-dev/vitest/issues
`;throw new Error(t)}return e}const tt=new WeakMap,nt=new WeakMap;function zn(e){return nt.get(e)}function qn(e){return tt.get(e)}Rn(function(e,t=Mt,n={}){if(jn().config.mode!=="benchmark")throw new Error("`bench()` is only available in benchmark mode.");const r=ee().task(Mn(e),{...this,meta:{benchmark:!0}});tt.set(r,t),nt.set(r,n)});function Rn(e){const t=pe(["skip","only","todo"],e);return t.skipIf=n=>n?t.skip:t,t.runIf=n=>n?t:t.skip,t}function Mn(e){return typeof e=="string"?e:typeof e=="function"?e.name||"<anonymous>":String(e)}export{pe as createChainable,wn as createTaskCollector,qn as getBenchFn,zn as getBenchOptions,ee as getCurrentSuite,Dn as getCurrentTest,Bn as getFn,fn as getHooks,cn as setFn,un as setHooks};
