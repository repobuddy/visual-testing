import{e as u}from"./index-CB-nUy61.js";import{a as g,b as c,g as m,t as S,c as d}from"./vitest_proxy-JAI5XIsJ.js";import"./vitest_suite_proxy-Cbtcj946.js";function l(e){return typeof e=="string"&&/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(e)}function h(e){if(!e||!(e instanceof Element))throw new Error(`Expected DOM element to be an instance of Element, received ${typeof e}`);return C(e)}function w(e){return e.split("").map(t=>{const n=t.charCodeAt(0);return t===" "||t==="#"||t==="."||t===":"||t==="["||t==="]"||t===">"||t==="+"||t==="~"||t==="\\"?`\\${t}`:n>=65536?`\\${n.toString(16).toUpperCase().padStart(6,"0")} `:n<32||n===127?`\\${n.toString(16).toUpperCase().padStart(2,"0")} `:n>=128?`\\${n.toString(16).toUpperCase().padStart(2,"0")} `:t}).join("")}function C(e){const t=[];let n,r=!1;for(;n=$(e);){n.shadowRoot&&(r=!0);const o=e.tagName;if(e.id)t.push(`#${w(e.id)}`);else if(!e.nextElementSibling&&!e.previousElementSibling)t.push(o.toLowerCase());else{let s=0,a=0,i=0;for(const f of n.children)s++,f.tagName===o&&a++,f===e&&(i=s);a>1?t.push(`${o.toLowerCase()}:nth-child(${i})`):t.push(o.toLowerCase())}e=n}return`${x().provider==="webdriverio"&&r?">>>":""}${t.reverse().join(" > ")}`}function $(e){const t=e.parentNode;return t instanceof ShadowRoot?t.host:t}function x(){return window.__vitest_browser_runner__}async function E(e,t,n,r){g(r==null?void 0:r.snapshotKey);const o=await e.prepareImageSnapshotComparison(t,I(n),r);if(o)return c(e,t,o,r)}function I(e){if(e instanceof Element)return h(e);if(e!=null&&e.selector)return e.selector;if(l(e))return e;throw new Error(`'toMatchImageSnapshot()' expects the subject to be an element, locator, or image encoded in base64 string, but got: ${e}`)}const p={pass:!0,message:()=>""};function v(e,t){const n=m();return n?E(d,S(n),e,t).then(()=>p):Promise.resolve(p)}u.extend({toMatchImageSnapshot:v});
