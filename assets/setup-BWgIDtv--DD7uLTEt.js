import{s as Wn,a as qo,t as Gt,r as ko,c as hr,m as oa,h as ia}from"./task_id-DnS9_4Ub-C-aZNWRk.js";import{g as aa,c as ca}from"./vitest_proxy-BLs0Du1Q.js";import{page as la,commands as pr}from"./context-Beh5KHTz.js";import{i as Re,p as dr,j as fs,C as re,k as Te,l as ua,m as Mt,n as fa,o as _t,q as Le,g as Lo,r as ha,t as pa}from"./utils.DvEY5TfP-COIdXPbh.js";import{_ as da}from"./preload-helper-PPVm8Dsz.js";function ma(e,t){const n=aa();return n?qo(ca,Gt(n),e,t).then(()=>Wn):Promise.resolve(Wn)}const{expect:ga}=__STORYBOOK_MODULE_TEST__;ga.extend({toMatchImageSnapshot:ma});function ya(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const pe=-1,ue=1,ne=0;class te{0;1;constructor(t,n){this[0]=t,this[1]=n}}function ba(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;let n=0,r=Math.min(e.length,t.length),s=r,o=0;for(;n<s;)e.substring(o,s)===t.substring(o,s)?(n=s,o=n):r=s,s=Math.floor((r-n)/2+n);return s}function Ro(e,t){if(!e||!t||e.charAt(e.length-1)!==t.charAt(t.length-1))return 0;let n=0,r=Math.min(e.length,t.length),s=r,o=0;for(;n<s;)e.substring(e.length-s,e.length-o)===t.substring(t.length-s,t.length-o)?(n=s,o=n):r=s,s=Math.floor((r-n)/2+n);return s}function hs(e,t){const n=e.length,r=t.length;if(n===0||r===0)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));const s=Math.min(n,r);if(e===t)return s;let o=0,i=1;for(;;){const c=e.substring(s-i),u=t.indexOf(c);if(u===-1)return o;i+=u,(u===0||e.substring(s-i)===t.substring(0,i))&&(o=i,i++)}}function wa(e){let t=!1;const n=[];let r=0,s=null,o=0,i=0,c=0,u=0,a=0;for(;o<e.length;)e[o][0]===ne?(n[r++]=o,i=u,c=a,u=0,a=0,s=e[o][1]):(e[o][0]===ue?u+=e[o][1].length:a+=e[o][1].length,s&&s.length<=Math.max(i,c)&&s.length<=Math.max(u,a)&&(e.splice(n[r-1],0,new te(pe,s)),e[n[r-1]+1][0]=ue,r--,r--,o=r>0?n[r-1]:-1,i=0,c=0,u=0,a=0,s=null,t=!0)),o++;for(t&&Bo(e),Ea(e),o=1;o<e.length;){if(e[o-1][0]===pe&&e[o][0]===ue){const l=e[o-1][1],h=e[o][1],m=hs(l,h),d=hs(h,l);m>=d?(m>=l.length/2||m>=h.length/2)&&(e.splice(o,0,new te(ne,h.substring(0,m))),e[o-1][1]=l.substring(0,l.length-m),e[o+1][1]=h.substring(m),o++):(d>=l.length/2||d>=h.length/2)&&(e.splice(o,0,new te(ne,l.substring(0,d))),e[o-1][0]=ue,e[o-1][1]=h.substring(0,h.length-d),e[o+1][0]=pe,e[o+1][1]=l.substring(d),o++),o++}o++}}const ps=/[^a-z0-9]/i,ds=/\s/,ms=/[\r\n]/,va=/\n\r?\n$/,Sa=/^\r?\n\r?\n/;function Ea(e){let t=1;for(;t<e.length-1;){if(e[t-1][0]===ne&&e[t+1][0]===ne){let n=e[t-1][1],r=e[t][1],s=e[t+1][1];const o=Ro(n,r);if(o){const l=r.substring(r.length-o);n=n.substring(0,n.length-o),r=l+r.substring(0,r.length-o),s=l+s}let i=n,c=r,u=s,a=At(n,r)+At(r,s);for(;r.charAt(0)===s.charAt(0);){n+=r.charAt(0),r=r.substring(1)+s.charAt(0),s=s.substring(1);const l=At(n,r)+At(r,s);l>=a&&(a=l,i=n,c=r,u=s)}e[t-1][1]!==i&&(i?e[t-1][1]=i:(e.splice(t-1,1),t--),e[t][1]=c,u?e[t+1][1]=u:(e.splice(t+1,1),t--))}t++}}function Bo(e){var t;e.push(new te(ne,""));let n=0,r=0,s=0,o="",i="",c;for(;n<e.length;)switch(e[n][0]){case ue:s++,i+=e[n][1],n++;break;case pe:r++,o+=e[n][1],n++;break;case ne:r+s>1?(r!==0&&s!==0&&(c=ba(i,o),c!==0&&(n-r-s>0&&e[n-r-s-1][0]===ne?e[n-r-s-1][1]+=i.substring(0,c):(e.splice(0,0,new te(ne,i.substring(0,c))),n++),i=i.substring(c),o=o.substring(c)),c=Ro(i,o),c!==0&&(e[n][1]=i.substring(i.length-c)+e[n][1],i=i.substring(0,i.length-c),o=o.substring(0,o.length-c))),n-=r+s,e.splice(n,r+s),o.length&&(e.splice(n,0,new te(pe,o)),n++),i.length&&(e.splice(n,0,new te(ue,i)),n++),n++):n!==0&&e[n-1][0]===ne?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,s=0,r=0,o="",i="";break}((t=e.at(-1))===null||t===void 0?void 0:t[1])===""&&e.pop();let u=!1;for(n=1;n<e.length-1;)e[n-1][0]===ne&&e[n+1][0]===ne&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)===e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),u=!0):e[n][1].substring(0,e[n+1][1].length)===e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),u=!0)),n++;u&&Bo(e)}function At(e,t){if(!e||!t)return 6;const n=e.charAt(e.length-1),r=t.charAt(0),s=n.match(ps),o=r.match(ps),i=s&&n.match(ds),c=o&&r.match(ds),u=i&&n.match(ms),a=c&&r.match(ms),l=u&&e.match(va),h=a&&t.match(Sa);return l||h?5:u||a?4:s&&!i&&c?3:i||c?2:s||o?1:0}const zo="Compared values have no visual difference.",xa="Compared values serialize to the same structure.\nPrinting internal object structure without calling `toJSON` instead.";var jt={},gs;function Ma(){if(gs)return jt;gs=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.default=m;const e="diff-sequences",t=0,n=(d,y,S,x,M)=>{let O=0;for(;d<y&&S<x&&M(d,S);)d+=1,S+=1,O+=1;return O},r=(d,y,S,x,M)=>{let O=0;for(;d<=y&&S<=x&&M(y,x);)y-=1,x-=1,O+=1;return O},s=(d,y,S,x,M,O,j)=>{let T=0,N=-d,A=O[T],P=A;O[T]+=n(A+1,y,x+A-N+1,S,M);const B=d<j?d:j;for(T+=1,N+=2;T<=B;T+=1,N+=2){if(T!==d&&P<O[T])A=O[T];else if(A=P+1,y<=A)return T-1;P=O[T],O[T]=A+n(A+1,y,x+A-N+1,S,M)}return j},o=(d,y,S,x,M,O,j)=>{let T=0,N=d,A=O[T],P=A;O[T]-=r(y,A-1,S,x+A-N-1,M);const B=d<j?d:j;for(T+=1,N-=2;T<=B;T+=1,N-=2){if(T!==d&&O[T]<P)A=O[T];else if(A=P-1,A<y)return T-1;P=O[T],O[T]=A-r(y,A-1,S,x+A-N-1,M)}return j},i=(d,y,S,x,M,O,j,T,N,A,P)=>{const B=x-y,se=S-y,X=M-x-se,Z=-X-(d-1),ie=-X+(d-1);let de=t;const H=d<T?d:T;for(let G=0,Q=-d;G<=H;G+=1,Q+=2){const ve=G===0||G!==d&&de<j[G],oe=ve?j[G]:de,fe=ve?oe:oe+1,$e=B+fe-Q,me=n(fe+1,S,$e+1,M,O),ye=fe+me;if(de=j[G],j[G]=ye,Z<=Q&&Q<=ie){const Fe=(d-1-(Q+X))/2;if(Fe<=A&&N[Fe]-1<=ye){const Me=B+oe-(ve?Q+1:Q-1),be=r(y,oe,x,Me,O),we=oe-be,et=Me-be,Ie=we+1,ft=et+1;P.nChangePreceding=d-1,d-1===Ie+ft-y-x?(P.aEndPreceding=y,P.bEndPreceding=x):(P.aEndPreceding=Ie,P.bEndPreceding=ft),P.nCommonPreceding=be,be!==0&&(P.aCommonPreceding=Ie,P.bCommonPreceding=ft),P.nCommonFollowing=me,me!==0&&(P.aCommonFollowing=fe+1,P.bCommonFollowing=$e+1);const he=ye+1,qe=$e+me+1;return P.nChangeFollowing=d-1,d-1===S+M-he-qe?(P.aStartFollowing=S,P.bStartFollowing=M):(P.aStartFollowing=he,P.bStartFollowing=qe),!0}}}return!1},c=(d,y,S,x,M,O,j,T,N,A,P)=>{const B=M-S,se=S-y,X=M-x-se,Z=X-d,ie=X+d;let de=t;const H=d<A?d:A;for(let G=0,Q=d;G<=H;G+=1,Q-=2){const ve=G===0||G!==d&&N[G]<de,oe=ve?N[G]:de,fe=ve?oe:oe-1,$e=B+fe-Q,me=r(y,fe-1,x,$e-1,O),ye=fe-me;if(de=N[G],N[G]=ye,Z<=Q&&Q<=ie){const Fe=(d+(Q-X))/2;if(Fe<=T&&ye-1<=j[Fe]){const Me=$e-me;if(P.nChangePreceding=d,d===ye+Me-y-x?(P.aEndPreceding=y,P.bEndPreceding=x):(P.aEndPreceding=ye,P.bEndPreceding=Me),P.nCommonPreceding=me,me!==0&&(P.aCommonPreceding=ye,P.bCommonPreceding=Me),P.nChangeFollowing=d-1,d===1)P.nCommonFollowing=0,P.aStartFollowing=S,P.bStartFollowing=M;else{const be=B+oe-(ve?Q-1:Q+1),we=n(oe,S,be,M,O);P.nCommonFollowing=we,we!==0&&(P.aCommonFollowing=oe,P.bCommonFollowing=be);const et=oe+we,Ie=be+we;d-1===S+M-et-Ie?(P.aStartFollowing=S,P.bStartFollowing=M):(P.aStartFollowing=et,P.bStartFollowing=Ie)}return!0}}}return!1},u=(d,y,S,x,M,O,j,T,N)=>{const A=x-y,P=M-S,B=S-y,se=M-x,z=se-B;let X=B,Z=B;if(j[0]=y-1,T[0]=S,z%2===0){const ie=(d||z)/2,de=(B+se)/2;for(let H=1;H<=de;H+=1)if(X=s(H,S,M,A,O,j,X),H<ie)Z=o(H,y,x,P,O,T,Z);else if(c(H,y,S,x,M,O,j,X,T,Z,N))return}else{const ie=((d||z)+1)/2,de=(B+se+1)/2;let H=1;for(X=s(H,S,M,A,O,j,X),H+=1;H<=de;H+=1)if(Z=o(H-1,y,x,P,O,T,Z),H<ie)X=s(H,S,M,A,O,j,X);else if(i(H,y,S,x,M,O,j,X,T,Z,N))return}throw new Error(`${e}: no overlap aStart=${y} aEnd=${S} bStart=${x} bEnd=${M}`)},a=(d,y,S,x,M,O,j,T,N,A)=>{if(M-x<S-y){if(O=!O,O&&j.length===1){const{foundSubsequence:ye,isCommon:Fe}=j[0];j[1]={foundSubsequence:(Me,be,we)=>{ye(Me,we,be)},isCommon:(Me,be)=>Fe(be,Me)}}const $e=y,me=S;y=x,S=M,x=$e,M=me}const{foundSubsequence:P,isCommon:B}=j[O?1:0];u(d,y,S,x,M,B,T,N,A);const{nChangePreceding:se,aEndPreceding:z,bEndPreceding:X,nCommonPreceding:Z,aCommonPreceding:ie,bCommonPreceding:de,nCommonFollowing:H,aCommonFollowing:G,bCommonFollowing:Q,nChangeFollowing:ve,aStartFollowing:oe,bStartFollowing:fe}=A;y<z&&x<X&&a(se,y,z,x,X,O,j,T,N,A),Z!==0&&P(Z,ie,de),H!==0&&P(H,G,Q),oe<S&&fe<M&&a(ve,oe,S,fe,M,O,j,T,N,A)},l=(d,y)=>{if(typeof y!="number")throw new TypeError(`${e}: ${d} typeof ${typeof y} is not a number`);if(!Number.isSafeInteger(y))throw new RangeError(`${e}: ${d} value ${y} is not a safe integer`);if(y<0)throw new RangeError(`${e}: ${d} value ${y} is a negative integer`)},h=(d,y)=>{const S=typeof y;if(S!=="function")throw new TypeError(`${e}: ${d} typeof ${S} is not a function`)};function m(d,y,S,x){l("aLength",d),l("bLength",y),h("isCommon",S),h("foundSubsequence",x);const M=n(0,d,0,y,S);if(M!==0&&x(M,0,0),d!==M||y!==M){const O=M,j=M,T=r(O,d-1,j,y-1,S),N=d-T,A=y-T,P=M+T;d!==P&&y!==P&&a(0,O,N,j,A,!1,[{foundSubsequence:x,isCommon:S}],[t],[t],{aCommonFollowing:t,aCommonPreceding:t,aEndPreceding:t,aStartFollowing:t,bCommonFollowing:t,bCommonPreceding:t,bEndPreceding:t,bStartFollowing:t,nChangeFollowing:t,nChangePreceding:t,nCommonFollowing:t,nCommonPreceding:t}),T!==0&&x(T,N,A)}}return jt}var Ta=Ma(),Vo=ya(Ta);function Oa(e,t){return e.replace(/\s+$/,n=>t(n))}function mr(e,t,n,r,s,o){return e.length!==0?n(`${r} ${Oa(e,s)}`):r!==" "?n(r):t&&o.length!==0?n(`${r} ${o}`):""}function Wo(e,t,{aColor:n,aIndicator:r,changeLineTrailingSpaceColor:s,emptyFirstOrLastLinePlaceholder:o}){return mr(e,t,n,r,s,o)}function Uo(e,t,{bColor:n,bIndicator:r,changeLineTrailingSpaceColor:s,emptyFirstOrLastLinePlaceholder:o}){return mr(e,t,n,r,s,o)}function Ko(e,t,{commonColor:n,commonIndicator:r,commonLineTrailingSpaceColor:s,emptyFirstOrLastLinePlaceholder:o}){return mr(e,t,n,r,s,o)}function ys(e,t,n,r,{patchColor:s}){return s(`@@ -${e+1},${t-e} +${n+1},${r-n} @@`)}function $a(e,t){const n=e.length,r=t.contextLines,s=r+r;let o=n,i=!1,c=0,u=0;for(;u!==n;){const T=u;for(;u!==n&&e[u][0]===ne;)u+=1;if(T!==u)if(T===0)u>r&&(o-=u-r,i=!0);else if(u===n){const N=u-T;N>r&&(o-=N-r,i=!0)}else{const N=u-T;N>s&&(o-=N-s,c+=1)}for(;u!==n&&e[u][0]!==ne;)u+=1}const a=c!==0||i;c!==0?o+=c+1:i&&(o+=1);const l=o-1,h=[];let m=0;a&&h.push("");let d=0,y=0,S=0,x=0;const M=T=>{const N=h.length;h.push(Ko(T,N===0||N===l,t)),S+=1,x+=1},O=T=>{const N=h.length;h.push(Wo(T,N===0||N===l,t)),S+=1},j=T=>{const N=h.length;h.push(Uo(T,N===0||N===l,t)),x+=1};for(u=0;u!==n;){let T=u;for(;u!==n&&e[u][0]===ne;)u+=1;if(T!==u)if(T===0){u>r&&(T=u-r,d=T,y=T,S=d,x=y);for(let N=T;N!==u;N+=1)M(e[N][1])}else if(u===n){const N=u-T>r?T+r:u;for(let A=T;A!==N;A+=1)M(e[A][1])}else{const N=u-T;if(N>s){const A=T+r;for(let B=T;B!==A;B+=1)M(e[B][1]);h[m]=ys(d,S,y,x,t),m=h.length,h.push("");const P=N-s;d=S+P,y=x+P,S=d,x=y;for(let B=u-r;B!==u;B+=1)M(e[B][1])}else for(let A=T;A!==u;A+=1)M(e[A][1])}for(;u!==n&&e[u][0]===pe;)O(e[u][1]),u+=1;for(;u!==n&&e[u][0]===ue;)j(e[u][1]),u+=1}return a&&(h[m]=ys(d,S,y,x,t)),h.join(`
`)}function Pa(e,t){return e.map((n,r,s)=>{const o=n[1],i=r===0||r===s.length-1;switch(n[0]){case pe:return Wo(o,i,t);case ue:return Uo(o,i,t);default:return Ko(o,i,t)}}).join(`
`)}const pn=e=>e,Go=5,Na=0;function Ca(){return{aAnnotation:"Expected",aColor:re.green,aIndicator:"-",bAnnotation:"Received",bColor:re.red,bIndicator:"+",changeColor:re.inverse,changeLineTrailingSpaceColor:pn,commonColor:re.dim,commonIndicator:" ",commonLineTrailingSpaceColor:pn,compareKeys:void 0,contextLines:Go,emptyFirstOrLastLinePlaceholder:"",expand:!1,includeChangeCounts:!1,omitAnnotationLines:!1,patchColor:re.yellow,printBasicPrototype:!1,truncateThreshold:Na,truncateAnnotation:"... Diff result is truncated",truncateAnnotationColor:pn}}function Aa(e){return e&&typeof e=="function"?e:void 0}function ja(e){return typeof e=="number"&&Number.isSafeInteger(e)&&e>=0?e:Go}function Qe(e={}){return{...Ca(),...e,compareKeys:Aa(e.compareKeys),contextLines:ja(e.contextLines)}}function nt(e){return e.length===1&&e[0].length===0}function Ia(e){let t=0,n=0;return e.forEach(r=>{switch(r[0]){case pe:t+=1;break;case ue:n+=1;break}}),{a:t,b:n}}function _a({aAnnotation:e,aColor:t,aIndicator:n,bAnnotation:r,bColor:s,bIndicator:o,includeChangeCounts:i,omitAnnotationLines:c},u){if(c)return"";let a="",l="";if(i){const d=String(u.a),y=String(u.b),S=r.length-e.length,x=" ".repeat(Math.max(0,S)),M=" ".repeat(Math.max(0,-S)),O=y.length-d.length,j=" ".repeat(Math.max(0,O)),T=" ".repeat(Math.max(0,-O));a=`${x}  ${n} ${j}${d}`,l=`${M}  ${o} ${T}${y}`}const h=`${n} ${e}${a}`,m=`${o} ${r}${l}`;return`${t(h)}
${s(m)}

`}function gr(e,t,n){return _a(n,Ia(e))+(n.expand?Pa(e,n):$a(e,n))+(t?n.truncateAnnotationColor(`
${n.truncateAnnotation}`):"")}function Jt(e,t,n){const r=Qe(n),[s,o]=Jo(nt(e)?[]:e,nt(t)?[]:t,r);return gr(s,o,r)}function Da(e,t,n,r,s){if(nt(e)&&nt(n)&&(e=[],n=[]),nt(t)&&nt(r)&&(t=[],r=[]),e.length!==n.length||t.length!==r.length)return Jt(e,t,s);const[o,i]=Jo(n,r,s);let c=0,u=0;return o.forEach(a=>{switch(a[0]){case pe:a[1]=e[c],c+=1;break;case ue:a[1]=t[u],u+=1;break;default:a[1]=t[u],c+=1,u+=1}}),gr(o,i,Qe(s))}function Jo(e,t,n){const r=n?.truncateThreshold??!1,s=Math.max(Math.floor(n?.truncateThreshold??0),0),o=r?Math.min(e.length,s):e.length,i=r?Math.min(t.length,s):t.length,c=o!==e.length||i!==t.length,u=(d,y)=>e[d]===t[y],a=[];let l=0,h=0;for(Vo(o,i,u,(d,y,S)=>{for(;l!==y;l+=1)a.push(new te(pe,e[l]));for(;h!==S;h+=1)a.push(new te(ue,t[h]));for(;d!==0;d-=1,l+=1,h+=1)a.push(new te(ne,t[h]))});l!==o;l+=1)a.push(new te(pe,e[l]));for(;h!==i;h+=1)a.push(new te(ue,t[h]));return[a,c]}function bs(e){if(e===void 0)return"undefined";if(e===null)return"null";if(Array.isArray(e))return"array";if(typeof e=="boolean")return"boolean";if(typeof e=="function")return"function";if(typeof e=="number")return"number";if(typeof e=="string")return"string";if(typeof e=="bigint")return"bigint";if(typeof e=="object"){if(e!=null){if(e.constructor===RegExp)return"regexp";if(e.constructor===Map)return"map";if(e.constructor===Set)return"set";if(e.constructor===Date)return"date"}return"object"}else if(typeof e=="symbol")return"symbol";throw new Error(`value of unknown type: ${e}`)}function ws(e){return e.includes(`\r
`)?`\r
`:`
`}function Fa(e,t,n){const r=n?.truncateThreshold??!1,s=Math.max(Math.floor(n?.truncateThreshold??0),0);let o=e.length,i=t.length;if(r){const d=e.includes(`
`),y=t.includes(`
`),S=ws(e),x=ws(t),M=d?`${e.split(S,s).join(S)}
`:e,O=y?`${t.split(x,s).join(x)}
`:t;o=M.length,i=O.length}const c=o!==e.length||i!==t.length,u=(d,y)=>e[d]===t[y];let a=0,l=0;const h=[];return Vo(o,i,u,(d,y,S)=>{a!==y&&h.push(new te(pe,e.slice(a,y))),l!==S&&h.push(new te(ue,t.slice(l,S))),a=y+d,l=S+d,h.push(new te(ne,t.slice(S,l)))}),a!==o&&h.push(new te(pe,e.slice(a))),l!==i&&h.push(new te(ue,t.slice(l))),[h,c]}function qa(e,t,n){return t.reduce((r,s)=>r+(s[0]===ne?s[1]:s[0]===e&&s[1].length!==0?n(s[1]):""),"")}class vs{op;line;lines;changeColor;constructor(t,n){this.op=t,this.line=[],this.lines=[],this.changeColor=n}pushSubstring(t){this.pushDiff(new te(this.op,t))}pushLine(){this.lines.push(this.line.length!==1?new te(this.op,qa(this.op,this.line,this.changeColor)):this.line[0][0]===this.op?this.line[0]:new te(this.op,this.line[0][1])),this.line.length=0}isLineEmpty(){return this.line.length===0}pushDiff(t){this.line.push(t)}align(t){const n=t[1];if(n.includes(`
`)){const r=n.split(`
`),s=r.length-1;r.forEach((o,i)=>{i<s?(this.pushSubstring(o),this.pushLine()):o.length!==0&&this.pushSubstring(o)})}else this.pushDiff(t)}moveLinesTo(t){this.isLineEmpty()||this.pushLine(),t.push(...this.lines),this.lines.length=0}}class ka{deleteBuffer;insertBuffer;lines;constructor(t,n){this.deleteBuffer=t,this.insertBuffer=n,this.lines=[]}pushDiffCommonLine(t){this.lines.push(t)}pushDiffChangeLines(t){const n=t[1].length===0;(!n||this.deleteBuffer.isLineEmpty())&&this.deleteBuffer.pushDiff(t),(!n||this.insertBuffer.isLineEmpty())&&this.insertBuffer.pushDiff(t)}flushChangeLines(){this.deleteBuffer.moveLinesTo(this.lines),this.insertBuffer.moveLinesTo(this.lines)}align(t){const n=t[0],r=t[1];if(r.includes(`
`)){const s=r.split(`
`),o=s.length-1;s.forEach((i,c)=>{if(c===0){const u=new te(n,i);this.deleteBuffer.isLineEmpty()&&this.insertBuffer.isLineEmpty()?(this.flushChangeLines(),this.pushDiffCommonLine(u)):(this.pushDiffChangeLines(u),this.flushChangeLines())}else c<o?this.pushDiffCommonLine(new te(n,i)):i.length!==0&&this.pushDiffChangeLines(new te(n,i))})}else this.pushDiffChangeLines(t)}getLines(){return this.flushChangeLines(),this.lines}}function La(e,t){const n=new vs(pe,t),r=new vs(ue,t),s=new ka(n,r);return e.forEach(o=>{switch(o[0]){case pe:n.align(o);break;case ue:r.align(o);break;default:s.align(o)}}),s.getLines()}function Ra(e,t){if(t){const n=e.length-1;return e.some((r,s)=>r[0]===ne&&(s!==n||r[1]!==`
`))}return e.some(n=>n[0]===ne)}function Ba(e,t,n){if(e!==t&&e.length!==0&&t.length!==0){const r=e.includes(`
`)||t.includes(`
`),[s,o]=Yo(r?`${e}
`:e,r?`${t}
`:t,!0,n);if(Ra(s,r)){const i=Qe(n),c=La(s,i.changeColor);return gr(c,o,i)}}return Jt(e.split(`
`),t.split(`
`),n)}function Yo(e,t,n,r){const[s,o]=Fa(e,t,r);return wa(s),[s,o]}function Un(e,t){const{commonColor:n}=Qe(t);return n(e)}const{AsymmetricMatcher:za,DOMCollection:Va,DOMElement:Wa,Immutable:Ua,ReactElement:Ka,ReactTestComponent:Ga}=dr,Xo=[Ga,Ka,Wa,Va,Ua,za,dr.Error],Kn={maxDepth:20,plugins:Xo},Zo={callToJSON:!1,maxDepth:8,plugins:Xo};function at(e,t,n){if(Object.is(e,t))return"";const r=bs(e);let s=r,o=!1;if(r==="object"&&typeof e.asymmetricMatch=="function"){if(e.$$typeof!==Symbol.for("jest.asymmetricMatcher")||typeof e.getExpectedType!="function")return;s=e.getExpectedType(),o=s==="string"}if(s!==bs(t)){let x=function(j){return j.length<=S?j:`${j.slice(0,S)}...`};const{aAnnotation:i,aColor:c,aIndicator:u,bAnnotation:a,bColor:l,bIndicator:h}=Qe(n),m=Gn(Zo,n);let d=Re(e,m),y=Re(t,m);const S=1e5;d=x(d),y=x(y);const M=`${c(`${u} ${i}:`)} 
${d}`,O=`${l(`${h} ${a}:`)} 
${y}`;return`${M}

${O}`}if(!o)switch(r){case"string":return Jt(e.split(`
`),t.split(`
`),n);case"boolean":case"number":return Ja(e,t,n);case"map":return dn(Ss(e),Ss(t),n);case"set":return dn(Es(e),Es(t),n);default:return dn(e,t,n)}}function Ja(e,t,n){const r=Re(e,Kn),s=Re(t,Kn);return r===s?"":Jt(r.split(`
`),s.split(`
`),n)}function Ss(e){return new Map(Array.from(e.entries()).sort())}function Es(e){return new Set(Array.from(e.values()).sort())}function dn(e,t,n){let r,s=!1;try{const i=Gn(Kn,n);r=xs(e,t,i,n)}catch{s=!0}const o=Un(zo,n);if(r===void 0||r===o){const i=Gn(Zo,n);r=xs(e,t,i,n),r!==o&&!s&&(r=`${Un(xa,n)}

${r}`)}return r}function Gn(e,t){const{compareKeys:n,printBasicPrototype:r,maxDepth:s}=Qe(t);return{...e,compareKeys:n,printBasicPrototype:r,maxDepth:s??e.maxDepth}}function xs(e,t,n,r){const s={...n,indent:0},o=Re(e,s),i=Re(t,s);if(o===i)return Un(zo,r);{const c=Re(e,n),u=Re(t,n);return Da(c.split(`
`),u.split(`
`),o.split(`
`),i.split(`
`),r)}}const Ms=2e4;function Ts(e){return Mt(e)==="Object"&&typeof e.asymmetricMatch=="function"}function Os(e,t){const n=Mt(e),r=Mt(t);return n===r&&(n==="Object"||n==="Array")}function Qo(e,t,n){const{aAnnotation:r,bAnnotation:s}=Qe(n);if(typeof t=="string"&&typeof e=="string"&&t.length>0&&e.length>0&&t.length<=Ms&&e.length<=Ms&&t!==e){if(t.includes(`
`)||e.includes(`
`))return Ba(t,e,n);const[l]=Yo(t,e),h=l.some(S=>S[0]===ne),m=Ya(r,s),d=m(r)+Qa($s(l,pe,h)),y=m(s)+Za($s(l,ue,h));return`${d}
${y}`}const o=fs(t,{forceWritable:!0}),i=fs(e,{forceWritable:!0}),{replacedExpected:c,replacedActual:u}=Ho(i,o);return at(c,u,n)}function Ho(e,t,n=new WeakSet,r=new WeakSet){return e instanceof Error&&t instanceof Error&&typeof e.cause<"u"&&typeof t.cause>"u"?(delete e.cause,{replacedActual:e,replacedExpected:t}):Os(e,t)?n.has(e)||r.has(t)?{replacedActual:e,replacedExpected:t}:(n.add(e),r.add(t),ua(t).forEach(s=>{const o=t[s],i=e[s];if(Ts(o))o.asymmetricMatch(i)&&(e[s]=o);else if(Ts(i))i.asymmetricMatch(o)&&(t[s]=i);else if(Os(i,o)){const c=Ho(i,o,n,r);e[s]=c.replacedActual,t[s]=c.replacedExpected}}),{replacedActual:e,replacedExpected:t}):{replacedActual:e,replacedExpected:t}}function Ya(...e){const t=e.reduce((n,r)=>r.length>n?r.length:n,0);return n=>`${n}: ${" ".repeat(t-n.length)}`}const Xa="·";function ei(e){return e.replace(/\s+$/gm,t=>Xa.repeat(t.length))}function Za(e){return re.red(ei(Te(e)))}function Qa(e){return re.green(ei(Te(e)))}function $s(e,t,n){return e.reduce((r,s)=>r+(s[0]===ne?s[1]:s[0]===t?n?re.inverse(s[1]):s[1]:""),"")}function mn(e){return typeof e=="function"&&"_isMockFunction"in e&&e._isMockFunction===!0}const Ha="@@__IMMUTABLE_RECORD__@@",ec="@@__IMMUTABLE_ITERABLE__@@";function tc(e){return e&&(e[ec]||e[Ha])}const nc=Object.getPrototypeOf({});function Ps(e){return e instanceof Error?`<unserializable>: ${e.message}`:typeof e=="string"?`<unserializable>: ${e}`:"<unserializable>"}function We(e,t=new WeakMap){if(!e||typeof e=="string")return e;if(e instanceof Error&&"toJSON"in e&&typeof e.toJSON=="function"){const n=e.toJSON();return n&&n!==e&&typeof n=="object"&&(typeof e.message=="string"&&pt(()=>n.message??(n.message=Ns(e.message))),typeof e.stack=="string"&&pt(()=>n.stack??(n.stack=e.stack)),typeof e.name=="string"&&pt(()=>n.name??(n.name=e.name)),e.cause!=null&&pt(()=>n.cause??(n.cause=We(e.cause,t)))),We(n,t)}if(typeof e=="function")return`Function<${e.name||"anonymous"}>`;if(typeof e=="symbol")return e.toString();if(typeof e!="object")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return`<Buffer(${e.length}) ...>`;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return`<Uint8Array(${e.length}) ...>`;if(tc(e))return We(e.toJSON(),t);if(e instanceof Promise||e.constructor&&e.constructor.prototype==="AsyncFunction")return"Promise";if(typeof Element<"u"&&e instanceof Element)return e.tagName;if(typeof e.toJSON=="function")return We(e.toJSON(),t);if(t.has(e))return t.get(e);if(Array.isArray(e)){const n=new Array(e.length);return t.set(e,n),e.forEach((r,s)=>{try{n[s]=We(r,t)}catch(o){n[s]=Ps(o)}}),n}else{const n=Object.create(null);t.set(e,n);let r=e;for(;r&&r!==nc;)Object.getOwnPropertyNames(r).forEach(s=>{if(!(s in n))try{n[s]=We(e[s],t)}catch(o){delete n[s],n[s]=Ps(o)}}),r=Object.getPrototypeOf(r);return e instanceof Error&&pt(()=>e.message=Ns(e.message)),n}}function pt(e){try{return e()}catch{}}function Ns(e){return e.replace(/__(vite_ssr_import|vi_import)_\d+__\./g,"")}function ti(e,t,n=new WeakSet){if(!e||typeof e!="object")return{message:String(e)};const r=e;(r.showDiff||r.showDiff===void 0&&r.expected!==void 0&&r.actual!==void 0)&&(r.diff=Qo(r.actual,r.expected,{...t,...r.diffOptions})),"expected"in r&&typeof r.expected!="string"&&(r.expected=Te(r.expected,10)),"actual"in r&&typeof r.actual!="string"&&(r.actual=Te(r.actual,10));try{!n.has(r)&&typeof r.cause=="object"&&(n.add(r),r.cause=ti(r.cause,t,n))}catch{}try{return We(r)}catch(s){return We(new Error(`Failed to fully serialize error: ${s?.message}
Inner error message: ${r?.message}`))}}var ni=Object.defineProperty,v=(e,t)=>ni(e,"name",{value:t,configurable:!0}),yr=(e,t)=>{for(var n in t)ni(e,n,{get:t[n],enumerable:!0})},ce={};yr(ce,{addChainableMethod:()=>Cr,addLengthGuard:()=>$t,addMethod:()=>$r,addProperty:()=>Or,checkError:()=>Ee,compareByInspect:()=>Lt,eql:()=>Ni,events:()=>Qt,expectTypes:()=>li,flag:()=>k,getActual:()=>Xt,getMessage:()=>vr,getName:()=>Ht,getOperator:()=>_r,getOwnEnumerableProperties:()=>Ir,getOwnEnumerablePropertySymbols:()=>jr,getPathInfo:()=>Mr,hasProperty:()=>Zt,inspect:()=>V,isNaN:()=>Rt,isNumeric:()=>le,isProxyEnabled:()=>Ot,isRegExp:()=>Bt,objDisplay:()=>Ge,overwriteChainableMethod:()=>Ar,overwriteMethod:()=>Nr,overwriteProperty:()=>Pr,proxify:()=>ct,test:()=>br,transferFlags:()=>je,type:()=>Y});var Ee={};yr(Ee,{compatibleConstructor:()=>oi,compatibleInstance:()=>si,compatibleMessage:()=>ii,getConstructorName:()=>ai,getMessage:()=>ci});function Yt(e){return e instanceof Error||Object.prototype.toString.call(e)==="[object Error]"}v(Yt,"isErrorInstance");function ri(e){return Object.prototype.toString.call(e)==="[object RegExp]"}v(ri,"isRegExp");function si(e,t){return Yt(t)&&e===t}v(si,"compatibleInstance");function oi(e,t){return Yt(t)?e.constructor===t.constructor||e instanceof t.constructor:(typeof t=="object"||typeof t=="function")&&t.prototype?e.constructor===t||e instanceof t:!1}v(oi,"compatibleConstructor");function ii(e,t){const n=typeof e=="string"?e:e.message;return ri(t)?t.test(n):typeof t=="string"?n.indexOf(t)!==-1:!1}v(ii,"compatibleMessage");function ai(e){let t=e;return Yt(e)?t=e.constructor.name:typeof e=="function"&&(t=e.name,t===""&&(t=new e().name||t)),t}v(ai,"getConstructorName");function ci(e){let t="";return e&&e.message?t=e.message:typeof e=="string"&&(t=e),t}v(ci,"getMessage");function k(e,t,n){let r=e.__flags||(e.__flags=Object.create(null));if(arguments.length===3)r[t]=n;else return r[t]}v(k,"flag");function br(e,t){let n=k(e,"negate"),r=t[0];return n?!r:r}v(br,"test");function Y(e){if(typeof e>"u")return"undefined";if(e===null)return"null";const t=e[Symbol.toStringTag];return typeof t=="string"?t:Object.prototype.toString.call(e).slice(8,-1)}v(Y,"type");var rc="captureStackTrace"in Error,Ye,K=(Ye=class extends Error{message;get name(){return"AssertionError"}get ok(){return!1}constructor(t="Unspecified AssertionError",n,r){super(t),this.message=t,rc&&Error.captureStackTrace(this,r||Ye);for(const s in n)s in this||(this[s]=n[s])}toJSON(t){return{...this,name:this.name,message:this.message,ok:!1,stack:t!==!1?this.stack:void 0}}},v(Ye,"AssertionError"),Ye);function li(e,t){let n=k(e,"message"),r=k(e,"ssfi");n=n?n+": ":"",e=k(e,"object"),t=t.map(function(i){return i.toLowerCase()}),t.sort();let s=t.map(function(i,c){let u=~["a","e","i","o","u"].indexOf(i.charAt(0))?"an":"a";return(t.length>1&&c===t.length-1?"or ":"")+u+" "+i}).join(", "),o=Y(e).toLowerCase();if(!t.some(function(i){return o===i}))throw new K(n+"object tested must be "+s+", but "+o+" given",void 0,r)}v(li,"expectTypes");function Xt(e,t){return t.length>4?t[4]:e._obj}v(Xt,"getActual");var Cs={bold:["1","22"],dim:["2","22"],italic:["3","23"],underline:["4","24"],inverse:["7","27"],hidden:["8","28"],strike:["9","29"],black:["30","39"],red:["31","39"],green:["32","39"],yellow:["33","39"],blue:["34","39"],magenta:["35","39"],cyan:["36","39"],white:["37","39"],brightblack:["30;1","39"],brightred:["31;1","39"],brightgreen:["32;1","39"],brightyellow:["33;1","39"],brightblue:["34;1","39"],brightmagenta:["35;1","39"],brightcyan:["36;1","39"],brightwhite:["37;1","39"],grey:["90","39"]},sc={special:"cyan",number:"yellow",bigint:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",symbol:"green",date:"magenta",regexp:"red"},ot="…";function ui(e,t){const n=Cs[sc[t]]||Cs[t]||"";return n?`\x1B[${n[0]}m${String(e)}\x1B[${n[1]}m`:String(e)}v(ui,"colorise");function fi({showHidden:e=!1,depth:t=2,colors:n=!1,customInspect:r=!0,showProxy:s=!1,maxArrayLength:o=1/0,breakLength:i=1/0,seen:c=[],truncate:u=1/0,stylize:a=String}={},l){const h={showHidden:!!e,depth:Number(t),colors:!!n,customInspect:!!r,showProxy:!!s,maxArrayLength:Number(o),breakLength:Number(i),truncate:Number(u),seen:c,inspect:l,stylize:a};return h.colors&&(h.stylize=ui),h}v(fi,"normaliseOptions");function hi(e){return e>="\uD800"&&e<="\uDBFF"}v(hi,"isHighSurrogate");function Be(e,t,n=ot){e=String(e);const r=n.length,s=e.length;if(r>t&&s>r)return n;if(s>t&&s>r){let o=t-r;return o>0&&hi(e[o-1])&&(o=o-1),`${e.slice(0,o)}${n}`}return e}v(Be,"truncate");function Oe(e,t,n,r=", "){n=n||t.inspect;const s=e.length;if(s===0)return"";const o=t.truncate;let i="",c="",u="";for(let a=0;a<s;a+=1){const l=a+1===e.length,h=a+2===e.length;u=`${ot}(${e.length-a})`;const m=e[a];t.truncate=o-i.length-(l?0:r.length);const d=c||n(m,t)+(l?"":r),y=i.length+d.length,S=y+u.length;if(l&&y>o&&i.length+u.length<=o||!l&&!h&&S>o||(c=l?"":n(e[a+1],t)+(h?"":r),!l&&h&&S>o&&y+c.length>o))break;if(i+=d,!l&&!h&&y+c.length>=o){u=`${ot}(${e.length-a-1})`;break}u=""}return`${i}${u}`}v(Oe,"inspectList");function pi(e){return e.match(/^[a-zA-Z_][a-zA-Z_0-9]*$/)?e:JSON.stringify(e).replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'")}v(pi,"quoteComplexKey");function it([e,t],n){return n.truncate-=2,typeof e=="string"?e=pi(e):typeof e!="number"&&(e=`[${n.inspect(e,n)}]`),n.truncate-=e.length,t=n.inspect(t,n),`${e}: ${t}`}v(it,"inspectProperty");function di(e,t){const n=Object.keys(e).slice(e.length);if(!e.length&&!n.length)return"[]";t.truncate-=4;const r=Oe(e,t);t.truncate-=r.length;let s="";return n.length&&(s=Oe(n.map(o=>[o,e[o]]),t,it)),`[ ${r}${s?`, ${s}`:""} ]`}v(di,"inspectArray");var oc=v(e=>typeof Buffer=="function"&&e instanceof Buffer?"Buffer":e[Symbol.toStringTag]?e[Symbol.toStringTag]:e.constructor.name,"getArrayName");function _e(e,t){const n=oc(e);t.truncate-=n.length+4;const r=Object.keys(e).slice(e.length);if(!e.length&&!r.length)return`${n}[]`;let s="";for(let i=0;i<e.length;i++){const c=`${t.stylize(Be(e[i],t.truncate),"number")}${i===e.length-1?"":", "}`;if(t.truncate-=c.length,e[i]!==e.length&&t.truncate<=3){s+=`${ot}(${e.length-e[i]+1})`;break}s+=c}let o="";return r.length&&(o=Oe(r.map(i=>[i,e[i]]),t,it)),`${n}[ ${s}${o?`, ${o}`:""} ]`}v(_e,"inspectTypedArray");function mi(e,t){const n=e.toJSON();if(n===null)return"Invalid Date";const r=n.split("T"),s=r[0];return t.stylize(`${s}T${Be(r[1],t.truncate-s.length-1)}`,"date")}v(mi,"inspectDate");function Jn(e,t){const n=e[Symbol.toStringTag]||"Function",r=e.name;return r?t.stylize(`[${n} ${Be(r,t.truncate-11)}]`,"special"):t.stylize(`[${n}]`,"special")}v(Jn,"inspectFunction");function gi([e,t],n){return n.truncate-=4,e=n.inspect(e,n),n.truncate-=e.length,t=n.inspect(t,n),`${e} => ${t}`}v(gi,"inspectMapEntry");function yi(e){const t=[];return e.forEach((n,r)=>{t.push([r,n])}),t}v(yi,"mapToEntries");function bi(e,t){return e.size===0?"Map{}":(t.truncate-=7,`Map{ ${Oe(yi(e),t,gi)} }`)}v(bi,"inspectMap");var ic=Number.isNaN||(e=>e!==e);function Yn(e,t){return ic(e)?t.stylize("NaN","number"):e===1/0?t.stylize("Infinity","number"):e===-1/0?t.stylize("-Infinity","number"):e===0?t.stylize(1/e===1/0?"+0":"-0","number"):t.stylize(Be(String(e),t.truncate),"number")}v(Yn,"inspectNumber");function Xn(e,t){let n=Be(e.toString(),t.truncate-1);return n!==ot&&(n+="n"),t.stylize(n,"bigint")}v(Xn,"inspectBigInt");function wi(e,t){const n=e.toString().split("/")[2],r=t.truncate-(2+n.length),s=e.source;return t.stylize(`/${Be(s,r)}/${n}`,"regexp")}v(wi,"inspectRegExp");function vi(e){const t=[];return e.forEach(n=>{t.push(n)}),t}v(vi,"arrayFromSet");function Si(e,t){return e.size===0?"Set{}":(t.truncate-=7,`Set{ ${Oe(vi(e),t)} }`)}v(Si,"inspectSet");var As=new RegExp("['\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]","g"),ac={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"},cc=16;function Ei(e){return ac[e]||`\\u${`0000${e.charCodeAt(0).toString(cc)}`.slice(-4)}`}v(Ei,"escape");function Zn(e,t){return As.test(e)&&(e=e.replace(As,Ei)),t.stylize(`'${Be(e,t.truncate-2)}'`,"string")}v(Zn,"inspectString");function Qn(e){return"description"in Symbol.prototype?e.description?`Symbol(${e.description})`:"Symbol()":e.toString()}v(Qn,"inspectSymbol");var lc=v(()=>"Promise{…}","getPromiseValue"),uc=lc;function wt(e,t){const n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[];if(n.length===0&&r.length===0)return"{}";if(t.truncate-=4,t.seen=t.seen||[],t.seen.includes(e))return"[Circular]";t.seen.push(e);const s=Oe(n.map(c=>[c,e[c]]),t,it),o=Oe(r.map(c=>[c,e[c]]),t,it);t.seen.pop();let i="";return s&&o&&(i=", "),`{ ${s}${i}${o} }`}v(wt,"inspectObject");var gn=typeof Symbol<"u"&&Symbol.toStringTag?Symbol.toStringTag:!1;function xi(e,t){let n="";return gn&&gn in e&&(n=e[gn]),n=n||e.constructor.name,(!n||n==="_class")&&(n="<Anonymous Class>"),t.truncate-=n.length,`${n}${wt(e,t)}`}v(xi,"inspectClass");function Mi(e,t){return e.length===0?"Arguments[]":(t.truncate-=13,`Arguments[ ${Oe(e,t)} ]`)}v(Mi,"inspectArguments");var fc=["stack","line","column","name","message","fileName","lineNumber","columnNumber","number","description","cause"];function Ti(e,t){const n=Object.getOwnPropertyNames(e).filter(i=>fc.indexOf(i)===-1),r=e.name;t.truncate-=r.length;let s="";if(typeof e.message=="string"?s=Be(e.message,t.truncate):n.unshift("message"),s=s?`: ${s}`:"",t.truncate-=s.length+5,t.seen=t.seen||[],t.seen.includes(e))return"[Circular]";t.seen.push(e);const o=Oe(n.map(i=>[i,e[i]]),t,it);return`${r}${s}${o?` { ${o} }`:""}`}v(Ti,"inspectObject");function Oi([e,t],n){return n.truncate-=3,t?`${n.stylize(String(e),"yellow")}=${n.stylize(`"${t}"`,"string")}`:`${n.stylize(String(e),"yellow")}`}v(Oi,"inspectAttribute");function qt(e,t){return Oe(e,t,$i,`
`)}v(qt,"inspectNodeCollection");function $i(e,t){switch(e.nodeType){case 1:return wr(e,t);case 3:return t.inspect(e.data,t);default:return t.inspect(e,t)}}v($i,"inspectNode");function wr(e,t){const n=e.getAttributeNames(),r=e.tagName.toLowerCase(),s=t.stylize(`<${r}`,"special"),o=t.stylize(">","special"),i=t.stylize(`</${r}>`,"special");t.truncate-=r.length*2+5;let c="";n.length>0&&(c+=" ",c+=Oe(n.map(l=>[l,e.getAttribute(l)]),t,Oi," ")),t.truncate-=c.length;const u=t.truncate;let a=qt(e.children,t);return a&&a.length>u&&(a=`${ot}(${e.children.length})`),`${s}${c}${o}${a}${i}`}v(wr,"inspectHTML");var hc=typeof Symbol=="function"&&typeof Symbol.for=="function",yn=hc?Symbol.for("chai/inspect"):"@@chai/inspect",bn=Symbol.for("nodejs.util.inspect.custom"),js=new WeakMap,Is={},_s={undefined:v((e,t)=>t.stylize("undefined","undefined"),"undefined"),null:v((e,t)=>t.stylize("null","null"),"null"),boolean:v((e,t)=>t.stylize(String(e),"boolean"),"boolean"),Boolean:v((e,t)=>t.stylize(String(e),"boolean"),"Boolean"),number:Yn,Number:Yn,bigint:Xn,BigInt:Xn,string:Zn,String:Zn,function:Jn,Function:Jn,symbol:Qn,Symbol:Qn,Array:di,Date:mi,Map:bi,Set:Si,RegExp:wi,Promise:uc,WeakSet:v((e,t)=>t.stylize("WeakSet{…}","special"),"WeakSet"),WeakMap:v((e,t)=>t.stylize("WeakMap{…}","special"),"WeakMap"),Arguments:Mi,Int8Array:_e,Uint8Array:_e,Uint8ClampedArray:_e,Int16Array:_e,Uint16Array:_e,Int32Array:_e,Uint32Array:_e,Float32Array:_e,Float64Array:_e,Generator:v(()=>"","Generator"),DataView:v(()=>"","DataView"),ArrayBuffer:v(()=>"","ArrayBuffer"),Error:Ti,HTMLCollection:qt,NodeList:qt},pc=v((e,t,n,r)=>yn in e&&typeof e[yn]=="function"?e[yn](t):bn in e&&typeof e[bn]=="function"?e[bn](t.depth,t,r):"inspect"in e&&typeof e.inspect=="function"?e.inspect(t.depth,t):"constructor"in e&&js.has(e.constructor)?js.get(e.constructor)(e,t):Is[n]?Is[n](e,t):"","inspectCustom"),dc=Object.prototype.toString;function vt(e,t={}){const n=fi(t,vt),{customInspect:r}=n;let s=e===null?"null":typeof e;if(s==="object"&&(s=dc.call(e).slice(8,-1)),s in _s)return _s[s](e,n);if(r&&e){const i=pc(e,n,s,vt);if(i)return typeof i=="string"?i:vt(i,n)}const o=e?Object.getPrototypeOf(e):!1;return o===Object.prototype||o===null?wt(e,n):e&&typeof HTMLElement=="function"&&e instanceof HTMLElement?wr(e,n):"constructor"in e?e.constructor!==Object?xi(e,n):wt(e,n):e===Object(e)?wt(e,n):n.stylize(String(e),s)}v(vt,"inspect");var ge={includeStack:!1,showDiff:!0,truncateThreshold:40,useProxy:!0,proxyExcludedKeys:["then","catch","inspect","toJSON"],deepEqual:null};function V(e,t,n,r){let s={colors:r,depth:typeof n>"u"?2:n,showHidden:t,truncate:ge.truncateThreshold?ge.truncateThreshold:1/0};return vt(e,s)}v(V,"inspect");function Ge(e){let t=V(e),n=Object.prototype.toString.call(e);if(ge.truncateThreshold&&t.length>=ge.truncateThreshold){if(n==="[object Function]")return!e.name||e.name===""?"[Function]":"[Function: "+e.name+"]";if(n==="[object Array]")return"[ Array("+e.length+") ]";if(n==="[object Object]"){let r=Object.keys(e);return"{ Object ("+(r.length>2?r.splice(0,2).join(", ")+", ...":r.join(", "))+") }"}else return t}else return t}v(Ge,"objDisplay");function vr(e,t){let n=k(e,"negate"),r=k(e,"object"),s=t[3],o=Xt(e,t),i=n?t[2]:t[1],c=k(e,"message");return typeof i=="function"&&(i=i()),i=i||"",i=i.replace(/#\{this\}/g,function(){return Ge(r)}).replace(/#\{act\}/g,function(){return Ge(o)}).replace(/#\{exp\}/g,function(){return Ge(s)}),c?c+": "+i:i}v(vr,"getMessage");function je(e,t,n){let r=e.__flags||(e.__flags=Object.create(null));t.__flags||(t.__flags=Object.create(null)),n=arguments.length===3?n:!0;for(let s in r)(n||s!=="object"&&s!=="ssfi"&&s!=="lockSsfi"&&s!="message")&&(t.__flags[s]=r[s])}v(je,"transferFlags");function Hn(e){if(typeof e>"u")return"undefined";if(e===null)return"null";const t=e[Symbol.toStringTag];return typeof t=="string"?t:Object.prototype.toString.call(e).slice(8,-1)}v(Hn,"type");function Sr(){this._key="chai/deep-eql__"+Math.random()+Date.now()}v(Sr,"FakeMap");Sr.prototype={get:v(function(t){return t[this._key]},"get"),set:v(function(t,n){Object.isExtensible(t)&&Object.defineProperty(t,this._key,{value:n,configurable:!0})},"set")};var Pi=typeof WeakMap=="function"?WeakMap:Sr;function er(e,t,n){if(!n||Ze(e)||Ze(t))return null;var r=n.get(e);if(r){var s=r.get(t);if(typeof s=="boolean")return s}return null}v(er,"memoizeCompare");function bt(e,t,n,r){if(!(!n||Ze(e)||Ze(t))){var s=n.get(e);s?s.set(t,r):(s=new Pi,s.set(t,r),n.set(e,s))}}v(bt,"memoizeSet");var Ni=Tt;function Tt(e,t,n){if(n&&n.comparator)return tr(e,t,n);var r=Er(e,t);return r!==null?r:tr(e,t,n)}v(Tt,"deepEqual");function Er(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t?!0:Ze(e)||Ze(t)?!1:null}v(Er,"simpleEqual");function tr(e,t,n){n=n||{},n.memoize=n.memoize===!1?!1:n.memoize||new Pi;var r=n&&n.comparator,s=er(e,t,n.memoize);if(s!==null)return s;var o=er(t,e,n.memoize);if(o!==null)return o;if(r){var i=r(e,t);if(i===!1||i===!0)return bt(e,t,n.memoize,i),i;var c=Er(e,t);if(c!==null)return c}var u=Hn(e);if(u!==Hn(t))return bt(e,t,n.memoize,!1),!1;bt(e,t,n.memoize,!0);var a=Ci(e,t,u,n);return bt(e,t,n.memoize,a),a}v(tr,"extensiveDeepEqual");function Ci(e,t,n,r){switch(n){case"String":case"Number":case"Boolean":case"Date":return Tt(e.valueOf(),t.valueOf());case"Promise":case"Symbol":case"function":case"WeakMap":case"WeakSet":return e===t;case"Error":return xr(e,t,["name","message","code"],r);case"Arguments":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"Array":return Ue(e,t,r);case"RegExp":return Ai(e,t);case"Generator":return ji(e,t,r);case"DataView":return Ue(new Uint8Array(e.buffer),new Uint8Array(t.buffer),r);case"ArrayBuffer":return Ue(new Uint8Array(e),new Uint8Array(t),r);case"Set":return nr(e,t,r);case"Map":return nr(e,t,r);case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.Instant":case"Temporal.ZonedDateTime":case"Temporal.PlainYearMonth":case"Temporal.PlainMonthDay":return e.equals(t);case"Temporal.Duration":return e.total("nanoseconds")===t.total("nanoseconds");case"Temporal.TimeZone":case"Temporal.Calendar":return e.toString()===t.toString();default:return _i(e,t,r)}}v(Ci,"extensiveDeepEqualByType");function Ai(e,t){return e.toString()===t.toString()}v(Ai,"regexpEqual");function nr(e,t,n){try{if(e.size!==t.size)return!1;if(e.size===0)return!0}catch{return!1}var r=[],s=[];return e.forEach(v(function(i,c){r.push([i,c])},"gatherEntries")),t.forEach(v(function(i,c){s.push([i,c])},"gatherEntries")),Ue(r.sort(),s.sort(),n)}v(nr,"entriesEqual");function Ue(e,t,n){var r=e.length;if(r!==t.length)return!1;if(r===0)return!0;for(var s=-1;++s<r;)if(Tt(e[s],t[s],n)===!1)return!1;return!0}v(Ue,"iterableEqual");function ji(e,t,n){return Ue(kt(e),kt(t),n)}v(ji,"generatorEqual");function Ii(e){return typeof Symbol<"u"&&typeof e=="object"&&typeof Symbol.iterator<"u"&&typeof e[Symbol.iterator]=="function"}v(Ii,"hasIteratorFunction");function rr(e){if(Ii(e))try{return kt(e[Symbol.iterator]())}catch{return[]}return[]}v(rr,"getIteratorEntries");function kt(e){for(var t=e.next(),n=[t.value];t.done===!1;)t=e.next(),n.push(t.value);return n}v(kt,"getGeneratorEntries");function sr(e){var t=[];for(var n in e)t.push(n);return t}v(sr,"getEnumerableKeys");function or(e){for(var t=[],n=Object.getOwnPropertySymbols(e),r=0;r<n.length;r+=1){var s=n[r];Object.getOwnPropertyDescriptor(e,s).enumerable&&t.push(s)}return t}v(or,"getEnumerableSymbols");function xr(e,t,n,r){var s=n.length;if(s===0)return!0;for(var o=0;o<s;o+=1)if(Tt(e[n[o]],t[n[o]],r)===!1)return!1;return!0}v(xr,"keysEqual");function _i(e,t,n){var r=sr(e),s=sr(t),o=or(e),i=or(t);if(r=r.concat(o),s=s.concat(i),r.length&&r.length===s.length)return Ue(ir(r).sort(),ir(s).sort())===!1?!1:xr(e,t,r,n);var c=rr(e),u=rr(t);return c.length&&c.length===u.length?(c.sort(),u.sort(),Ue(c,u,n)):r.length===0&&c.length===0&&s.length===0&&u.length===0}v(_i,"objectEqual");function Ze(e){return e===null||typeof e!="object"}v(Ze,"isPrimitive");function ir(e){return e.map(v(function(n){return typeof n=="symbol"?n.toString():n},"mapSymbol"))}v(ir,"mapSymbols");function Zt(e,t){return typeof e>"u"||e===null?!1:t in Object(e)}v(Zt,"hasProperty");function Di(e){return e.replace(/([^\\])\[/g,"$1.[").match(/(\\\.|[^.]+?)+/g).map(r=>{if(r==="constructor"||r==="__proto__"||r==="prototype")return{};const o=/^\[(\d+)\]$/.exec(r);let i=null;return o?i={i:parseFloat(o[1])}:i={p:r.replace(/\\([.[\]])/g,"$1")},i})}v(Di,"parsePath");function ar(e,t,n){let r=e,s=null;n=typeof n>"u"?t.length:n;for(let o=0;o<n;o++){const i=t[o];r&&(typeof i.p>"u"?r=r[i.i]:r=r[i.p],o===n-1&&(s=r))}return s}v(ar,"internalGetPathValue");function Mr(e,t){const n=Di(t),r=n[n.length-1],s={parent:n.length>1?ar(e,n,n.length-1):e,name:r.p||r.i,value:ar(e,n)};return s.exists=Zt(s.parent,s.name),s}v(Mr,"getPathInfo");var Xe,p=(Xe=class{__flags={};constructor(t,n,r,s){return k(this,"ssfi",r||Xe),k(this,"lockSsfi",s),k(this,"object",t),k(this,"message",n),k(this,"eql",ge.deepEqual||Ni),ct(this)}static get includeStack(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),ge.includeStack}static set includeStack(t){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),ge.includeStack=t}static get showDiff(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),ge.showDiff}static set showDiff(t){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),ge.showDiff=t}static addProperty(t,n){Or(this.prototype,t,n)}static addMethod(t,n){$r(this.prototype,t,n)}static addChainableMethod(t,n,r){Cr(this.prototype,t,n,r)}static overwriteProperty(t,n){Pr(this.prototype,t,n)}static overwriteMethod(t,n){Nr(this.prototype,t,n)}static overwriteChainableMethod(t,n,r){Ar(this.prototype,t,n,r)}assert(t,n,r,s,o,i){const c=br(this,arguments);if(i!==!1&&(i=!0),s===void 0&&o===void 0&&(i=!1),ge.showDiff!==!0&&(i=!1),!c){n=vr(this,arguments);const a={actual:Xt(this,arguments),expected:s,showDiff:i},l=_r(this,arguments);throw l&&(a.operator=l),new K(n,a,ge.includeStack?this.assert:k(this,"ssfi"))}}get _obj(){return k(this,"object")}set _obj(t){k(this,"object",t)}},v(Xe,"Assertion"),Xe),Qt=new EventTarget,rt,Tr=(rt=class extends Event{constructor(t,n,r){super(t),this.name=String(n),this.fn=r}},v(rt,"PluginEvent"),rt);function Ot(){return ge.useProxy&&typeof Proxy<"u"&&typeof Reflect<"u"}v(Ot,"isProxyEnabled");function Or(e,t,n){n=n===void 0?function(){}:n,Object.defineProperty(e,t,{get:v(function r(){!Ot()&&!k(this,"lockSsfi")&&k(this,"ssfi",r);let s=n.call(this);if(s!==void 0)return s;let o=new p;return je(this,o),o},"propertyGetter"),configurable:!0}),Qt.dispatchEvent(new Tr("addProperty",t,n))}v(Or,"addProperty");var mc=Object.getOwnPropertyDescriptor(function(){},"length");function $t(e,t,n){return mc.configurable&&Object.defineProperty(e,"length",{get:v(function(){throw Error(n?"Invalid Chai property: "+t+'.length. Due to a compatibility issue, "length" cannot directly follow "'+t+'". Use "'+t+'.lengthOf" instead.':"Invalid Chai property: "+t+'.length. See docs for proper usage of "'+t+'".')},"get")}),e}v($t,"addLengthGuard");function Fi(e){let t=Object.getOwnPropertyNames(e);function n(s){t.indexOf(s)===-1&&t.push(s)}v(n,"addProperty");let r=Object.getPrototypeOf(e);for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n),r=Object.getPrototypeOf(r);return t}v(Fi,"getProperties");var Ds=["__flags","__methods","_obj","assert"];function ct(e,t){return Ot()?new Proxy(e,{get:v(function n(r,s){if(typeof s=="string"&&ge.proxyExcludedKeys.indexOf(s)===-1&&!Reflect.has(r,s)){if(t)throw Error("Invalid Chai property: "+t+"."+s+'. See docs for proper usage of "'+t+'".');let o=null,i=4;throw Fi(r).forEach(function(c){if(!Object.prototype.hasOwnProperty(c)&&Ds.indexOf(c)===-1){let u=qi(s,c,i);u<i&&(o=c,i=u)}}),Error(o!==null?"Invalid Chai property: "+s+'. Did you mean "'+o+'"?':"Invalid Chai property: "+s)}return Ds.indexOf(s)===-1&&!k(r,"lockSsfi")&&k(r,"ssfi",n),Reflect.get(r,s)},"proxyGetter")}):e}v(ct,"proxify");function qi(e,t,n){if(Math.abs(e.length-t.length)>=n)return n;let r=[];for(let s=0;s<=e.length;s++)r[s]=Array(t.length+1).fill(0),r[s][0]=s;for(let s=0;s<t.length;s++)r[0][s]=s;for(let s=1;s<=e.length;s++){let o=e.charCodeAt(s-1);for(let i=1;i<=t.length;i++){if(Math.abs(s-i)>=n){r[s][i]=n;continue}r[s][i]=Math.min(r[s-1][i]+1,r[s][i-1]+1,r[s-1][i-1]+(o===t.charCodeAt(i-1)?0:1))}}return r[e.length][t.length]}v(qi,"stringDistanceCapped");function $r(e,t,n){let r=v(function(){k(this,"lockSsfi")||k(this,"ssfi",r);let s=n.apply(this,arguments);if(s!==void 0)return s;let o=new p;return je(this,o),o},"methodWrapper");$t(r,t,!1),e[t]=ct(r,t),Qt.dispatchEvent(new Tr("addMethod",t,n))}v($r,"addMethod");function Pr(e,t,n){let r=Object.getOwnPropertyDescriptor(e,t),s=v(function(){},"_super");r&&typeof r.get=="function"&&(s=r.get),Object.defineProperty(e,t,{get:v(function o(){!Ot()&&!k(this,"lockSsfi")&&k(this,"ssfi",o);let i=k(this,"lockSsfi");k(this,"lockSsfi",!0);let c=n(s).call(this);if(k(this,"lockSsfi",i),c!==void 0)return c;let u=new p;return je(this,u),u},"overwritingPropertyGetter"),configurable:!0})}v(Pr,"overwriteProperty");function Nr(e,t,n){let r=e[t],s=v(function(){throw new Error(t+" is not a function")},"_super");r&&typeof r=="function"&&(s=r);let o=v(function(){k(this,"lockSsfi")||k(this,"ssfi",o);let i=k(this,"lockSsfi");k(this,"lockSsfi",!0);let c=n(s).apply(this,arguments);if(k(this,"lockSsfi",i),c!==void 0)return c;let u=new p;return je(this,u),u},"overwritingMethodWrapper");$t(o,t,!1),e[t]=ct(o,t)}v(Nr,"overwriteMethod");var gc=typeof Object.setPrototypeOf=="function",Fs=v(function(){},"testFn"),yc=Object.getOwnPropertyNames(Fs).filter(function(e){let t=Object.getOwnPropertyDescriptor(Fs,e);return typeof t!="object"?!0:!t.configurable}),bc=Function.prototype.call,wc=Function.prototype.apply,st,vc=(st=class extends Tr{constructor(t,n,r,s){super(t,n,r),this.chainingBehavior=s}},v(st,"PluginAddChainableMethodEvent"),st);function Cr(e,t,n,r){typeof r!="function"&&(r=v(function(){},"chainingBehavior"));let s={method:n,chainingBehavior:r};e.__methods||(e.__methods={}),e.__methods[t]=s,Object.defineProperty(e,t,{get:v(function(){s.chainingBehavior.call(this);let i=v(function(){k(this,"lockSsfi")||k(this,"ssfi",i);let c=s.method.apply(this,arguments);if(c!==void 0)return c;let u=new p;return je(this,u),u},"chainableMethodWrapper");if($t(i,t,!0),gc){let c=Object.create(this);c.call=bc,c.apply=wc,Object.setPrototypeOf(i,c)}else Object.getOwnPropertyNames(e).forEach(function(u){if(yc.indexOf(u)!==-1)return;let a=Object.getOwnPropertyDescriptor(e,u);Object.defineProperty(i,u,a)});return je(this,i),ct(i)},"chainableMethodGetter"),configurable:!0}),Qt.dispatchEvent(new vc("addChainableMethod",t,n,r))}v(Cr,"addChainableMethod");function Ar(e,t,n,r){let s=e.__methods[t],o=s.chainingBehavior;s.chainingBehavior=v(function(){let u=r(o).call(this);if(u!==void 0)return u;let a=new p;return je(this,a),a},"overwritingChainableMethodGetter");let i=s.method;s.method=v(function(){let u=n(i).apply(this,arguments);if(u!==void 0)return u;let a=new p;return je(this,a),a},"overwritingChainableMethodWrapper")}v(Ar,"overwriteChainableMethod");function Lt(e,t){return V(e)<V(t)?-1:1}v(Lt,"compareByInspect");function jr(e){return typeof Object.getOwnPropertySymbols!="function"?[]:Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})}v(jr,"getOwnEnumerablePropertySymbols");function Ir(e){return Object.keys(e).concat(jr(e))}v(Ir,"getOwnEnumerableProperties");var Rt=Number.isNaN;function ki(e){let t=Y(e);return["Array","Object","Function"].indexOf(t)!==-1}v(ki,"isObjectType");function _r(e,t){let n=k(e,"operator"),r=k(e,"negate"),s=t[3],o=r?t[2]:t[1];if(n)return n;if(typeof o=="function"&&(o=o()),o=o||"",!o||/\shave\s/.test(o))return;let i=ki(s);return/\snot\s/.test(o)?i?"notDeepStrictEqual":"notStrictEqual":i?"deepStrictEqual":"strictEqual"}v(_r,"getOperator");function Ht(e){return e.name}v(Ht,"getName");function Bt(e){return Object.prototype.toString.call(e)==="[object RegExp]"}v(Bt,"isRegExp");function le(e){return["Number","BigInt"].includes(Y(e))}v(le,"isNumeric");var{flag:b}=ce;["to","be","been","is","and","has","have","with","that","which","at","of","same","but","does","still","also"].forEach(function(e){p.addProperty(e)});p.addProperty("not",function(){b(this,"negate",!0)});p.addProperty("deep",function(){b(this,"deep",!0)});p.addProperty("nested",function(){b(this,"nested",!0)});p.addProperty("own",function(){b(this,"own",!0)});p.addProperty("ordered",function(){b(this,"ordered",!0)});p.addProperty("any",function(){b(this,"any",!0),b(this,"all",!1)});p.addProperty("all",function(){b(this,"all",!0),b(this,"any",!1)});var qs={function:["function","asyncfunction","generatorfunction","asyncgeneratorfunction"],asyncfunction:["asyncfunction","asyncgeneratorfunction"],generatorfunction:["generatorfunction","asyncgeneratorfunction"],asyncgeneratorfunction:["asyncgeneratorfunction"]};function Dr(e,t){t&&b(this,"message",t),e=e.toLowerCase();let n=b(this,"object"),r=~["a","e","i","o","u"].indexOf(e.charAt(0))?"an ":"a ";const s=Y(n).toLowerCase();qs.function.includes(e)?this.assert(qs[e].includes(s),"expected #{this} to be "+r+e,"expected #{this} not to be "+r+e):this.assert(e===s,"expected #{this} to be "+r+e,"expected #{this} not to be "+r+e)}v(Dr,"an");p.addChainableMethod("an",Dr);p.addChainableMethod("a",Dr);function Li(e,t){return Rt(e)&&Rt(t)||e===t}v(Li,"SameValueZero");function Pt(){b(this,"contains",!0)}v(Pt,"includeChainingBehavior");function Nt(e,t){t&&b(this,"message",t);let n=b(this,"object"),r=Y(n).toLowerCase(),s=b(this,"message"),o=b(this,"negate"),i=b(this,"ssfi"),c=b(this,"deep"),u=c?"deep ":"",a=c?b(this,"eql"):Li;s=s?s+": ":"";let l=!1;switch(r){case"string":l=n.indexOf(e)!==-1;break;case"weakset":if(c)throw new K(s+"unable to use .deep.include with WeakSet",void 0,i);l=n.has(e);break;case"map":n.forEach(function(h){l=l||a(h,e)});break;case"set":c?n.forEach(function(h){l=l||a(h,e)}):l=n.has(e);break;case"array":c?l=n.some(function(h){return a(h,e)}):l=n.indexOf(e)!==-1;break;default:{if(e!==Object(e))throw new K(s+"the given combination of arguments ("+r+" and "+Y(e).toLowerCase()+") is invalid for this assertion. You can use an array, a map, an object, a set, a string, or a weakset instead of a "+Y(e).toLowerCase(),void 0,i);let h=Object.keys(e),m=null,d=0;if(h.forEach(function(y){let S=new p(n);if(je(this,S,!0),b(S,"lockSsfi",!0),!o||h.length===1){S.property(y,e[y]);return}try{S.property(y,e[y])}catch(x){if(!Ee.compatibleConstructor(x,K))throw x;m===null&&(m=x),d++}},this),o&&h.length>1&&d===h.length)throw m;return}}this.assert(l,"expected #{this} to "+u+"include "+V(e),"expected #{this} to not "+u+"include "+V(e))}v(Nt,"include");p.addChainableMethod("include",Nt,Pt);p.addChainableMethod("contain",Nt,Pt);p.addChainableMethod("contains",Nt,Pt);p.addChainableMethod("includes",Nt,Pt);p.addProperty("ok",function(){this.assert(b(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")});p.addProperty("true",function(){this.assert(b(this,"object")===!0,"expected #{this} to be true","expected #{this} to be false",!b(this,"negate"))});p.addProperty("numeric",function(){const e=b(this,"object");this.assert(["Number","BigInt"].includes(Y(e)),"expected #{this} to be numeric","expected #{this} to not be numeric",!b(this,"negate"))});p.addProperty("callable",function(){const e=b(this,"object"),t=b(this,"ssfi"),n=b(this,"message"),r=n?`${n}: `:"",s=b(this,"negate"),o=s?`${r}expected ${V(e)} not to be a callable function`:`${r}expected ${V(e)} to be a callable function`,i=["Function","AsyncFunction","GeneratorFunction","AsyncGeneratorFunction"].includes(Y(e));if(i&&s||!i&&!s)throw new K(o,void 0,t)});p.addProperty("false",function(){this.assert(b(this,"object")===!1,"expected #{this} to be false","expected #{this} to be true",!!b(this,"negate"))});p.addProperty("null",function(){this.assert(b(this,"object")===null,"expected #{this} to be null","expected #{this} not to be null")});p.addProperty("undefined",function(){this.assert(b(this,"object")===void 0,"expected #{this} to be undefined","expected #{this} not to be undefined")});p.addProperty("NaN",function(){this.assert(Rt(b(this,"object")),"expected #{this} to be NaN","expected #{this} not to be NaN")});function Fr(){let e=b(this,"object");this.assert(e!=null,"expected #{this} to exist","expected #{this} to not exist")}v(Fr,"assertExist");p.addProperty("exist",Fr);p.addProperty("exists",Fr);p.addProperty("empty",function(){let e=b(this,"object"),t=b(this,"ssfi"),n=b(this,"message"),r;switch(n=n?n+": ":"",Y(e).toLowerCase()){case"array":case"string":r=e.length;break;case"map":case"set":r=e.size;break;case"weakmap":case"weakset":throw new K(n+".empty was passed a weak collection",void 0,t);case"function":{const s=n+".empty was passed a function "+Ht(e);throw new K(s.trim(),void 0,t)}default:if(e!==Object(e))throw new K(n+".empty was passed non-string primitive "+V(e),void 0,t);r=Object.keys(e).length}this.assert(r===0,"expected #{this} to be empty","expected #{this} not to be empty")});function qr(){let e=b(this,"object"),t=Y(e);this.assert(t==="Arguments","expected #{this} to be arguments but got "+t,"expected #{this} to not be arguments")}v(qr,"checkArguments");p.addProperty("arguments",qr);p.addProperty("Arguments",qr);function en(e,t){t&&b(this,"message",t);let n=b(this,"object");if(b(this,"deep")){let r=b(this,"lockSsfi");b(this,"lockSsfi",!0),this.eql(e),b(this,"lockSsfi",r)}else this.assert(e===n,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",e,this._obj,!0)}v(en,"assertEqual");p.addMethod("equal",en);p.addMethod("equals",en);p.addMethod("eq",en);function kr(e,t){t&&b(this,"message",t);let n=b(this,"eql");this.assert(n(e,b(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",e,this._obj,!0)}v(kr,"assertEql");p.addMethod("eql",kr);p.addMethod("eqls",kr);function tn(e,t){t&&b(this,"message",t);let n=b(this,"object"),r=b(this,"doLength"),s=b(this,"message"),o=s?s+": ":"",i=b(this,"ssfi"),c=Y(n).toLowerCase(),u=Y(e).toLowerCase();if(r&&c!=="map"&&c!=="set"&&new p(n,s,i,!0).to.have.property("length"),!r&&c==="date"&&u!=="date")throw new K(o+"the argument to above must be a date",void 0,i);if(!le(e)&&(r||le(n)))throw new K(o+"the argument to above must be a number",void 0,i);if(!r&&c!=="date"&&!le(n)){let a=c==="string"?"'"+n+"'":n;throw new K(o+"expected "+a+" to be a number or a date",void 0,i)}if(r){let a="length",l;c==="map"||c==="set"?(a="size",l=n.size):l=n.length,this.assert(l>e,"expected #{this} to have a "+a+" above #{exp} but got #{act}","expected #{this} to not have a "+a+" above #{exp}",e,l)}else this.assert(n>e,"expected #{this} to be above #{exp}","expected #{this} to be at most #{exp}",e)}v(tn,"assertAbove");p.addMethod("above",tn);p.addMethod("gt",tn);p.addMethod("greaterThan",tn);function nn(e,t){t&&b(this,"message",t);let n=b(this,"object"),r=b(this,"doLength"),s=b(this,"message"),o=s?s+": ":"",i=b(this,"ssfi"),c=Y(n).toLowerCase(),u=Y(e).toLowerCase(),a,l=!0;if(r&&c!=="map"&&c!=="set"&&new p(n,s,i,!0).to.have.property("length"),!r&&c==="date"&&u!=="date")a=o+"the argument to least must be a date";else if(!le(e)&&(r||le(n)))a=o+"the argument to least must be a number";else if(!r&&c!=="date"&&!le(n)){let h=c==="string"?"'"+n+"'":n;a=o+"expected "+h+" to be a number or a date"}else l=!1;if(l)throw new K(a,void 0,i);if(r){let h="length",m;c==="map"||c==="set"?(h="size",m=n.size):m=n.length,this.assert(m>=e,"expected #{this} to have a "+h+" at least #{exp} but got #{act}","expected #{this} to have a "+h+" below #{exp}",e,m)}else this.assert(n>=e,"expected #{this} to be at least #{exp}","expected #{this} to be below #{exp}",e)}v(nn,"assertLeast");p.addMethod("least",nn);p.addMethod("gte",nn);p.addMethod("greaterThanOrEqual",nn);function rn(e,t){t&&b(this,"message",t);let n=b(this,"object"),r=b(this,"doLength"),s=b(this,"message"),o=s?s+": ":"",i=b(this,"ssfi"),c=Y(n).toLowerCase(),u=Y(e).toLowerCase(),a,l=!0;if(r&&c!=="map"&&c!=="set"&&new p(n,s,i,!0).to.have.property("length"),!r&&c==="date"&&u!=="date")a=o+"the argument to below must be a date";else if(!le(e)&&(r||le(n)))a=o+"the argument to below must be a number";else if(!r&&c!=="date"&&!le(n)){let h=c==="string"?"'"+n+"'":n;a=o+"expected "+h+" to be a number or a date"}else l=!1;if(l)throw new K(a,void 0,i);if(r){let h="length",m;c==="map"||c==="set"?(h="size",m=n.size):m=n.length,this.assert(m<e,"expected #{this} to have a "+h+" below #{exp} but got #{act}","expected #{this} to not have a "+h+" below #{exp}",e,m)}else this.assert(n<e,"expected #{this} to be below #{exp}","expected #{this} to be at least #{exp}",e)}v(rn,"assertBelow");p.addMethod("below",rn);p.addMethod("lt",rn);p.addMethod("lessThan",rn);function sn(e,t){t&&b(this,"message",t);let n=b(this,"object"),r=b(this,"doLength"),s=b(this,"message"),o=s?s+": ":"",i=b(this,"ssfi"),c=Y(n).toLowerCase(),u=Y(e).toLowerCase(),a,l=!0;if(r&&c!=="map"&&c!=="set"&&new p(n,s,i,!0).to.have.property("length"),!r&&c==="date"&&u!=="date")a=o+"the argument to most must be a date";else if(!le(e)&&(r||le(n)))a=o+"the argument to most must be a number";else if(!r&&c!=="date"&&!le(n)){let h=c==="string"?"'"+n+"'":n;a=o+"expected "+h+" to be a number or a date"}else l=!1;if(l)throw new K(a,void 0,i);if(r){let h="length",m;c==="map"||c==="set"?(h="size",m=n.size):m=n.length,this.assert(m<=e,"expected #{this} to have a "+h+" at most #{exp} but got #{act}","expected #{this} to have a "+h+" above #{exp}",e,m)}else this.assert(n<=e,"expected #{this} to be at most #{exp}","expected #{this} to be above #{exp}",e)}v(sn,"assertMost");p.addMethod("most",sn);p.addMethod("lte",sn);p.addMethod("lessThanOrEqual",sn);p.addMethod("within",function(e,t,n){n&&b(this,"message",n);let r=b(this,"object"),s=b(this,"doLength"),o=b(this,"message"),i=o?o+": ":"",c=b(this,"ssfi"),u=Y(r).toLowerCase(),a=Y(e).toLowerCase(),l=Y(t).toLowerCase(),h,m=!0,d=a==="date"&&l==="date"?e.toISOString()+".."+t.toISOString():e+".."+t;if(s&&u!=="map"&&u!=="set"&&new p(r,o,c,!0).to.have.property("length"),!s&&u==="date"&&(a!=="date"||l!=="date"))h=i+"the arguments to within must be dates";else if((!le(e)||!le(t))&&(s||le(r)))h=i+"the arguments to within must be numbers";else if(!s&&u!=="date"&&!le(r)){let y=u==="string"?"'"+r+"'":r;h=i+"expected "+y+" to be a number or a date"}else m=!1;if(m)throw new K(h,void 0,c);if(s){let y="length",S;u==="map"||u==="set"?(y="size",S=r.size):S=r.length,this.assert(S>=e&&S<=t,"expected #{this} to have a "+y+" within "+d,"expected #{this} to not have a "+y+" within "+d)}else this.assert(r>=e&&r<=t,"expected #{this} to be within "+d,"expected #{this} to not be within "+d)});function Lr(e,t){t&&b(this,"message",t);let n=b(this,"object"),r=b(this,"ssfi"),s=b(this,"message"),o;try{o=n instanceof e}catch(c){throw c instanceof TypeError?(s=s?s+": ":"",new K(s+"The instanceof assertion needs a constructor but "+Y(e)+" was given.",void 0,r)):c}let i=Ht(e);i==null&&(i="an unnamed constructor"),this.assert(o,"expected #{this} to be an instance of "+i,"expected #{this} to not be an instance of "+i)}v(Lr,"assertInstanceOf");p.addMethod("instanceof",Lr);p.addMethod("instanceOf",Lr);function Rr(e,t,n){n&&b(this,"message",n);let r=b(this,"nested"),s=b(this,"own"),o=b(this,"message"),i=b(this,"object"),c=b(this,"ssfi"),u=typeof e;if(o=o?o+": ":"",r){if(u!=="string")throw new K(o+"the argument to property must be a string when using nested syntax",void 0,c)}else if(u!=="string"&&u!=="number"&&u!=="symbol")throw new K(o+"the argument to property must be a string, number, or symbol",void 0,c);if(r&&s)throw new K(o+'The "nested" and "own" flags cannot be combined.',void 0,c);if(i==null)throw new K(o+"Target cannot be null or undefined.",void 0,c);let a=b(this,"deep"),l=b(this,"negate"),h=r?Mr(i,e):null,m=r?h.value:i[e],d=a?b(this,"eql"):(x,M)=>x===M,y="";a&&(y+="deep "),s&&(y+="own "),r&&(y+="nested "),y+="property ";let S;s?S=Object.prototype.hasOwnProperty.call(i,e):r?S=h.exists:S=Zt(i,e),(!l||arguments.length===1)&&this.assert(S,"expected #{this} to have "+y+V(e),"expected #{this} to not have "+y+V(e)),arguments.length>1&&this.assert(S&&d(t,m),"expected #{this} to have "+y+V(e)+" of #{exp}, but got #{act}","expected #{this} to not have "+y+V(e)+" of #{act}",t,m),b(this,"object",m)}v(Rr,"assertProperty");p.addMethod("property",Rr);function Br(e,t,n){b(this,"own",!0),Rr.apply(this,arguments)}v(Br,"assertOwnProperty");p.addMethod("ownProperty",Br);p.addMethod("haveOwnProperty",Br);function zr(e,t,n){typeof t=="string"&&(n=t,t=null),n&&b(this,"message",n);let r=b(this,"object"),s=Object.getOwnPropertyDescriptor(Object(r),e),o=b(this,"eql");s&&t?this.assert(o(t,s),"expected the own property descriptor for "+V(e)+" on #{this} to match "+V(t)+", got "+V(s),"expected the own property descriptor for "+V(e)+" on #{this} to not match "+V(t),t,s,!0):this.assert(s,"expected #{this} to have an own property descriptor for "+V(e),"expected #{this} to not have an own property descriptor for "+V(e)),b(this,"object",s)}v(zr,"assertOwnPropertyDescriptor");p.addMethod("ownPropertyDescriptor",zr);p.addMethod("haveOwnPropertyDescriptor",zr);function Vr(){b(this,"doLength",!0)}v(Vr,"assertLengthChain");function Wr(e,t){t&&b(this,"message",t);let n=b(this,"object"),r=Y(n).toLowerCase(),s=b(this,"message"),o=b(this,"ssfi"),i="length",c;switch(r){case"map":case"set":i="size",c=n.size;break;default:new p(n,s,o,!0).to.have.property("length"),c=n.length}this.assert(c==e,"expected #{this} to have a "+i+" of #{exp} but got #{act}","expected #{this} to not have a "+i+" of #{act}",e,c)}v(Wr,"assertLength");p.addChainableMethod("length",Wr,Vr);p.addChainableMethod("lengthOf",Wr,Vr);function Ur(e,t){t&&b(this,"message",t);let n=b(this,"object");this.assert(e.exec(n),"expected #{this} to match "+e,"expected #{this} not to match "+e)}v(Ur,"assertMatch");p.addMethod("match",Ur);p.addMethod("matches",Ur);p.addMethod("string",function(e,t){t&&b(this,"message",t);let n=b(this,"object"),r=b(this,"message"),s=b(this,"ssfi");new p(n,r,s,!0).is.a("string"),this.assert(~n.indexOf(e),"expected #{this} to contain "+V(e),"expected #{this} to not contain "+V(e))});function Kr(e){let t=b(this,"object"),n=Y(t),r=Y(e),s=b(this,"ssfi"),o=b(this,"deep"),i,c="",u,a=!0,l=b(this,"message");l=l?l+": ":"";let h=l+"when testing keys against an object or an array you must give a single Array|Object|String argument or multiple String arguments";if(n==="Map"||n==="Set")c=o?"deeply ":"",u=[],t.forEach(function(M,O){u.push(O)}),r!=="Array"&&(e=Array.prototype.slice.call(arguments));else{switch(u=Ir(t),r){case"Array":if(arguments.length>1)throw new K(h,void 0,s);break;case"Object":if(arguments.length>1)throw new K(h,void 0,s);e=Object.keys(e);break;default:e=Array.prototype.slice.call(arguments)}e=e.map(function(M){return typeof M=="symbol"?M:String(M)})}if(!e.length)throw new K(l+"keys required",void 0,s);let m=e.length,d=b(this,"any"),y=b(this,"all"),S=e,x=o?b(this,"eql"):(M,O)=>M===O;if(!d&&!y&&(y=!0),d&&(a=S.some(function(M){return u.some(function(O){return x(M,O)})})),y&&(a=S.every(function(M){return u.some(function(O){return x(M,O)})}),b(this,"contains")||(a=a&&e.length==u.length)),m>1){e=e.map(function(O){return V(O)});let M=e.pop();y&&(i=e.join(", ")+", and "+M),d&&(i=e.join(", ")+", or "+M)}else i=V(e[0]);i=(m>1?"keys ":"key ")+i,i=(b(this,"contains")?"contain ":"have ")+i,this.assert(a,"expected #{this} to "+c+i,"expected #{this} to not "+c+i,S.slice(0).sort(Lt),u.sort(Lt),!0)}v(Kr,"assertKeys");p.addMethod("keys",Kr);p.addMethod("key",Kr);function on(e,t,n){n&&b(this,"message",n);let r=b(this,"object"),s=b(this,"ssfi"),o=b(this,"message"),i=b(this,"negate")||!1;new p(r,o,s,!0).is.a("function"),(Bt(e)||typeof e=="string")&&(t=e,e=null);let c,u=!1;try{r()}catch(d){u=!0,c=d}let a=e===void 0&&t===void 0,l=!!(e&&t),h=!1,m=!1;if(a||!a&&!i){let d="an error";e instanceof Error?d="#{exp}":e&&(d=Ee.getConstructorName(e));let y=c;if(c instanceof Error)y=c.toString();else if(typeof c=="string")y=c;else if(c&&(typeof c=="object"||typeof c=="function"))try{y=Ee.getConstructorName(c)}catch{}this.assert(u,"expected #{this} to throw "+d,"expected #{this} to not throw an error but #{act} was thrown",e&&e.toString(),y)}if(e&&c&&(e instanceof Error&&Ee.compatibleInstance(c,e)===i&&(l&&i?h=!0:this.assert(i,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(c&&!i?" but #{act} was thrown":""),e.toString(),c.toString())),Ee.compatibleConstructor(c,e)===i&&(l&&i?h=!0:this.assert(i,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(c?" but #{act} was thrown":""),e instanceof Error?e.toString():e&&Ee.getConstructorName(e),c instanceof Error?c.toString():c&&Ee.getConstructorName(c)))),c&&t!==void 0&&t!==null){let d="including";Bt(t)&&(d="matching"),Ee.compatibleMessage(c,t)===i&&(l&&i?m=!0:this.assert(i,"expected #{this} to throw error "+d+" #{exp} but got #{act}","expected #{this} to throw error not "+d+" #{exp}",t,Ee.getMessage(c)))}h&&m&&this.assert(i,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(c?" but #{act} was thrown":""),e instanceof Error?e.toString():e&&Ee.getConstructorName(e),c instanceof Error?c.toString():c&&Ee.getConstructorName(c)),b(this,"object",c)}v(on,"assertThrows");p.addMethod("throw",on);p.addMethod("throws",on);p.addMethod("Throw",on);function Gr(e,t){t&&b(this,"message",t);let n=b(this,"object"),r=b(this,"itself"),s=typeof n=="function"&&!r?n.prototype[e]:n[e];this.assert(typeof s=="function","expected #{this} to respond to "+V(e),"expected #{this} to not respond to "+V(e))}v(Gr,"respondTo");p.addMethod("respondTo",Gr);p.addMethod("respondsTo",Gr);p.addProperty("itself",function(){b(this,"itself",!0)});function Jr(e,t){t&&b(this,"message",t);let n=b(this,"object"),r=e(n);this.assert(r,"expected #{this} to satisfy "+Ge(e),"expected #{this} to not satisfy"+Ge(e),!b(this,"negate"),r)}v(Jr,"satisfy");p.addMethod("satisfy",Jr);p.addMethod("satisfies",Jr);function Yr(e,t,n){n&&b(this,"message",n);let r=b(this,"object"),s=b(this,"message"),o=b(this,"ssfi");new p(r,s,o,!0).is.numeric;let i="A `delta` value is required for `closeTo`";if(t==null)throw new K(s?`${s}: ${i}`:i,void 0,o);if(new p(t,s,o,!0).is.numeric,i="A `expected` value is required for `closeTo`",e==null)throw new K(s?`${s}: ${i}`:i,void 0,o);new p(e,s,o,!0).is.numeric;const c=v(a=>a<0n?-a:a,"abs"),u=v(a=>parseFloat(parseFloat(a).toPrecision(12)),"strip");this.assert(u(c(r-e))<=t,"expected #{this} to be close to "+e+" +/- "+t,"expected #{this} not to be close to "+e+" +/- "+t)}v(Yr,"closeTo");p.addMethod("closeTo",Yr);p.addMethod("approximately",Yr);function Ri(e,t,n,r,s){let o=Array.from(t),i=Array.from(e);if(!r){if(i.length!==o.length)return!1;o=o.slice()}return i.every(function(c,u){if(s)return n?n(c,o[u]):c===o[u];if(!n){let a=o.indexOf(c);return a===-1?!1:(r||o.splice(a,1),!0)}return o.some(function(a,l){return n(c,a)?(r||o.splice(l,1),!0):!1})})}v(Ri,"isSubsetOf");p.addMethod("members",function(e,t){t&&b(this,"message",t);let n=b(this,"object"),r=b(this,"message"),s=b(this,"ssfi");new p(n,r,s,!0).to.be.iterable,new p(e,r,s,!0).to.be.iterable;let o=b(this,"contains"),i=b(this,"ordered"),c,u,a;o?(c=i?"an ordered superset":"a superset",u="expected #{this} to be "+c+" of #{exp}",a="expected #{this} to not be "+c+" of #{exp}"):(c=i?"ordered members":"members",u="expected #{this} to have the same "+c+" as #{exp}",a="expected #{this} to not have the same "+c+" as #{exp}");let l=b(this,"deep")?b(this,"eql"):void 0;this.assert(Ri(e,n,l,o,i),u,a,e,n,!0)});p.addProperty("iterable",function(e){e&&b(this,"message",e);let t=b(this,"object");this.assert(t!=null&&t[Symbol.iterator],"expected #{this} to be an iterable","expected #{this} to not be an iterable",t)});function Bi(e,t){t&&b(this,"message",t);let n=b(this,"object"),r=b(this,"message"),s=b(this,"ssfi"),o=b(this,"contains"),i=b(this,"deep"),c=b(this,"eql");new p(e,r,s,!0).to.be.an("array"),o?this.assert(e.some(function(u){return n.indexOf(u)>-1}),"expected #{this} to contain one of #{exp}","expected #{this} to not contain one of #{exp}",e,n):i?this.assert(e.some(function(u){return c(n,u)}),"expected #{this} to deeply equal one of #{exp}","expected #{this} to deeply equal one of #{exp}",e,n):this.assert(e.indexOf(n)>-1,"expected #{this} to be one of #{exp}","expected #{this} to not be one of #{exp}",e,n)}v(Bi,"oneOf");p.addMethod("oneOf",Bi);function Xr(e,t,n){n&&b(this,"message",n);let r=b(this,"object"),s=b(this,"message"),o=b(this,"ssfi");new p(r,s,o,!0).is.a("function");let i;t?(new p(e,s,o,!0).to.have.property(t),i=e[t]):(new p(e,s,o,!0).is.a("function"),i=e()),r();let c=t==null?e():e[t],u=t==null?i:"."+t;b(this,"deltaMsgObj",u),b(this,"initialDeltaValue",i),b(this,"finalDeltaValue",c),b(this,"deltaBehavior","change"),b(this,"realDelta",c!==i),this.assert(i!==c,"expected "+u+" to change","expected "+u+" to not change")}v(Xr,"assertChanges");p.addMethod("change",Xr);p.addMethod("changes",Xr);function Zr(e,t,n){n&&b(this,"message",n);let r=b(this,"object"),s=b(this,"message"),o=b(this,"ssfi");new p(r,s,o,!0).is.a("function");let i;t?(new p(e,s,o,!0).to.have.property(t),i=e[t]):(new p(e,s,o,!0).is.a("function"),i=e()),new p(i,s,o,!0).is.a("number"),r();let c=t==null?e():e[t],u=t==null?i:"."+t;b(this,"deltaMsgObj",u),b(this,"initialDeltaValue",i),b(this,"finalDeltaValue",c),b(this,"deltaBehavior","increase"),b(this,"realDelta",c-i),this.assert(c-i>0,"expected "+u+" to increase","expected "+u+" to not increase")}v(Zr,"assertIncreases");p.addMethod("increase",Zr);p.addMethod("increases",Zr);function Qr(e,t,n){n&&b(this,"message",n);let r=b(this,"object"),s=b(this,"message"),o=b(this,"ssfi");new p(r,s,o,!0).is.a("function");let i;t?(new p(e,s,o,!0).to.have.property(t),i=e[t]):(new p(e,s,o,!0).is.a("function"),i=e()),new p(i,s,o,!0).is.a("number"),r();let c=t==null?e():e[t],u=t==null?i:"."+t;b(this,"deltaMsgObj",u),b(this,"initialDeltaValue",i),b(this,"finalDeltaValue",c),b(this,"deltaBehavior","decrease"),b(this,"realDelta",i-c),this.assert(c-i<0,"expected "+u+" to decrease","expected "+u+" to not decrease")}v(Qr,"assertDecreases");p.addMethod("decrease",Qr);p.addMethod("decreases",Qr);function zi(e,t){t&&b(this,"message",t);let n=b(this,"deltaMsgObj"),r=b(this,"initialDeltaValue"),s=b(this,"finalDeltaValue"),o=b(this,"deltaBehavior"),i=b(this,"realDelta"),c;o==="change"?c=Math.abs(s-r)===Math.abs(e):c=i===Math.abs(e),this.assert(c,"expected "+n+" to "+o+" by "+e,"expected "+n+" to not "+o+" by "+e)}v(zi,"assertDelta");p.addMethod("by",zi);p.addProperty("extensible",function(){let e=b(this,"object"),t=e===Object(e)&&Object.isExtensible(e);this.assert(t,"expected #{this} to be extensible","expected #{this} to not be extensible")});p.addProperty("sealed",function(){let e=b(this,"object"),t=e===Object(e)?Object.isSealed(e):!0;this.assert(t,"expected #{this} to be sealed","expected #{this} to not be sealed")});p.addProperty("frozen",function(){let e=b(this,"object"),t=e===Object(e)?Object.isFrozen(e):!0;this.assert(t,"expected #{this} to be frozen","expected #{this} to not be frozen")});p.addProperty("finite",function(e){let t=b(this,"object");this.assert(typeof t=="number"&&isFinite(t),"expected #{this} to be a finite number","expected #{this} to not be a finite number")});function zt(e,t){return e===t?!0:typeof t!=typeof e?!1:typeof e!="object"||e===null?e===t:t?Array.isArray(e)?Array.isArray(t)?e.every(function(n){return t.some(function(r){return zt(n,r)})}):!1:e instanceof Date?t instanceof Date?e.getTime()===t.getTime():!1:Object.keys(e).every(function(n){let r=e[n],s=t[n];return typeof r=="object"&&r!==null&&s!==null?zt(r,s):typeof r=="function"?r(s):s===r}):!1}v(zt,"compareSubset");p.addMethod("containSubset",function(e){const t=k(this,"object"),n=ge.showDiff;this.assert(zt(e,t),"expected #{act} to contain subset #{exp}","expected #{act} to not contain subset #{exp}",e,t,n)});function Je(e,t){return new p(e,t)}v(Je,"expect");Je.fail=function(e,t,n,r){throw arguments.length<2&&(n=e,e=void 0),n=n||"expect.fail()",new K(n,{actual:e,expected:t,operator:r},Je.fail)};var Vi={};yr(Vi,{Should:()=>Ec,should:()=>Sc});function Hr(){function e(){return this instanceof String||this instanceof Number||this instanceof Boolean||typeof Symbol=="function"&&this instanceof Symbol||typeof BigInt=="function"&&this instanceof BigInt?new p(this.valueOf(),null,e):new p(this,null,e)}v(e,"shouldGetter");function t(r){Object.defineProperty(this,"should",{value:r,enumerable:!0,configurable:!0,writable:!0})}v(t,"shouldSetter"),Object.defineProperty(Object.prototype,"should",{set:t,get:e,configurable:!0});let n={};return n.fail=function(r,s,o,i){throw arguments.length<2&&(o=r,r=void 0),o=o||"should.fail()",new K(o,{actual:r,expected:s,operator:i},n.fail)},n.equal=function(r,s,o){new p(r,o).to.equal(s)},n.Throw=function(r,s,o,i){new p(r,i).to.Throw(s,o)},n.exist=function(r,s){new p(r,s).to.exist},n.not={},n.not.equal=function(r,s,o){new p(r,o).to.not.equal(s)},n.not.Throw=function(r,s,o,i){new p(r,i).to.not.Throw(s,o)},n.not.exist=function(r,s){new p(r,s).to.not.exist},n.throw=n.Throw,n.not.throw=n.not.Throw,n}v(Hr,"loadShould");var Sc=Hr,Ec=Hr;function f(e,t){new p(null,null,f,!0).assert(e,t,"[ negation message unavailable ]")}v(f,"assert");f.fail=function(e,t,n,r){throw arguments.length<2&&(n=e,e=void 0),n=n||"assert.fail()",new K(n,{actual:e,expected:t,operator:r},f.fail)};f.isOk=function(e,t){new p(e,t,f.isOk,!0).is.ok};f.isNotOk=function(e,t){new p(e,t,f.isNotOk,!0).is.not.ok};f.equal=function(e,t,n){let r=new p(e,n,f.equal,!0);r.assert(t==k(r,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",t,e,!0)};f.notEqual=function(e,t,n){let r=new p(e,n,f.notEqual,!0);r.assert(t!=k(r,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",t,e,!0)};f.strictEqual=function(e,t,n){new p(e,n,f.strictEqual,!0).to.equal(t)};f.notStrictEqual=function(e,t,n){new p(e,n,f.notStrictEqual,!0).to.not.equal(t)};f.deepEqual=f.deepStrictEqual=function(e,t,n){new p(e,n,f.deepEqual,!0).to.eql(t)};f.notDeepEqual=function(e,t,n){new p(e,n,f.notDeepEqual,!0).to.not.eql(t)};f.isAbove=function(e,t,n){new p(e,n,f.isAbove,!0).to.be.above(t)};f.isAtLeast=function(e,t,n){new p(e,n,f.isAtLeast,!0).to.be.least(t)};f.isBelow=function(e,t,n){new p(e,n,f.isBelow,!0).to.be.below(t)};f.isAtMost=function(e,t,n){new p(e,n,f.isAtMost,!0).to.be.most(t)};f.isTrue=function(e,t){new p(e,t,f.isTrue,!0).is.true};f.isNotTrue=function(e,t){new p(e,t,f.isNotTrue,!0).to.not.equal(!0)};f.isFalse=function(e,t){new p(e,t,f.isFalse,!0).is.false};f.isNotFalse=function(e,t){new p(e,t,f.isNotFalse,!0).to.not.equal(!1)};f.isNull=function(e,t){new p(e,t,f.isNull,!0).to.equal(null)};f.isNotNull=function(e,t){new p(e,t,f.isNotNull,!0).to.not.equal(null)};f.isNaN=function(e,t){new p(e,t,f.isNaN,!0).to.be.NaN};f.isNotNaN=function(e,t){new p(e,t,f.isNotNaN,!0).not.to.be.NaN};f.exists=function(e,t){new p(e,t,f.exists,!0).to.exist};f.notExists=function(e,t){new p(e,t,f.notExists,!0).to.not.exist};f.isUndefined=function(e,t){new p(e,t,f.isUndefined,!0).to.equal(void 0)};f.isDefined=function(e,t){new p(e,t,f.isDefined,!0).to.not.equal(void 0)};f.isCallable=function(e,t){new p(e,t,f.isCallable,!0).is.callable};f.isNotCallable=function(e,t){new p(e,t,f.isNotCallable,!0).is.not.callable};f.isObject=function(e,t){new p(e,t,f.isObject,!0).to.be.a("object")};f.isNotObject=function(e,t){new p(e,t,f.isNotObject,!0).to.not.be.a("object")};f.isArray=function(e,t){new p(e,t,f.isArray,!0).to.be.an("array")};f.isNotArray=function(e,t){new p(e,t,f.isNotArray,!0).to.not.be.an("array")};f.isString=function(e,t){new p(e,t,f.isString,!0).to.be.a("string")};f.isNotString=function(e,t){new p(e,t,f.isNotString,!0).to.not.be.a("string")};f.isNumber=function(e,t){new p(e,t,f.isNumber,!0).to.be.a("number")};f.isNotNumber=function(e,t){new p(e,t,f.isNotNumber,!0).to.not.be.a("number")};f.isNumeric=function(e,t){new p(e,t,f.isNumeric,!0).is.numeric};f.isNotNumeric=function(e,t){new p(e,t,f.isNotNumeric,!0).is.not.numeric};f.isFinite=function(e,t){new p(e,t,f.isFinite,!0).to.be.finite};f.isBoolean=function(e,t){new p(e,t,f.isBoolean,!0).to.be.a("boolean")};f.isNotBoolean=function(e,t){new p(e,t,f.isNotBoolean,!0).to.not.be.a("boolean")};f.typeOf=function(e,t,n){new p(e,n,f.typeOf,!0).to.be.a(t)};f.notTypeOf=function(e,t,n){new p(e,n,f.notTypeOf,!0).to.not.be.a(t)};f.instanceOf=function(e,t,n){new p(e,n,f.instanceOf,!0).to.be.instanceOf(t)};f.notInstanceOf=function(e,t,n){new p(e,n,f.notInstanceOf,!0).to.not.be.instanceOf(t)};f.include=function(e,t,n){new p(e,n,f.include,!0).include(t)};f.notInclude=function(e,t,n){new p(e,n,f.notInclude,!0).not.include(t)};f.deepInclude=function(e,t,n){new p(e,n,f.deepInclude,!0).deep.include(t)};f.notDeepInclude=function(e,t,n){new p(e,n,f.notDeepInclude,!0).not.deep.include(t)};f.nestedInclude=function(e,t,n){new p(e,n,f.nestedInclude,!0).nested.include(t)};f.notNestedInclude=function(e,t,n){new p(e,n,f.notNestedInclude,!0).not.nested.include(t)};f.deepNestedInclude=function(e,t,n){new p(e,n,f.deepNestedInclude,!0).deep.nested.include(t)};f.notDeepNestedInclude=function(e,t,n){new p(e,n,f.notDeepNestedInclude,!0).not.deep.nested.include(t)};f.ownInclude=function(e,t,n){new p(e,n,f.ownInclude,!0).own.include(t)};f.notOwnInclude=function(e,t,n){new p(e,n,f.notOwnInclude,!0).not.own.include(t)};f.deepOwnInclude=function(e,t,n){new p(e,n,f.deepOwnInclude,!0).deep.own.include(t)};f.notDeepOwnInclude=function(e,t,n){new p(e,n,f.notDeepOwnInclude,!0).not.deep.own.include(t)};f.match=function(e,t,n){new p(e,n,f.match,!0).to.match(t)};f.notMatch=function(e,t,n){new p(e,n,f.notMatch,!0).to.not.match(t)};f.property=function(e,t,n){new p(e,n,f.property,!0).to.have.property(t)};f.notProperty=function(e,t,n){new p(e,n,f.notProperty,!0).to.not.have.property(t)};f.propertyVal=function(e,t,n,r){new p(e,r,f.propertyVal,!0).to.have.property(t,n)};f.notPropertyVal=function(e,t,n,r){new p(e,r,f.notPropertyVal,!0).to.not.have.property(t,n)};f.deepPropertyVal=function(e,t,n,r){new p(e,r,f.deepPropertyVal,!0).to.have.deep.property(t,n)};f.notDeepPropertyVal=function(e,t,n,r){new p(e,r,f.notDeepPropertyVal,!0).to.not.have.deep.property(t,n)};f.ownProperty=function(e,t,n){new p(e,n,f.ownProperty,!0).to.have.own.property(t)};f.notOwnProperty=function(e,t,n){new p(e,n,f.notOwnProperty,!0).to.not.have.own.property(t)};f.ownPropertyVal=function(e,t,n,r){new p(e,r,f.ownPropertyVal,!0).to.have.own.property(t,n)};f.notOwnPropertyVal=function(e,t,n,r){new p(e,r,f.notOwnPropertyVal,!0).to.not.have.own.property(t,n)};f.deepOwnPropertyVal=function(e,t,n,r){new p(e,r,f.deepOwnPropertyVal,!0).to.have.deep.own.property(t,n)};f.notDeepOwnPropertyVal=function(e,t,n,r){new p(e,r,f.notDeepOwnPropertyVal,!0).to.not.have.deep.own.property(t,n)};f.nestedProperty=function(e,t,n){new p(e,n,f.nestedProperty,!0).to.have.nested.property(t)};f.notNestedProperty=function(e,t,n){new p(e,n,f.notNestedProperty,!0).to.not.have.nested.property(t)};f.nestedPropertyVal=function(e,t,n,r){new p(e,r,f.nestedPropertyVal,!0).to.have.nested.property(t,n)};f.notNestedPropertyVal=function(e,t,n,r){new p(e,r,f.notNestedPropertyVal,!0).to.not.have.nested.property(t,n)};f.deepNestedPropertyVal=function(e,t,n,r){new p(e,r,f.deepNestedPropertyVal,!0).to.have.deep.nested.property(t,n)};f.notDeepNestedPropertyVal=function(e,t,n,r){new p(e,r,f.notDeepNestedPropertyVal,!0).to.not.have.deep.nested.property(t,n)};f.lengthOf=function(e,t,n){new p(e,n,f.lengthOf,!0).to.have.lengthOf(t)};f.hasAnyKeys=function(e,t,n){new p(e,n,f.hasAnyKeys,!0).to.have.any.keys(t)};f.hasAllKeys=function(e,t,n){new p(e,n,f.hasAllKeys,!0).to.have.all.keys(t)};f.containsAllKeys=function(e,t,n){new p(e,n,f.containsAllKeys,!0).to.contain.all.keys(t)};f.doesNotHaveAnyKeys=function(e,t,n){new p(e,n,f.doesNotHaveAnyKeys,!0).to.not.have.any.keys(t)};f.doesNotHaveAllKeys=function(e,t,n){new p(e,n,f.doesNotHaveAllKeys,!0).to.not.have.all.keys(t)};f.hasAnyDeepKeys=function(e,t,n){new p(e,n,f.hasAnyDeepKeys,!0).to.have.any.deep.keys(t)};f.hasAllDeepKeys=function(e,t,n){new p(e,n,f.hasAllDeepKeys,!0).to.have.all.deep.keys(t)};f.containsAllDeepKeys=function(e,t,n){new p(e,n,f.containsAllDeepKeys,!0).to.contain.all.deep.keys(t)};f.doesNotHaveAnyDeepKeys=function(e,t,n){new p(e,n,f.doesNotHaveAnyDeepKeys,!0).to.not.have.any.deep.keys(t)};f.doesNotHaveAllDeepKeys=function(e,t,n){new p(e,n,f.doesNotHaveAllDeepKeys,!0).to.not.have.all.deep.keys(t)};f.throws=function(e,t,n,r){(typeof t=="string"||t instanceof RegExp)&&(n=t,t=null);let s=new p(e,r,f.throws,!0).to.throw(t,n);return k(s,"object")};f.doesNotThrow=function(e,t,n,r){(typeof t=="string"||t instanceof RegExp)&&(n=t,t=null),new p(e,r,f.doesNotThrow,!0).to.not.throw(t,n)};f.operator=function(e,t,n,r){let s;switch(t){case"==":s=e==n;break;case"===":s=e===n;break;case">":s=e>n;break;case">=":s=e>=n;break;case"<":s=e<n;break;case"<=":s=e<=n;break;case"!=":s=e!=n;break;case"!==":s=e!==n;break;default:throw r=r&&r+": ",new K(r+'Invalid operator "'+t+'"',void 0,f.operator)}let o=new p(s,r,f.operator,!0);o.assert(k(o,"object")===!0,"expected "+V(e)+" to be "+t+" "+V(n),"expected "+V(e)+" to not be "+t+" "+V(n))};f.closeTo=function(e,t,n,r){new p(e,r,f.closeTo,!0).to.be.closeTo(t,n)};f.approximately=function(e,t,n,r){new p(e,r,f.approximately,!0).to.be.approximately(t,n)};f.sameMembers=function(e,t,n){new p(e,n,f.sameMembers,!0).to.have.same.members(t)};f.notSameMembers=function(e,t,n){new p(e,n,f.notSameMembers,!0).to.not.have.same.members(t)};f.sameDeepMembers=function(e,t,n){new p(e,n,f.sameDeepMembers,!0).to.have.same.deep.members(t)};f.notSameDeepMembers=function(e,t,n){new p(e,n,f.notSameDeepMembers,!0).to.not.have.same.deep.members(t)};f.sameOrderedMembers=function(e,t,n){new p(e,n,f.sameOrderedMembers,!0).to.have.same.ordered.members(t)};f.notSameOrderedMembers=function(e,t,n){new p(e,n,f.notSameOrderedMembers,!0).to.not.have.same.ordered.members(t)};f.sameDeepOrderedMembers=function(e,t,n){new p(e,n,f.sameDeepOrderedMembers,!0).to.have.same.deep.ordered.members(t)};f.notSameDeepOrderedMembers=function(e,t,n){new p(e,n,f.notSameDeepOrderedMembers,!0).to.not.have.same.deep.ordered.members(t)};f.includeMembers=function(e,t,n){new p(e,n,f.includeMembers,!0).to.include.members(t)};f.notIncludeMembers=function(e,t,n){new p(e,n,f.notIncludeMembers,!0).to.not.include.members(t)};f.includeDeepMembers=function(e,t,n){new p(e,n,f.includeDeepMembers,!0).to.include.deep.members(t)};f.notIncludeDeepMembers=function(e,t,n){new p(e,n,f.notIncludeDeepMembers,!0).to.not.include.deep.members(t)};f.includeOrderedMembers=function(e,t,n){new p(e,n,f.includeOrderedMembers,!0).to.include.ordered.members(t)};f.notIncludeOrderedMembers=function(e,t,n){new p(e,n,f.notIncludeOrderedMembers,!0).to.not.include.ordered.members(t)};f.includeDeepOrderedMembers=function(e,t,n){new p(e,n,f.includeDeepOrderedMembers,!0).to.include.deep.ordered.members(t)};f.notIncludeDeepOrderedMembers=function(e,t,n){new p(e,n,f.notIncludeDeepOrderedMembers,!0).to.not.include.deep.ordered.members(t)};f.oneOf=function(e,t,n){new p(e,n,f.oneOf,!0).to.be.oneOf(t)};f.isIterable=function(e,t){if(e==null||!e[Symbol.iterator])throw t=t?`${t} expected ${V(e)} to be an iterable`:`expected ${V(e)} to be an iterable`,new K(t,void 0,f.isIterable)};f.changes=function(e,t,n,r){arguments.length===3&&typeof t=="function"&&(r=n,n=null),new p(e,r,f.changes,!0).to.change(t,n)};f.changesBy=function(e,t,n,r,s){if(arguments.length===4&&typeof t=="function"){let o=r;r=n,s=o}else arguments.length===3&&(r=n,n=null);new p(e,s,f.changesBy,!0).to.change(t,n).by(r)};f.doesNotChange=function(e,t,n,r){return arguments.length===3&&typeof t=="function"&&(r=n,n=null),new p(e,r,f.doesNotChange,!0).to.not.change(t,n)};f.changesButNotBy=function(e,t,n,r,s){if(arguments.length===4&&typeof t=="function"){let o=r;r=n,s=o}else arguments.length===3&&(r=n,n=null);new p(e,s,f.changesButNotBy,!0).to.change(t,n).but.not.by(r)};f.increases=function(e,t,n,r){return arguments.length===3&&typeof t=="function"&&(r=n,n=null),new p(e,r,f.increases,!0).to.increase(t,n)};f.increasesBy=function(e,t,n,r,s){if(arguments.length===4&&typeof t=="function"){let o=r;r=n,s=o}else arguments.length===3&&(r=n,n=null);new p(e,s,f.increasesBy,!0).to.increase(t,n).by(r)};f.doesNotIncrease=function(e,t,n,r){return arguments.length===3&&typeof t=="function"&&(r=n,n=null),new p(e,r,f.doesNotIncrease,!0).to.not.increase(t,n)};f.increasesButNotBy=function(e,t,n,r,s){if(arguments.length===4&&typeof t=="function"){let o=r;r=n,s=o}else arguments.length===3&&(r=n,n=null);new p(e,s,f.increasesButNotBy,!0).to.increase(t,n).but.not.by(r)};f.decreases=function(e,t,n,r){return arguments.length===3&&typeof t=="function"&&(r=n,n=null),new p(e,r,f.decreases,!0).to.decrease(t,n)};f.decreasesBy=function(e,t,n,r,s){if(arguments.length===4&&typeof t=="function"){let o=r;r=n,s=o}else arguments.length===3&&(r=n,n=null);new p(e,s,f.decreasesBy,!0).to.decrease(t,n).by(r)};f.doesNotDecrease=function(e,t,n,r){return arguments.length===3&&typeof t=="function"&&(r=n,n=null),new p(e,r,f.doesNotDecrease,!0).to.not.decrease(t,n)};f.doesNotDecreaseBy=function(e,t,n,r,s){if(arguments.length===4&&typeof t=="function"){let o=r;r=n,s=o}else arguments.length===3&&(r=n,n=null);return new p(e,s,f.doesNotDecreaseBy,!0).to.not.decrease(t,n).by(r)};f.decreasesButNotBy=function(e,t,n,r,s){if(arguments.length===4&&typeof t=="function"){let o=r;r=n,s=o}else arguments.length===3&&(r=n,n=null);new p(e,s,f.decreasesButNotBy,!0).to.decrease(t,n).but.not.by(r)};f.ifError=function(e){if(e)throw e};f.isExtensible=function(e,t){new p(e,t,f.isExtensible,!0).to.be.extensible};f.isNotExtensible=function(e,t){new p(e,t,f.isNotExtensible,!0).to.not.be.extensible};f.isSealed=function(e,t){new p(e,t,f.isSealed,!0).to.be.sealed};f.isNotSealed=function(e,t){new p(e,t,f.isNotSealed,!0).to.not.be.sealed};f.isFrozen=function(e,t){new p(e,t,f.isFrozen,!0).to.be.frozen};f.isNotFrozen=function(e,t){new p(e,t,f.isNotFrozen,!0).to.not.be.frozen};f.isEmpty=function(e,t){new p(e,t,f.isEmpty,!0).to.be.empty};f.isNotEmpty=function(e,t){new p(e,t,f.isNotEmpty,!0).to.not.be.empty};f.containsSubset=function(e,t,n){new p(e,n).to.containSubset(t)};f.doesNotContainSubset=function(e,t,n){new p(e,n).to.not.containSubset(t)};var xc=[["isOk","ok"],["isNotOk","notOk"],["throws","throw"],["throws","Throw"],["isExtensible","extensible"],["isNotExtensible","notExtensible"],["isSealed","sealed"],["isNotSealed","notSealed"],["isFrozen","frozen"],["isNotFrozen","notFrozen"],["isEmpty","empty"],["isNotEmpty","notEmpty"],["isCallable","isFunction"],["isNotCallable","isNotFunction"],["containsSubset","containSubset"]];for(const[e,t]of xc)f[t]=f[e];var ks=[];function He(e){const t={use:He,AssertionError:K,util:ce,config:ge,expect:Je,assert:f,Assertion:p,...Vi};return~ks.indexOf(e)||(e(t,ce),ks.push(e)),t}v(He,"use");const Vt=Symbol.for("matchers-object"),Ct=Symbol.for("$$jest-matchers-object"),an=Symbol.for("expect-global"),es=Symbol.for("asymmetric-matchers-object"),Mc={toSatisfy(e,t,n){const{printReceived:r,printExpected:s,matcherHint:o}=this.utils,i=t(e);return{pass:i,message:()=>i?`${o(".not.toSatisfy","received","")}

Expected value to not satisfy:
${n||s(t)}
Received:
${r(e)}`:`${o(".toSatisfy","received","")}

Expected value to satisfy:
${n||s(t)}

Received:
${r(e)}`}},toBeOneOf(e,t){const{equals:n,customTesters:r}=this,{printReceived:s,printExpected:o,matcherHint:i}=this.utils;let c;if(Array.isArray(t))c=t.length===0||t.some(u=>n(u,e,r));else if(t instanceof Set)c=t.size===0||t.has(e)||[...t].some(u=>n(u,e,r));else throw new TypeError(`You must provide an array or set to ${i(".toBeOneOf")}, not '${typeof t}'.`);return{pass:c,message:()=>c?`${i(".not.toBeOneOf","received","")}

Expected value to not be one of:
${o(t)}
Received:
${s(e)}`:`${i(".toBeOneOf","received","")}

Expected value to be one of:
${o(t)}

Received:
${s(e)}`}}},Wt=re.green,ts=re.red,Tc=re.inverse,Oc=re.bold,Ve=re.dim;function $c(e,t="received",n="expected",r={}){const{comment:s="",isDirectExpectCall:o=!1,isNot:i=!1,promise:c="",secondArgument:u="",expectedColor:a=Wt,receivedColor:l=ts,secondArgumentColor:h=Wt}=r;let m="",d="expect";return!o&&t!==""&&(m+=Ve(`${d}(`)+l(t),d=")"),c!==""&&(m+=Ve(`${d}.`)+c,d=""),i&&(m+=`${Ve(`${d}.`)}not`,d=""),e.includes(".")?d+=e:(m+=Ve(`${d}.`)+e,d=""),n===""?d+="()":(m+=Ve(`${d}(`)+a(n),u&&(m+=Ve(", ")+h(u)),d=")"),s!==""&&(d+=` // ${s}`),d!==""&&(m+=Ve(d)),m}const Pc="·";function Wi(e){return e.replace(/\s+$/gm,t=>Pc.repeat(t.length))}function Nc(e){return ts(Wi(Te(e)))}function Cc(e){return Wt(Wi(Te(e)))}function Ui(){return{EXPECTED_COLOR:Wt,RECEIVED_COLOR:ts,INVERTED_COLOR:Tc,BOLD_WEIGHT:Oc,DIM_COLOR:Ve,diff:at,matcherHint:$c,printReceived:Nc,printExpected:Cc,printDiffOrStringify:Qo,printWithType:Ac}}function Ac(e,t,n){const r=Mt(t),s=r!=="null"&&r!=="undefined"?`${e} has type:  ${r}
`:"",o=`${e} has value: ${n(t)}`;return s+o}function jc(e){if(!Array.isArray(e))throw new TypeError(`expect.customEqualityTesters: Must be set to an array of Testers. Was given "${Mt(e)}"`);globalThis[Ct].customEqualityTesters.push(...e)}function ns(){return globalThis[Ct].customEqualityTesters}function U(e,t,n,r){return n=n||[],St(e,t,[],[],n,r?Ki:Dc)}function Ls(e){return!!e&&typeof e=="object"&&"asymmetricMatch"in e&&Ae("Function",e.asymmetricMatch)}function Ic(e,t,n){const r=Ls(e),s=Ls(t);if(!(r&&s)){if(r)return e.asymmetricMatch(t,n);if(s)return t.asymmetricMatch(e,n)}}function St(e,t,n,r,s,o){let i=!0;const c=Ic(e,t,s);if(c!==void 0)return c;const u={equals:U};for(let y=0;y<s.length;y++){const S=s[y].call(u,e,t,s);if(S!==void 0)return S}if(typeof URL=="function"&&e instanceof URL&&t instanceof URL)return e.href===t.href;if(Object.is(e,t))return!0;if(e===null||t===null)return e===t;const a=Object.prototype.toString.call(e);if(a!==Object.prototype.toString.call(t))return!1;switch(a){case"[object Boolean]":case"[object String]":case"[object Number]":return typeof e!=typeof t?!1:typeof e!="object"&&typeof t!="object"?Object.is(e,t):Object.is(e.valueOf(),t.valueOf());case"[object Date]":{const y=+e,S=+t;return y===S||Number.isNaN(y)&&Number.isNaN(S)}case"[object RegExp]":return e.source===t.source&&e.flags===t.flags;case"[object Temporal.Instant]":case"[object Temporal.ZonedDateTime]":case"[object Temporal.PlainDateTime]":case"[object Temporal.PlainDate]":case"[object Temporal.PlainTime]":case"[object Temporal.PlainYearMonth]":case"[object Temporal.PlainMonthDay]":return e.equals(t);case"[object Temporal.Duration]":return e.toString()===t.toString()}if(typeof e!="object"||typeof t!="object")return!1;if(Bs(e)&&Bs(t))return e.isEqualNode(t);let l=n.length;for(;l--;){if(n[l]===e)return r[l]===t;if(r[l]===t)return!1}if(n.push(e),r.push(t),a==="[object Array]"&&e.length!==t.length)return!1;if(e instanceof Error&&t instanceof Error)try{return _c(e,t,n,r,s,o)}finally{n.pop(),r.pop()}const h=Rs(e,o);let m,d=h.length;if(Rs(t,o).length!==d)return!1;for(;d--;)if(m=h[d],i=o(t,m)&&St(e[m],t[m],n,r,s,o),!i)return!1;return n.pop(),r.pop(),i}function _c(e,t,n,r,s,o){let i=Object.getPrototypeOf(e)===Object.getPrototypeOf(t)&&e.name===t.name&&e.message===t.message;return typeof t.cause<"u"&&i&&(i=St(e.cause,t.cause,n,r,s,o)),e instanceof AggregateError&&t instanceof AggregateError&&i&&(i=St(e.errors,t.errors,n,r,s,o)),i&&(i=St({...e},{...t},n,r,s,o)),i}function Rs(e,t){const n=[];for(const r in e)t(e,r)&&n.push(r);return n.concat(Object.getOwnPropertySymbols(e).filter(r=>Object.getOwnPropertyDescriptor(e,r).enumerable))}function Dc(e,t){return Ki(e,t)&&e[t]!==void 0}function Ki(e,t){return Object.hasOwn(e,t)}function Ae(e,t){return Object.prototype.toString.apply(t)===`[object ${e}]`}function Bs(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"&&"nodeName"in e&&typeof e.nodeName=="string"&&"isEqualNode"in e&&typeof e.isEqualNode=="function"}const Gi="@@__IMMUTABLE_KEYED__@@",Ji="@@__IMMUTABLE_SET__@@",Fc="@@__IMMUTABLE_LIST__@@",cn="@@__IMMUTABLE_ORDERED__@@",qc="@@__IMMUTABLE_RECORD__@@";function kc(e){return!!(e&&e[Gi]&&!e[cn])}function Lc(e){return!!(e&&e[Ji]&&!e[cn])}function ln(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}function Rc(e){return!!(e&&ln(e)&&e[Fc])}function Bc(e){return!!(e&&ln(e)&&e[Gi]&&e[cn])}function zc(e){return!!(e&&ln(e)&&e[Ji]&&e[cn])}function Vc(e){return!!(e&&ln(e)&&e[qc])}const Yi=Symbol.iterator;function zs(e){return!!(e!=null&&e[Yi])}function xe(e,t,n=[],r=[],s=[]){if(typeof e!="object"||typeof t!="object"||Array.isArray(e)||Array.isArray(t)||!zs(e)||!zs(t))return;if(e.constructor!==t.constructor)return!1;let o=r.length;for(;o--;)if(r[o]===e)return s[o]===t;r.push(e),s.push(t);const i=[...n.filter(a=>a!==xe),c];function c(a,l){return xe(a,l,[...n],[...r],[...s])}if(e.size!==void 0){if(e.size!==t.size)return!1;if(Ae("Set",e)||Lc(e)){let a=!0;for(const l of e)if(!t.has(l)){let h=!1;for(const m of t)U(l,m,i)===!0&&(h=!0);if(h===!1){a=!1;break}}return r.pop(),s.pop(),a}else if(Ae("Map",e)||kc(e)){let a=!0;for(const l of e)if(!t.has(l[0])||!U(l[1],t.get(l[0]),i)){let h=!1;for(const m of t){const d=U(l[0],m[0],i);let y=!1;d===!0&&(y=U(l[1],m[1],i)),y===!0&&(h=!0)}if(h===!1){a=!1;break}}return r.pop(),s.pop(),a}}const u=t[Yi]();for(const a of e){const l=u.next();if(l.done||!U(a,l.value,i))return!1}if(!u.next().done)return!1;if(!Rc(e)&&!Bc(e)&&!zc(e)&&!Vc(e)){const a=Object.entries(e),l=Object.entries(t);if(!U(a,l,i))return!1}return r.pop(),s.pop(),!0}function rs(e,t){return!e||typeof e!="object"||e===Object.prototype?!1:Object.hasOwn(e,t)||rs(Object.getPrototypeOf(e),t)}function Wc(e){return _t(e)&&!(e instanceof Error)&&!Array.isArray(e)&&!(e instanceof Date)}function lt(e,t,n=[]){const r=n.filter(o=>o!==lt),s=(o=new WeakMap)=>(i,c)=>{if(Wc(c))return Object.keys(c).every(u=>{if(c[u]!=null&&typeof c[u]=="object"){if(o.has(c[u]))return U(i[u],c[u],r);o.set(c[u],!0)}const a=i!=null&&rs(i,u)&&U(i[u],c[u],[...r,s(o)]);return o.delete(c[u]),a})};return s()(e,t)}function Vs(e,t){if(!(e==null||t==null||e.constructor===t.constructor))return!1}function Ws(e,t){let n=e,r=t;if(!(e instanceof DataView&&t instanceof DataView)){if(!(e instanceof ArrayBuffer)||!(t instanceof ArrayBuffer))return;try{n=new DataView(e),r=new DataView(t)}catch{return}}if(n.byteLength!==r.byteLength)return!1;for(let s=0;s<n.byteLength;s++)if(n.getUint8(s)!==r.getUint8(s))return!1;return!0}function cr(e,t,n=[]){if(!Array.isArray(e)||!Array.isArray(t))return;const r=Object.keys(e),s=Object.keys(t),o=n.filter(i=>i!==cr);return U(e,t,o,!0)&&U(r,s)}function Uc(e,t="#{this}",n="#{exp}"){const r=`expected ${t} to be ${n} // Object.is equality`;return["toStrictEqual","toEqual"].includes(e)?`${r}

If it should pass with deep equality, replace "toBe" with "${e}"

Expected: ${t}
Received: serializes to the same string
`:r}function Kc(e,t){return`${t} ${e}${t===1?"":"s"}`}function wn(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e).filter(t=>{var n;return(n=Object.getOwnPropertyDescriptor(e,t))===null||n===void 0?void 0:n.enumerable})]}function Gc(e,t,n){let r=0;const s=(o=new WeakMap)=>(i,c)=>{if(Array.isArray(i)){if(Array.isArray(c)&&c.length===i.length)return c.map((u,a)=>s(o)(i[a],u))}else{if(i instanceof Date)return i;if(_t(i)&&_t(c)){if(U(i,c,[...n,xe,lt]))return c;const u={};o.set(i,u),typeof i.constructor=="function"&&typeof i.constructor.name=="string"&&Object.defineProperty(u,"constructor",{enumerable:!1,value:i.constructor});for(const a of wn(i))rs(c,a)?u[a]=o.has(i[a])?o.get(i[a]):s(o)(i[a],c[a]):o.has(i[a])||(r+=1,_t(i[a])&&(r+=wn(i[a]).length),s(o)(i[a],c[a]));if(wn(u).length>0)return u}}return i};return{subset:s()(e,t),stripped:r}}function Jc(e){return!!e&&typeof e=="object"&&e["~standard"]&&typeof e["~standard"].validate=="function"}if(!Object.hasOwn(globalThis,Vt)){const e=new WeakMap,t=Object.create(null),n=[],r=Object.create(null);Object.defineProperty(globalThis,Vt,{get:()=>e}),Object.defineProperty(globalThis,Ct,{configurable:!0,get:()=>({state:e.get(globalThis[an]),matchers:t,customEqualityTesters:n})}),Object.defineProperty(globalThis,es,{get:()=>r})}function Et(e){return globalThis[Vt].get(e)}function vn(e,t){const n=globalThis[Vt],r=n.get(t)||{},s=Object.defineProperties(r,{...Object.getOwnPropertyDescriptors(r),...Object.getOwnPropertyDescriptors(e)});n.set(t,s)}let De=class{$$typeof=Symbol.for("jest.asymmetricMatcher");constructor(t,n=!1){this.sample=t,this.inverse=n}getMatcherContext(t){return{...Et(t||globalThis[an]),equals:U,isNot:this.inverse,customTesters:ns(),utils:{...Ui(),diff:at,stringify:Te,iterableEquality:xe,subsetEquality:lt}}}};De.prototype[Symbol.for("chai/inspect")]=function(e){const t=Te(this,e.depth,{min:!0});return t.length<=e.truncate?t:`${this.toString()}{…}`};class Us extends De{constructor(t,n=!1){if(!Ae("String",t))throw new Error("Expected is not a string");super(t,n)}asymmetricMatch(t){const n=Ae("String",t)&&t.includes(this.sample);return this.inverse?!n:n}toString(){return`String${this.inverse?"Not":""}Containing`}getExpectedType(){return"string"}}class Yc extends De{asymmetricMatch(t){return t!=null}toString(){return"Anything"}toAsymmetricMatcher(){return"Anything"}}class Ks extends De{constructor(t,n=!1){super(t,n)}getPrototype(t){return Object.getPrototypeOf?Object.getPrototypeOf(t):t.constructor.prototype===t?null:t.constructor.prototype}hasProperty(t,n){return t?Object.hasOwn(t,n)?!0:this.hasProperty(this.getPrototype(t),n):!1}getProperties(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t).filter(n=>{var r;return(r=Object.getOwnPropertyDescriptor(t,n))===null||r===void 0?void 0:r.enumerable})]}asymmetricMatch(t,n){if(typeof this.sample!="object")throw new TypeError(`You must provide an object to ${this.toString()}, not '${typeof this.sample}'.`);let r=!0;const s=this.getProperties(this.sample);for(const c of s){var o,i;if(!this.hasProperty(t,c)){r=!1;break}const u=((o=Object.getOwnPropertyDescriptor(this.sample,c))===null||o===void 0?void 0:o.value)??this.sample[c],a=((i=Object.getOwnPropertyDescriptor(t,c))===null||i===void 0?void 0:i.value)??t[c];if(!U(u,a,n)){r=!1;break}}return this.inverse?!r:r}toString(){return`Object${this.inverse?"Not":""}Containing`}getExpectedType(){return"object"}}class Gs extends De{constructor(t,n=!1){super(t,n)}asymmetricMatch(t,n){if(!Array.isArray(this.sample))throw new TypeError(`You must provide an array to ${this.toString()}, not '${typeof this.sample}'.`);const r=this.sample.length===0||Array.isArray(t)&&this.sample.every(s=>t.some(o=>U(s,o,n)));return this.inverse?!r:r}toString(){return`Array${this.inverse?"Not":""}Containing`}getExpectedType(){return"array"}}class Xc extends De{constructor(t){if(typeof t>"u")throw new TypeError("any() expects to be passed a constructor function. Please pass one or use anything() to match any object.");super(t)}fnNameFor(t){if(t.name)return t.name;const r=Function.prototype.toString.call(t).match(/^(?:async)?\s*function\s*(?:\*\s*)?([\w$]+)\s*\(/);return r?r[1]:"<anonymous>"}asymmetricMatch(t){return this.sample===String?typeof t=="string"||t instanceof String:this.sample===Number?typeof t=="number"||t instanceof Number:this.sample===Function?typeof t=="function"||typeof t=="function":this.sample===Boolean?typeof t=="boolean"||t instanceof Boolean:this.sample===BigInt?typeof t=="bigint"||t instanceof BigInt:this.sample===Symbol?typeof t=="symbol"||t instanceof Symbol:this.sample===Object?typeof t=="object":t instanceof this.sample}toString(){return"Any"}getExpectedType(){return this.sample===String?"string":this.sample===Number?"number":this.sample===Function?"function":this.sample===Object?"object":this.sample===Boolean?"boolean":this.fnNameFor(this.sample)}toAsymmetricMatcher(){return`Any<${this.fnNameFor(this.sample)}>`}}class Js extends De{constructor(t,n=!1){if(!Ae("String",t)&&!Ae("RegExp",t))throw new Error("Expected is not a String or a RegExp");super(new RegExp(t),n)}asymmetricMatch(t){const n=Ae("String",t)&&this.sample.test(t);return this.inverse?!n:n}toString(){return`String${this.inverse?"Not":""}Matching`}getExpectedType(){return"string"}}class Ys extends De{precision;constructor(t,n=2,r=!1){if(!Ae("Number",t))throw new Error("Expected is not a Number");if(!Ae("Number",n))throw new Error("Precision is not a Number");super(t),this.inverse=r,this.precision=n}asymmetricMatch(t){if(!Ae("Number",t))return!1;let n=!1;return t===Number.POSITIVE_INFINITY&&this.sample===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY&&this.sample===Number.NEGATIVE_INFINITY?n=!0:n=Math.abs(this.sample-t)<10**-this.precision/2,this.inverse?!n:n}toString(){return`Number${this.inverse?"Not":""}CloseTo`}getExpectedType(){return"number"}toAsymmetricMatcher(){return[this.toString(),this.sample,`(${Kc("digit",this.precision)})`].join(" ")}}class Xs extends De{result;constructor(t,n=!1){if(!Jc(t))throw new TypeError("SchemaMatching expected to receive a Standard Schema.");super(t,n)}asymmetricMatch(t){const n=this.sample["~standard"].validate(t);if(n instanceof Promise)throw new TypeError("Async schema validation is not supported in asymmetric matchers.");this.result=n;const r=!this.result.issues||this.result.issues.length===0;return this.inverse?!r:r}toString(){return`Schema${this.inverse?"Not":""}Matching`}getExpectedType(){return"object"}toAsymmetricMatcher(){var t;const{utils:n}=this.getMatcherContext();return(((t=this.result)===null||t===void 0?void 0:t.issues)||[]).length>0?`${this.toString()} ${n.stringify(this.result,void 0,{printBasicPrototype:!1})}`:this.toString()}}const Zc=(e,t)=>{t.addMethod(e.expect,"anything",()=>new Yc),t.addMethod(e.expect,"any",n=>new Xc(n)),t.addMethod(e.expect,"stringContaining",n=>new Us(n)),t.addMethod(e.expect,"objectContaining",n=>new Ks(n)),t.addMethod(e.expect,"arrayContaining",n=>new Gs(n)),t.addMethod(e.expect,"stringMatching",n=>new Js(n)),t.addMethod(e.expect,"closeTo",(n,r)=>new Ys(n,r)),t.addMethod(e.expect,"schemaMatching",n=>new Xs(n)),e.expect.not={stringContaining:n=>new Us(n,!0),objectContaining:n=>new Ks(n,!0),arrayContaining:n=>new Gs(n,!0),stringMatching:n=>new Js(n,!0),closeTo:(n,r)=>new Ys(n,r,!0),schemaMatching:n=>new Xs(n,!0)}};function Zs(e,t,n){const r=e.flag(t,"negate")?"not.":"",s=`${e.flag(t,"_name")}(${n?"expected":""})`,o=e.flag(t,"promise");return`expect(actual)${o?`.${o}`:""}.${r}${s}`}function Qs(e,t,n,r){const s=e;if(s&&t instanceof Promise){t=t.finally(()=>{if(!s.promises)return;const i=s.promises.indexOf(t);i!==-1&&s.promises.splice(i,1)}),s.promises||(s.promises=[]),s.promises.push(t);let o=!1;return s.onFinished??(s.onFinished=[]),s.onFinished.push(()=>{if(!o){var i;const u=(((i=globalThis.__vitest_worker__)===null||i===void 0?void 0:i.onFilterStackTrace)||(a=>a||""))(r.stack);console.warn([`Promise returned by \`${n}\` was not awaited. `,"Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. ",`Please remember to await the assertion.
`,u].join(""))}}),{then(i,c){return o=!0,t.then(i,c)},catch(i){return t.catch(i)},finally(i){return t.finally(i)},[Symbol.toStringTag]:"Promise"}}return t}function Hs(e,t){var n;e.result||(e.result={state:"fail"}),e.result.state="fail",(n=e.result).errors||(n.errors=[]),e.result.errors.push(ti(t))}function Xi(e,t,n){return function(...r){if(t!=="withTest"&&e.flag(this,"_name",t),!e.flag(this,"soft"))return n.apply(this,r);const s=e.flag(this,"vitest-test");if(!s)throw new Error("expect.soft() can only be used inside a test");try{const o=n.apply(this,r);return o&&typeof o=="object"&&typeof o.then=="function"?o.then(fa,i=>{Hs(s,i)}):o}catch(o){Hs(s,o)}}}const Qc=(e,t)=>{const{AssertionError:n}=e,r=ns();function s(a,l){const h=m=>{const d=Xi(t,m,l);t.addMethod(e.Assertion.prototype,m,d),t.addMethod(globalThis[Ct].matchers,m,d)};Array.isArray(a)?a.forEach(m=>h(m)):h(a)}["throw","throws","Throw"].forEach(a=>{t.overwriteMethod(e.Assertion.prototype,a,l=>function(...h){const m=t.flag(this,"promise"),d=t.flag(this,"object"),y=t.flag(this,"negate");if(m==="rejects")t.flag(this,"object",()=>{throw d});else if(m==="resolves"&&typeof d!="function"){if(y)return;{const S=t.flag(this,"message")||"expected promise to throw an error, but it didn't",x={showDiff:!1};throw new n(S,x,t.flag(this,"ssfi"))}}l.apply(this,h)})}),s("withTest",function(a){return t.flag(this,"vitest-test",a),this}),s("toEqual",function(a){const l=t.flag(this,"object"),h=U(l,a,[...r,xe]);return this.assert(h,"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",a,l)}),s("toStrictEqual",function(a){const l=t.flag(this,"object"),h=U(l,a,[...r,xe,Vs,cr,Ws],!0);return this.assert(h,"expected #{this} to strictly equal #{exp}","expected #{this} to not strictly equal #{exp}",a,l)}),s("toBe",function(a){const l=this._obj,h=Object.is(l,a);let m="";return h||(U(l,a,[...r,xe,Vs,cr,Ws],!0)?m="toStrictEqual":U(l,a,[...r,xe])&&(m="toEqual")),this.assert(h,Uc(m),"expected #{this} not to be #{exp} // Object.is equality",a,l)}),s("toMatchObject",function(a){const l=this._obj,h=U(l,a,[...r,xe,lt]),m=t.flag(this,"negate"),{subset:d,stripped:y}=Gc(l,a,r);if(h&&m||!h&&!m){const S=t.getMessage(this,[h,"expected #{this} to match object #{exp}","expected #{this} to not match object #{exp}",a,d,!1]),x=y===0?S:`${S}
(${y} matching ${y===1?"property":"properties"} omitted from actual)`;throw new n(x,{showDiff:!0,expected:a,actual:d})}}),s("toMatch",function(a){const l=this._obj;if(typeof l!="string")throw new TypeError(`.toMatch() expects to receive a string, but got ${typeof l}`);return this.assert(typeof a=="string"?l.includes(a):l.match(a),"expected #{this} to match #{exp}","expected #{this} not to match #{exp}",a,l)}),s("toContain",function(a){const l=this._obj;if(typeof Node<"u"&&l instanceof Node){if(!(a instanceof Node))throw new TypeError(`toContain() expected a DOM node as the argument, but got ${typeof a}`);return this.assert(l.contains(a),"expected #{this} to contain element #{exp}","expected #{this} not to contain element #{exp}",a,l)}if(typeof DOMTokenList<"u"&&l instanceof DOMTokenList){Le(a,"class name",["string"]);const m=t.flag(this,"negate")?l.value.replace(a,"").trim():`${l.value} ${a}`;return this.assert(l.contains(a),`expected "${l.value}" to contain "${a}"`,`expected "${l.value}" not to contain "${a}"`,m,l.value)}return typeof l=="string"&&typeof a=="string"?this.assert(l.includes(a),"expected #{this} to contain #{exp}","expected #{this} not to contain #{exp}",a,l):(l!=null&&typeof l!="string"&&t.flag(this,"object",Array.from(l)),this.contain(a))}),s("toContainEqual",function(a){const l=t.flag(this,"object"),h=Array.from(l).findIndex(m=>U(m,a,r));this.assert(h!==-1,"expected #{this} to deep equally contain #{exp}","expected #{this} to not deep equally contain #{exp}",a)}),s("toBeTruthy",function(){const a=t.flag(this,"object");this.assert(!!a,"expected #{this} to be truthy","expected #{this} to not be truthy",!0,a)}),s("toBeFalsy",function(){const a=t.flag(this,"object");this.assert(!a,"expected #{this} to be falsy","expected #{this} to not be falsy",!1,a)}),s("toBeGreaterThan",function(a){const l=this._obj;return Le(l,"actual",["number","bigint"]),Le(a,"expected",["number","bigint"]),this.assert(l>a,`expected ${l} to be greater than ${a}`,`expected ${l} to be not greater than ${a}`,a,l,!1)}),s("toBeGreaterThanOrEqual",function(a){const l=this._obj;return Le(l,"actual",["number","bigint"]),Le(a,"expected",["number","bigint"]),this.assert(l>=a,`expected ${l} to be greater than or equal to ${a}`,`expected ${l} to be not greater than or equal to ${a}`,a,l,!1)}),s("toBeLessThan",function(a){const l=this._obj;return Le(l,"actual",["number","bigint"]),Le(a,"expected",["number","bigint"]),this.assert(l<a,`expected ${l} to be less than ${a}`,`expected ${l} to be not less than ${a}`,a,l,!1)}),s("toBeLessThanOrEqual",function(a){const l=this._obj;return Le(l,"actual",["number","bigint"]),Le(a,"expected",["number","bigint"]),this.assert(l<=a,`expected ${l} to be less than or equal to ${a}`,`expected ${l} to be not less than or equal to ${a}`,a,l,!1)}),s("toBeNaN",function(){const a=t.flag(this,"object");this.assert(Number.isNaN(a),"expected #{this} to be NaN","expected #{this} not to be NaN",Number.NaN,a)}),s("toBeUndefined",function(){const a=t.flag(this,"object");this.assert(a===void 0,"expected #{this} to be undefined","expected #{this} not to be undefined",void 0,a)}),s("toBeNull",function(){const a=t.flag(this,"object");this.assert(a===null,"expected #{this} to be null","expected #{this} not to be null",null,a)}),s("toBeNullable",function(){const a=t.flag(this,"object");this.assert(a==null,"expected #{this} to be nullish","expected #{this} not to be nullish",null,a)}),s("toBeDefined",function(){const a=t.flag(this,"object");this.assert(typeof a<"u","expected #{this} to be defined","expected #{this} to be undefined",a)}),s("toBeTypeOf",function(a){const l=typeof this._obj,h=a===l;return this.assert(h,"expected #{this} to be type of #{exp}","expected #{this} not to be type of #{exp}",a,l)}),s("toBeInstanceOf",function(a){return this.instanceOf(a)}),s("toHaveLength",function(a){return this.have.length(a)}),s("toHaveProperty",function(...a){Array.isArray(a[0])&&(a[0]=a[0].map(O=>String(O).replace(/([.[\]])/g,"\\$1")).join("."));const l=this._obj,[h,m]=a,d=()=>Object.hasOwn(l,h)?{value:l[h],exists:!0}:t.getPathInfo(l,h),{value:y,exists:S}=d(),x=S&&(a.length===1||U(m,y,r)),M=a.length===1?"":` with value ${t.objDisplay(m)}`;return this.assert(x,`expected #{this} to have property "${h}"${M}`,`expected #{this} to not have property "${h}"${M}`,m,S?y:void 0)}),s("toBeCloseTo",function(a,l=2){const h=this._obj;let m=!1,d=0,y=0;return a===Number.POSITIVE_INFINITY&&h===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY&&h===Number.NEGATIVE_INFINITY?m=!0:(d=10**-l/2,y=Math.abs(h-a),m=y<d),this.assert(m,`expected #{this} to be close to #{exp}, received difference is ${y}, but expected ${d}`,`expected #{this} to not be close to #{exp}, received difference is ${y}, but expected ${d}`,a,h,!1)});function o(a){if(!mn(a._obj))throw new TypeError(`${t.inspect(a._obj)} is not a spy or a call to a spy!`)}function i(a){return o(a),a._obj}s(["toHaveBeenCalledTimes","toBeCalledTimes"],function(a){const l=i(this),h=l.getMockName(),m=l.mock.calls.length;return this.assert(m===a,`expected "${h}" to be called #{exp} times, but got ${m} times`,`expected "${h}" to not be called #{exp} times`,a,m,!1)}),s("toHaveBeenCalledOnce",function(){const a=i(this),l=a.getMockName(),h=a.mock.calls.length;return this.assert(h===1,`expected "${l}" to be called once, but got ${h} times`,`expected "${l}" to not be called once`,1,h,!1)}),s(["toHaveBeenCalled","toBeCalled"],function(){const a=i(this),l=a.getMockName(),h=a.mock.calls.length,m=h>0,d=t.flag(this,"negate");let y=t.getMessage(this,[m,`expected "${l}" to be called at least once`,`expected "${l}" to not be called at all, but actually been called ${h} times`,!0,m]);if(m&&d&&(y=Sn(a,y)),m&&d||!m&&!d)throw new n(y)});function c(a,l){return a.length===l.length&&a.every((h,m)=>U(h,l[m],[...r,xe]))}s(["toHaveBeenCalledWith","toBeCalledWith"],function(...a){const l=i(this),h=l.getMockName(),m=l.mock.calls.some(S=>c(S,a)),d=t.flag(this,"negate"),y=t.getMessage(this,[m,`expected "${h}" to be called with arguments: #{exp}`,`expected "${h}" to not be called with arguments: #{exp}`,a]);if(m&&d||!m&&!d)throw new n(Sn(l,y,a))}),s("toHaveBeenCalledExactlyOnceWith",function(...a){const l=i(this),h=l.getMockName(),m=l.mock.calls.length,y=l.mock.calls.some(M=>c(M,a))&&m===1,S=t.flag(this,"negate"),x=t.getMessage(this,[y,`expected "${h}" to be called once with arguments: #{exp}`,`expected "${h}" to not be called once with arguments: #{exp}`,a]);if(y&&S||!y&&!S)throw new n(Sn(l,x,a))}),s(["toHaveBeenNthCalledWith","nthCalledWith"],function(a,...l){const h=i(this),m=h.getMockName(),d=h.mock.calls[a-1],y=h.mock.calls.length,S=a<=y;this.assert(d&&c(d,l),`expected ${xt(a)} "${m}" call to have been called with #{exp}${S?"":`, but called only ${y} times`}`,`expected ${xt(a)} "${m}" call to not have been called with #{exp}`,l,d,S)}),s(["toHaveBeenLastCalledWith","lastCalledWith"],function(...a){const l=i(this),h=l.getMockName(),m=l.mock.calls.at(-1);this.assert(m&&c(m,a),`expected last "${h}" call to have been called with #{exp}`,`expected last "${h}" call to not have been called with #{exp}`,a,m)});function u(a,l,h){const m=a.mock.invocationCallOrder,d=l.mock.invocationCallOrder;return m.length===0?!h:d.length===0?!1:m[0]<d[0]}s(["toHaveBeenCalledBefore"],function(a,l=!0){const h=i(this);if(!mn(a))throw new TypeError(`${t.inspect(a)} is not a spy or a call to a spy`);this.assert(u(h,a,l),`expected "${h.getMockName()}" to have been called before "${a.getMockName()}"`,`expected "${h.getMockName()}" to not have been called before "${a.getMockName()}"`,a,h)}),s(["toHaveBeenCalledAfter"],function(a,l=!0){const h=i(this);if(!mn(a))throw new TypeError(`${t.inspect(a)} is not a spy or a call to a spy`);this.assert(u(a,h,l),`expected "${h.getMockName()}" to have been called after "${a.getMockName()}"`,`expected "${h.getMockName()}" to not have been called after "${a.getMockName()}"`,a,h)}),s(["toThrow","toThrowError"],function(a){if(typeof a=="string"||typeof a>"u"||a instanceof RegExp)return this.throws(a===""?/^$/:a);const l=this._obj,h=t.flag(this,"promise"),m=t.flag(this,"negate");let d=null;if(h==="rejects")d=l;else if(h==="resolves"&&typeof l!="function"){if(m)return;{const y=t.flag(this,"message")||"expected promise to throw an error, but it didn't",S={showDiff:!1};throw new n(y,S,t.flag(this,"ssfi"))}}else{let y=!1;try{l()}catch(S){y=!0,d=S}if(!y&&!m){const S=t.flag(this,"message")||"expected function to throw an error, but it didn't",x={showDiff:!1};throw new n(S,x,t.flag(this,"ssfi"))}}if(typeof a=="function"){const y=a.name||a.prototype.constructor.name;return this.assert(d&&d instanceof a,`expected error to be instance of ${y}`,`expected error not to be instance of ${y}`,a,d)}if(a instanceof Error){const y=U(d,a,[...r,xe]);return this.assert(y,"expected a thrown error to be #{exp}","expected a thrown error not to be #{exp}",a,d)}if(typeof a=="object"&&"asymmetricMatch"in a&&typeof a.asymmetricMatch=="function"){const y=a;return this.assert(d&&y.asymmetricMatch(d),"expected error to match asymmetric matcher","expected error not to match asymmetric matcher",y,d)}throw new Error(`"toThrow" expects string, RegExp, function, Error instance or asymmetric matcher, got "${typeof a}"`)}),[{name:"toHaveResolved",condition:a=>a.mock.settledResults.length>0&&a.mock.settledResults.some(({type:l})=>l==="fulfilled"),action:"resolved"},{name:["toHaveReturned","toReturn"],condition:a=>a.mock.calls.length>0&&a.mock.results.some(({type:l})=>l!=="throw"),action:"called"}].forEach(({name:a,condition:l,action:h})=>{s(a,function(){const m=i(this),d=m.getMockName(),y=l(m);this.assert(y,`expected "${d}" to be successfully ${h} at least once`,`expected "${d}" to not be successfully ${h}`,y,!y,!1)})}),[{name:"toHaveResolvedTimes",condition:(a,l)=>a.mock.settledResults.reduce((h,{type:m})=>m==="fulfilled"?++h:h,0)===l,action:"resolved"},{name:["toHaveReturnedTimes","toReturnTimes"],condition:(a,l)=>a.mock.results.reduce((h,{type:m})=>m==="throw"?h:++h,0)===l,action:"called"}].forEach(({name:a,condition:l,action:h})=>{s(a,function(m){const d=i(this),y=d.getMockName(),S=l(d,m);this.assert(S,`expected "${y}" to be successfully ${h} ${m} times`,`expected "${y}" to not be successfully ${h} ${m} times`,`expected resolved times: ${m}`,`received resolved times: ${S}`,!1)})}),[{name:"toHaveResolvedWith",condition:(a,l)=>a.mock.settledResults.some(({type:h,value:m})=>h==="fulfilled"&&U(l,m)),action:"resolve"},{name:["toHaveReturnedWith","toReturnWith"],condition:(a,l)=>a.mock.results.some(({type:h,value:m})=>h==="return"&&U(l,m)),action:"return"}].forEach(({name:a,condition:l,action:h})=>{s(a,function(m){const d=i(this),y=l(d,m),S=t.flag(this,"negate");if(y&&S||!y&&!S){const x=d.getMockName(),M=t.getMessage(this,[y,`expected "${x}" to ${h} with: #{exp} at least once`,`expected "${x}" to not ${h} with: #{exp}`,m]),O=h==="return"?d.mock.results:d.mock.settledResults;throw new n(Hc(d,O,M,m))}})}),[{name:"toHaveLastResolvedWith",condition:(a,l)=>{const h=a.mock.settledResults.at(-1);return!!(h&&h.type==="fulfilled"&&U(h.value,l))},action:"resolve"},{name:["toHaveLastReturnedWith","lastReturnedWith"],condition:(a,l)=>{const h=a.mock.results.at(-1);return!!(h&&h.type==="return"&&U(h.value,l))},action:"return"}].forEach(({name:a,condition:l,action:h})=>{s(a,function(m){const d=i(this),S=(h==="return"?d.mock.results:d.mock.settledResults).at(-1),x=d.getMockName();this.assert(l(d,m),`expected last "${x}" call to ${h} #{exp}`,`expected last "${x}" call to not ${h} #{exp}`,m,S?.value)})}),[{name:"toHaveNthResolvedWith",condition:(a,l,h)=>{const m=a.mock.settledResults[l-1];return m&&m.type==="fulfilled"&&U(m.value,h)},action:"resolve"},{name:["toHaveNthReturnedWith","nthReturnedWith"],condition:(a,l,h)=>{const m=a.mock.results[l-1];return m&&m.type==="return"&&U(m.value,h)},action:"return"}].forEach(({name:a,condition:l,action:h})=>{s(a,function(m,d){const y=i(this),S=y.getMockName(),M=(h==="return"?y.mock.results:y.mock.settledResults)[m-1],O=`${xt(m)} call`;this.assert(l(y,m,d),`expected ${O} "${S}" call to ${h} #{exp}`,`expected ${O} "${S}" call to not ${h} #{exp}`,d,M?.value)})}),s("withContext",function(a){for(const l in a)t.flag(this,l,a[l]);return this}),t.addProperty(e.Assertion.prototype,"resolves",function(){const l=new Error("resolves");t.flag(this,"promise","resolves"),t.flag(this,"error",l);const h=t.flag(this,"vitest-test"),m=t.flag(this,"object");if(t.flag(this,"poll"))throw new SyntaxError("expect.poll() is not supported in combination with .resolves");if(typeof m?.then!="function")throw new TypeError(`You must provide a Promise to expect() when using .resolves, not '${typeof m}'.`);const d=new Proxy(this,{get:(y,S,x)=>{const M=Reflect.get(y,S,x);return typeof M!="function"?M instanceof e.Assertion?d:M:(...O)=>{t.flag(this,"_name",S);const j=m.then(T=>(t.flag(this,"object",T),M.call(this,...O)),T=>{const N=new n(`promise rejected "${t.inspect(T)}" instead of resolving`,{showDiff:!1});throw N.cause=T,N.stack=l.stack.replace(l.message,N.message),N});return Qs(h,j,Zs(t,this,!!O.length),l)}}});return d}),t.addProperty(e.Assertion.prototype,"rejects",function(){const l=new Error("rejects");t.flag(this,"promise","rejects"),t.flag(this,"error",l);const h=t.flag(this,"vitest-test"),m=t.flag(this,"object"),d=typeof m=="function"?m():m;if(t.flag(this,"poll"))throw new SyntaxError("expect.poll() is not supported in combination with .rejects");if(typeof d?.then!="function")throw new TypeError(`You must provide a Promise to expect() when using .rejects, not '${typeof d}'.`);const y=new Proxy(this,{get:(S,x,M)=>{const O=Reflect.get(S,x,M);return typeof O!="function"?O instanceof e.Assertion?y:O:(...j)=>{t.flag(this,"_name",x);const T=d.then(N=>{const A=new n(`promise resolved "${t.inspect(N)}" instead of rejecting`,{showDiff:!0,expected:new Error("rejected promise"),actual:N});throw A.stack=l.stack.replace(l.message,A.message),A},N=>(t.flag(this,"object",N),O.call(this,...j)));return Qs(h,T,Zs(t,this,!!j.length),l)}}});return y})};function xt(e){const t=e%10,n=e%100;return t===1&&n!==11?`${e}st`:t===2&&n!==12?`${e}nd`:t===3&&n!==13?`${e}rd`:`${e}th`}function Sn(e,t,n){return e.mock.calls.length&&(t+=re.gray(`

Received: 

${e.mock.calls.map((r,s)=>{let o=re.bold(`  ${xt(s+1)} ${e.getMockName()} call:

`);return n?o+=at(n,r,{omitAnnotationLines:!0}):o+=Te(r).split(`
`).map(i=>`    ${i}`).join(`
`),o+=`
`,o}).join(`
`)}`)),t+=re.gray(`

Number of calls: ${re.bold(e.mock.calls.length)}
`),t}function Hc(e,t,n,r){return t.length&&(n+=re.gray(`

Received: 

${t.map((s,o)=>{let i=re.bold(`  ${xt(o+1)} ${e.getMockName()} call return:

`);return r?i+=at(r,s.value,{omitAnnotationLines:!0}):i+=Te(s).split(`
`).map(c=>`    ${c}`).join(`
`),i+=`
`,i}).join(`
`)}`)),n+=re.gray(`

Number of calls: ${re.bold(e.mock.calls.length)}
`),n}function el(e,t){const n=e._obj,r=ce.flag(e,"negate"),s=ce.flag(e,"promise")||"",o=ce.flag(e,"message"),i={...Ui(),diff:at,stringify:Te,iterableEquality:xe,subsetEquality:lt};return{state:{...Et(t),customTesters:ns(),isNot:r,utils:i,promise:s,equals:U,suppressedErrors:[],soft:ce.flag(e,"soft"),poll:ce.flag(e,"poll")},isNot:r,obj:n,customMessage:o}}class eo extends Error{constructor(t,n,r){super(t),this.actual=n,this.expected=r}}function tl(e,t,n){return(r,s)=>{Object.entries(n).forEach(([o,i])=>{function c(...h){const{state:m,isNot:d,obj:y,customMessage:S}=el(this,t),x=i.call(m,y,...h);if(x&&typeof x=="object"&&typeof x.then=="function")return x.then(({pass:A,message:P,actual:B,expected:se})=>{if(A&&d||!A&&!d){const z=S??P();throw new eo(z,B,se)}});const{pass:M,message:O,actual:j,expected:T}=x;if(M&&d||!M&&!d){const N=S??O();throw new eo(N,j,T)}}const u=Xi(s,o,c);s.addMethod(globalThis[Ct].matchers,o,u),s.addMethod(e.Assertion.prototype,o,u);class a extends De{constructor(m=!1,...d){super(d,m)}asymmetricMatch(m){const{pass:d}=i.call(this.getMatcherContext(t),m,...this.sample);return this.inverse?!d:d}toString(){return`${this.inverse?"not.":""}${o}`}getExpectedType(){return"any"}toAsymmetricMatcher(){return`${this.toString()}<${this.sample.map(m=>Te(m)).join(", ")}>`}}const l=(...h)=>new a(!1,...h);Object.defineProperty(t,o,{configurable:!0,enumerable:!0,value:l,writable:!0}),Object.defineProperty(t.not,o,{configurable:!0,enumerable:!0,value:(...h)=>new a(!0,...h),writable:!0}),Object.defineProperty(globalThis[es],o,{configurable:!0,enumerable:!0,value:l,writable:!0})})}}const nl=(e,t)=>{t.addMethod(e.expect,"extend",(n,r)=>{He(tl(e,n,r))})};var rl=44,to="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sl=new Uint8Array(64),Zi=new Uint8Array(128);for(let e=0;e<to.length;e++){const t=to.charCodeAt(e);sl[e]=t,Zi[t]=e}function dt(e,t){let n=0,r=0,s=0;do{const i=e.next();s=Zi[i],n|=(s&31)<<r,r+=5}while(s&32);const o=n&1;return n>>>=1,o&&(n=-2147483648|-n),t+n}function no(e,t){return e.pos>=t?!1:e.peek()!==rl}var ol=class{constructor(e){this.pos=0,this.buffer=e}next(){return this.buffer.charCodeAt(this.pos++)}peek(){return this.buffer.charCodeAt(this.pos)}indexOf(e){const{buffer:t,pos:n}=this,r=t.indexOf(e,n);return r===-1?t.length:r}};function il(e){const{length:t}=e,n=new ol(e),r=[];let s=0,o=0,i=0,c=0,u=0;do{const a=n.indexOf(";"),l=[];let h=!0,m=0;for(s=0;n.pos<a;){let d;s=dt(n,s),s<m&&(h=!1),m=s,no(n,a)?(o=dt(n,o),i=dt(n,i),c=dt(n,c),no(n,a)?(u=dt(n,u),d=[s,o,i,c,u]):d=[s,o,i,c]):d=[s],l.push(d),n.pos++}h||al(l),r.push(l),n.pos=a+1}while(n.pos<=t);return r}function al(e){e.sort(cl)}function cl(e,t){return e[0]-t[0]}var un=0,ll=1,ul=2,fl=3,hl=4,Ut=!1;function pl(e,t,n,r){for(;n<=r;){const s=n+(r-n>>1),o=e[s][un]-t;if(o===0)return Ut=!0,s;o<0?n=s+1:r=s-1}return Ut=!1,n-1}function dl(e,t,n){for(let r=n+1;r<e.length&&e[r][un]===t;n=r++);return n}function ml(e,t,n){for(let r=n-1;r>=0&&e[r][un]===t;n=r--);return n}function gl(e,t,n,r){const{lastKey:s,lastNeedle:o,lastIndex:i}=n;let c=0,u=e.length-1;if(r===s){if(t===o)return Ut=i!==-1&&e[i][un]===t,i;t>=o?c=i===-1?0:i:u=i}return n.lastKey=r,n.lastNeedle=t,n.lastIndex=pl(e,t,c,u)}var yl="`line` must be greater than 0 (lines start at line 1)",bl="`column` must be greater than or equal to 0 (columns start at column 0)",ro=-1,wl=1;function vl(e){var t;return(t=e)._decoded||(t._decoded=il(e._encoded))}function Sl(e,t){let{line:n,column:r,bias:s}=t;if(n--,n<0)throw new Error(yl);if(r<0)throw new Error(bl);const o=vl(e);if(n>=o.length)return It(null,null,null,null);const i=o[n],c=El(i,e._decodedMemo,n,r,s||wl);if(c===-1)return It(null,null,null,null);const u=i[c];if(u.length===1)return It(null,null,null,null);const{names:a,resolvedSources:l}=e;return It(l[u[ll]],u[ul]+1,u[fl],u.length===5?a[u[hl]]:null)}function It(e,t,n,r){return{source:e,line:t,column:n,name:r}}function El(e,t,n,r,s){let o=gl(e,r,t,n);return Ut?o=(s===ro?dl:ml)(e,r,o):s===ro&&o++,o===-1||o===e.length?-1:o}function Qi(e){return e!=null}function xl(e){return e===null||typeof e!="function"&&typeof e!="object"}function Dt(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}function Ml(e){let t=-1,n=null,r=0,s=0,o=null;for(;t<=e.length;){o=e[t],t++;const i=e[t];if((i==='"'||i==="'"||i==="`")&&o!=="\\"&&(n===i?n=null:n||(n=i)),n||(i==="("&&r++,i===")"&&s++),r&&s&&r===s)return t}return null}const Hi=/^\s*at .*(?:\S:\d+|\(native\))/m,Tl=/^(?:eval@)?(?:\[native code\])?$/,Ol=["node:internal",/\/packages\/\w+\/dist\//,/\/@vitest\/\w+\/dist\//,"/vitest/dist/","/vitest/src/","/node_modules/chai/","/node_modules/tinyspy/","/vite/dist/node/module-runner","/rolldown-vite/dist/node/module-runner","/deps/chunk-","/deps/@vitest","/deps/loupe","/deps/chai","/browser-playwright/dist/locators.js","/browser-webdriverio/dist/locators.js","/browser-preview/dist/locators.js",/node:\w+/,/__vitest_test__/,/__vitest_browser__/,/\/deps\/vitest_/];function ea(e){if(!e.includes(":"))return[e];const n=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/^\(|\)$/g,""));if(!n)return[e];let r=n[1];if(r.startsWith("async ")&&(r=r.slice(6)),r.startsWith("http:")||r.startsWith("https:")){const s=new URL(r);s.searchParams.delete("import"),s.searchParams.delete("browserv"),r=s.pathname+s.hash+s.search}if(r.startsWith("/@fs/")){const s=/^\/@fs\/[a-zA-Z]:\//.test(r);r=r.slice(s?5:4)}return[r,n[2]||void 0,n[3]||void 0]}function $l(e){let t=e.trim();if(Tl.test(t)||(t.includes(" > eval")&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),!t.includes("@")))return null;let n=-1,r="",s;for(let u=0;u<t.length;u++)if(t[u]==="@"){const a=t.slice(u+1);if(a.includes(":")&&a.length>=3){n=u,r=a,s=u>0?t.slice(0,u):void 0;break}}if(n===-1||!r.includes(":")||r.length<3)return null;const[o,i,c]=ea(r);return!o||!i||!c?null:{file:o,method:s||"",line:Number.parseInt(i),column:Number.parseInt(c)}}function Pl(e){let t=e.trim();if(!Hi.test(t))return null;t.includes("(eval ")&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));let n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,"");const r=n.match(/ (\(.+\)$)/);n=r?n.replace(r[0],""):n;const[s,o,i]=ea(r?r[1]:n);let c=r&&n||"",u=s&&["eval","<anonymous>"].includes(s)?void 0:s;return!u||!o||!i?null:(c.startsWith("async ")&&(c=c.slice(6)),u.startsWith("file://")&&(u=u.slice(7)),u=u.startsWith("node:")||u.startsWith("internal:")?u:ko(u),c&&(c=c.replace(/__vite_ssr_import_\d+__\./g,"").replace(/(Object\.)?__vite_ssr_export_default__\s?/g,"")),{method:c,file:u,line:Number.parseInt(o),column:Number.parseInt(i)})}function En(e,t={}){const{ignoreStackEntries:n=Ol}=t;return(Hi.test(e)?Cl(e):Nl(e)).map(s=>{var o;t.getUrlId&&(s.file=t.getUrlId(s.file));const i=(o=t.getSourceMap)===null||o===void 0?void 0:o.call(t,s.file);if(!i||typeof i!="object"||!i.version)return so(n,s.file)?null:s;const c=new jl(i,s.file),u=_l(c,s);if(!u)return s;const{line:a,column:l,source:h,name:m}=u;let d=h||s.file;return d.match(/\/\w:\//)&&(d=d.slice(1)),so(n,d)?null:a!=null&&l!=null?{line:a,column:l,file:d,method:m||s.method}:s}).filter(s=>s!=null)}function so(e,t){return e.some(n=>t.match(n))}function Nl(e){return e.split(`
`).map(t=>$l(t)).filter(Qi)}function Cl(e){return e.split(`
`).map(t=>Pl(t)).filter(Qi)}function Al(e,t={}){if(!e||xl(e))return[];if("stacks"in e&&e.stacks)return e.stacks;const n=e.stack||"";let r=typeof n=="string"?En(n,t):[];if(!r.length){const s=e;s.fileName!=null&&s.lineNumber!=null&&s.columnNumber!=null&&(r=En(`${s.fileName}:${s.lineNumber}:${s.columnNumber}`,t)),s.sourceURL!=null&&s.line!=null&&s._column!=null&&(r=En(`${s.sourceURL}:${s.line}:${s.column}`,t))}return t.frameFilter&&(r=r.filter(s=>t.frameFilter(e,s)!==!1)),e.stacks=r,r}class jl{_encoded;_decoded;_decodedMemo;url;version;names=[];resolvedSources;constructor(t,n){this.map=t;const{mappings:r,names:s,sources:o}=t;this.version=t.version,this.names=s||[],this._encoded=r||"",this._decodedMemo=Il(),this.url=n,this.resolvedSources=(o||[]).map(i=>ko(i||"",n))}}function Il(){return{lastKey:-1,lastNeedle:-1,lastIndex:-1}}function _l(e,t){const n=Sl(e,t);return n.column==null?null:n}const ss=/\r?\n/;function Dl(e,t,n){const r=e.split(ss),s=/\r\n/.test(e)?2:1;let o=0;if(t>r.length)return e.length;for(let i=0;i<t-1;i++)o+=r[i].length+s;return o+n}function Fl(e,t){if(t>e.length)throw new Error(`offset is longer than source length! offset ${t} > length ${e.length}`);const n=e.split(ss),r=/\r\n/.test(e)?2:1;let s=0,o=0;for(;o<n.length;o++){const i=n[o].length+r;if(s+i>=t)break;s+=i}return o+1}async function ql(e,t){const n=(await da(async()=>{const{default:s}=await import("./magic-string.es-DjU5CGuV.js");return{default:s}},[],import.meta.url)).default,r=new Set(t.map(s=>s.file));await Promise.all(Array.from(r).map(async s=>{const o=t.filter(a=>a.file===s),i=await e.readSnapshotFile(s),c=new n(i);for(const a of o){const l=Dl(i,a.line,a.column);Vl(i,c,l,a.snapshot)}const u=c.toString();u!==i&&await e.saveSnapshotFile(s,u)}))}const kl=/(?:toMatchInlineSnapshot|toThrowErrorMatchingInlineSnapshot)\s*\(\s*(?:\/\*[\s\S]*\*\/\s*|\/\/.*(?:[\n\r\u2028\u2029]\s*|[\t\v\f \xA0\u1680\u2000-\u200A\u202F\u205F\u3000\uFEFF]))*\{/;function Ll(e,t,n,r){let s=e.slice(n);const o=kl.exec(s);if(!o)return!1;s=s.slice(o.index);let i=Ml(s);if(i===null)return!1;i+=n+o.index;const c=n+o.index+o[0].length,u=Rl(e,c),a=`, ${ta(r,e,n)}`;return u===i?t.appendLeft(i,a):t.overwrite(u,i,a),!0}function Rl(e,t){let n=1,r=0;for(;n!==r&&t<e.length;){const s=e[t++];s==="{"?n++:s==="}"&&r++}return t}function ta(e,t,n){const r=Fl(t,n),o=t.split(ss)[r-1].match(/^\s*/)[0]||"",i=o.includes("	")?`${o}	`:`${o}  `,c=e.trim().replace(/\\/g,"\\\\").split(/\n/g),u=c.length<=1,a="`";return u?`${a}${c.join(`
`).replace(/`/g,"\\`").replace(/\$\{/g,"\\${")}${a}`:`${a}
${c.map(l=>l?i+l:"").join(`
`).replace(/`/g,"\\`").replace(/\$\{/g,"\\${")}
${o}${a}`}const oo="toMatchInlineSnapshot",io="toThrowErrorMatchingInlineSnapshot";function Bl(e,t){const n=t-oo.length;if(e.slice(n,t)===oo)return{code:e.slice(n),index:n};const r=t-io.length;return e.slice(t-r,t)===io?{code:e.slice(t-r),index:t-r}:{code:e.slice(t),index:t}}const zl=/(?:toMatchInlineSnapshot|toThrowErrorMatchingInlineSnapshot)\s*\(\s*(?:\/\*[\s\S]*\*\/\s*|\/\/.*(?:[\n\r\u2028\u2029]\s*|[\t\v\f \xA0\u1680\u2000-\u200A\u202F\u205F\u3000\uFEFF]))*[\w$]*(['"`)])/;function Vl(e,t,n,r){const{code:s,index:o}=Bl(e,n),i=zl.exec(s),c=/toMatchInlineSnapshot|toThrowErrorMatchingInlineSnapshot/.exec(s);if(!i||i.index!==c?.index)return Ll(e,t,o,r);const u=i[1],a=o+i.index+i[0].length,l=ta(r,e,o);if(u===")")return t.appendRight(a-1,l),!0;const m=new RegExp(`(?:^|[^\\\\])${u}`).exec(e.slice(a));if(!m)return!1;const d=a+m.index+m[0].length;return t.overwrite(a-1,d,l),!0}const Wl=/^([^\S\n]*)\S/m;function ao(e){var t;const n=e.match(Wl);if(!n||!n[1])return e;const r=n[1],s=e.split(/\n/g);if(s.length<=2||s[0].trim()!==""||((t=s.at(-1))===null||t===void 0?void 0:t.trim())!=="")return e;for(let o=1;o<s.length-1;o++)if(s[o]!==""){if(s[o].indexOf(r)!==0)return e;s[o]=s[o].substring(r.length)}return s[s.length-1]="",e=s.join(`
`),e}async function Ul(e,t){await Promise.all(t.map(async n=>{n.readonly||await e.saveSnapshotFile(n.file,n.snapshot)}))}function Kl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xn={exports:{}},co;function Gl(){if(co)return xn.exports;co=1;var e=function(t,n){var r,s,o=1,i=0,c=0,u=String.alphabet;function a(l,h,m){if(m){for(r=h;m=a(l,r),m<76&&m>65;)++r;return+l.slice(h-1,r)}return m=u&&u.indexOf(l.charAt(h)),m>-1?m+76:(m=l.charCodeAt(h)||0,m<45||m>127?m:m<46?65:m<48?m-1:m<58?m+18:m<65?m-11:m<91?m+11:m<97?m-37:m<123?m+5:m-63)}if((t+="")!=(n+="")){for(;o;)if(s=a(t,i++),o=a(n,c++),s<76&&o<76&&s>66&&o>66&&(s=a(t,i,i),o=a(n,c,i=r),c=r),s!=o)return s<o?-1:1}return 0};try{xn.exports=e}catch{String.naturalCompare=e}return xn.exports}var Jl=Gl(),Yl=Kl(Jl);const Xl=(e,t,n,r,s,o)=>{const i=e.getMockName(),c=i==="vi.fn()"?"":` ${i}`;let u="";if(e.mock.calls.length!==0){const a=n+t.indent;u=` {${t.spacingOuter}${a}"calls": ${o(e.mock.calls,t,a,r,s)}${t.min?", ":","}${t.spacingOuter}${a}"results": ${o(e.mock.results,t,a,r,s)}${t.min?"":","}${t.spacingOuter}${n}}`}return`[MockFunction${c}]${u}`},Zl=e=>e&&!!e._isMockFunction,Ql={serialize:Xl,test:Zl},{DOMCollection:Hl,DOMElement:eu,Immutable:tu,ReactElement:nu,ReactTestComponent:ru,AsymmetricMatcher:su}=dr;let lr=[ru,nu,eu,Hl,tu,su,Ql];function ou(e){lr=[e].concat(lr)}function iu(){return lr}function au(e,t){return`${e} ${t}`}function cu(e){if(!/ \d+$/.test(e))throw new Error("Snapshot keys must end with a number.");return e.replace(/ \d+$/,"")}function lu(e,t){const n=t.updateSnapshot,r=Object.create(null);let s="",o=!1;if(e!=null)try{s=e,new Function("exports",s)(r)}catch{}return(n==="all"||n==="new")&&s&&(o=!0),{data:r,dirty:o}}function uu(e){return e.includes(`
`)?`
${e}
`:e}function lo(e){return e.length>2&&e[0]===`
`&&e.endsWith(`
`)?e.slice(1,-1):e}const fu=!0,hu=!1;function pu(e,t=2,n={}){return os(Re(e,{escapeRegex:fu,indent:t,plugins:iu(),printFunctionName:hu,...n}))}function du(e){return e.replace(/`|\\|\$\{/g,"\\$&")}function uo(e){return`\`${du(e)}\``}function os(e){return e.replace(/\r\n|\r/g,`
`)}async function mu(e,t,n){const r=Object.keys(t).sort(Yl).map(c=>`exports[${uo(c)}] = ${uo(os(t[c]))};`),s=`${e.getHeader()}

${r.join(`

`)}
`,o=await e.readSnapshotFile(n);o!=null&&o===s||await e.saveSnapshotFile(n,s)}function ur(e=[],t=[]){const n=Array.from(e);return t.forEach((r,s)=>{const o=n[s];Array.isArray(e[s])?n[s]=ur(e[s],r):Dt(o)?n[s]=is(e[s],r):n[s]=r}),n}function is(e,t){if(Dt(e)&&Dt(t)){const n={...e};return Object.keys(t).forEach(r=>{Dt(t[r])&&!t[r].$$typeof?r in e?n[r]=is(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Array.isArray(t[r])?n[r]=ur(e[r],t[r]):Object.assign(n,{[r]:t[r]})}),n}else if(Array.isArray(e)&&Array.isArray(t))return ur(e,t);return e}class na extends Map{constructor(t,n){super(n),this.defaultFn=t}get(t){return this.has(t)||this.set(t,this.defaultFn(t)),super.get(t)}}class mt extends na{constructor(){super(()=>0)}_total;valueOf(){return this._total=this.total()}increment(t){typeof this._total<"u"&&this._total++,this.set(t,this.get(t)+1)}total(){if(typeof this._total<"u")return this._total;let t=0;for(const n of this.values())t+=n;return t}}function fo(e,t){return e.file===t.file&&e.column===t.column&&e.line===t.line}class as{_counters=new mt;_dirty;_updateSnapshot;_snapshotData;_initialData;_inlineSnapshots;_inlineSnapshotStacks;_testIdToKeys=new na(()=>[]);_rawSnapshots;_uncheckedKeys;_snapshotFormat;_environment;_fileExists;expand;_added=new mt;_matched=new mt;_unmatched=new mt;_updated=new mt;get added(){return this._added}set added(t){this._added._total=t}get matched(){return this._matched}set matched(t){this._matched._total=t}get unmatched(){return this._unmatched}set unmatched(t){this._unmatched._total=t}get updated(){return this._updated}set updated(t){this._updated._total=t}constructor(t,n,r,s){this.testFilePath=t,this.snapshotPath=n;const{data:o,dirty:i}=lu(r,s);this._fileExists=r!=null,this._initialData={...o},this._snapshotData={...o},this._dirty=i,this._inlineSnapshots=[],this._inlineSnapshotStacks=[],this._rawSnapshots=[],this._uncheckedKeys=new Set(Object.keys(this._snapshotData)),this.expand=s.expand||!1,this._updateSnapshot=s.updateSnapshot,this._snapshotFormat={printBasicPrototype:!1,escapeString:!1,...s.snapshotFormat},this._environment=s.snapshotEnvironment}static async create(t,n){const r=await n.snapshotEnvironment.resolvePath(t),s=await n.snapshotEnvironment.readSnapshotFile(r);return new as(t,r,s,n)}get environment(){return this._environment}markSnapshotsAsCheckedForTest(t){this._uncheckedKeys.forEach(n=>{/ \d+$| > /.test(n.slice(t.length))&&this._uncheckedKeys.delete(n)})}clearTest(t){this._inlineSnapshots=this._inlineSnapshots.filter(n=>n.testId!==t),this._inlineSnapshotStacks=this._inlineSnapshotStacks.filter(n=>n.testId!==t);for(const n of this._testIdToKeys.get(t)){const r=cu(n),s=this._counters.get(r);s>0&&((n in this._snapshotData||n in this._initialData)&&(this._snapshotData[n]=this._initialData[n]),this._counters.set(r,s-1))}this._testIdToKeys.delete(t),this.added.delete(t),this.updated.delete(t),this.matched.delete(t),this.unmatched.delete(t)}_inferInlineSnapshotStack(t){const n=t.findIndex(s=>s.method.match(/__VITEST_(RESOLVES|REJECTS)__/));if(n!==-1)return t[n+3];const r=t.findIndex(s=>s.method.includes("__INLINE_SNAPSHOT__"));return r!==-1?t[r+2]:null}_addSnapshot(t,n,r){this._dirty=!0,r.stack?this._inlineSnapshots.push({snapshot:n,testId:r.testId,...r.stack}):r.rawSnapshot?this._rawSnapshots.push({...r.rawSnapshot,snapshot:n}):this._snapshotData[t]=n}async save(){const t=Object.keys(this._snapshotData).length,n=this._inlineSnapshots.length,r=this._rawSnapshots.length,s=!t&&!n&&!r,o={deleted:!1,saved:!1};return(this._dirty||this._uncheckedKeys.size)&&!s?(t&&(await mu(this._environment,this._snapshotData,this.snapshotPath),this._fileExists=!0),n&&await ql(this._environment,this._inlineSnapshots),r&&await Ul(this._environment,this._rawSnapshots),o.saved=!0):!t&&this._fileExists&&(this._updateSnapshot==="all"&&(await this._environment.removeSnapshotFile(this.snapshotPath),this._fileExists=!1),o.deleted=!0),o}getUncheckedCount(){return this._uncheckedKeys.size||0}getUncheckedKeys(){return Array.from(this._uncheckedKeys)}removeUncheckedKeys(){this._updateSnapshot==="all"&&this._uncheckedKeys.size&&(this._dirty=!0,this._uncheckedKeys.forEach(t=>delete this._snapshotData[t]),this._uncheckedKeys.clear())}match({testId:t,testName:n,received:r,key:s,inlineSnapshot:o,isInline:i,error:c,rawSnapshot:u}){this._counters.increment(n);const a=this._counters.get(n);s||(s=au(n,a)),this._testIdToKeys.get(t).push(s),i&&this._snapshotData[s]!==void 0||this._uncheckedKeys.delete(s);let l=u&&typeof r=="string"?r:pu(r,void 0,this._snapshotFormat);u||(l=uu(l)),u&&u.content&&u.content.match(/\r\n/)&&!l.match(/\r\n/)&&(u.content=os(u.content));const h=i?o:u?u.content:this._snapshotData[s],m=u?h:h?.trim(),d=m===(u?l:l.trim()),y=h!==void 0,S=i||this._fileExists||u&&u.content!=null;d&&!i&&!u&&(this._snapshotData[s]=l);let x;if(i){var M,O;const j=Al(c||new Error("snapshot"),{ignoreStackEntries:[]}),T=this._inferInlineSnapshotStack(j);if(!T)throw new Error(`@vitest/snapshot: Couldn't infer stack frame for inline snapshot.
${JSON.stringify(j)}`);x=((M=(O=this.environment).processStackTrace)===null||M===void 0?void 0:M.call(O,T))||T,x.column--;const N=this._inlineSnapshotStacks.filter(A=>fo(A,x));if(N.length>0){this._inlineSnapshots=this._inlineSnapshots.filter(P=>!fo(P,x));const A=N.find(P=>P.snapshot!==l);if(A)throw Object.assign(new Error("toMatchInlineSnapshot with different snapshots cannot be called at the same location"),{actual:l,expected:A.snapshot})}this._inlineSnapshotStacks.push({...x,testId:t,snapshot:l})}return y&&this._updateSnapshot==="all"||(!y||!S)&&(this._updateSnapshot==="new"||this._updateSnapshot==="all")?(this._updateSnapshot==="all"?d?this.matched.increment(t):(y?this.updated.increment(t):this.added.increment(t),this._addSnapshot(s,l,{stack:x,testId:t,rawSnapshot:u})):(this._addSnapshot(s,l,{stack:x,testId:t,rawSnapshot:u}),this.added.increment(t)),{actual:"",count:a,expected:"",key:s,pass:!0}):d?(this.matched.increment(t),{actual:"",count:a,expected:"",key:s,pass:!0}):(this.unmatched.increment(t),{actual:u?l:lo(l),count:a,expected:m!==void 0?u?m:lo(m):void 0,key:s,pass:!1})}async pack(){const t={filepath:this.testFilePath,added:0,fileDeleted:!1,matched:0,unchecked:0,uncheckedKeys:[],unmatched:0,updated:0},n=this.getUncheckedCount(),r=this.getUncheckedKeys();n&&this.removeUncheckedKeys();const s=await this.save();return t.fileDeleted=s.deleted,t.added=this.added.total(),t.matched=this.matched.total(),t.unmatched=this.unmatched.total(),t.updated=this.updated.total(),t.unchecked=s.deleted?0:n,t.uncheckedKeys=Array.from(r),t}}function ho(e,t,n,r){const s=new Error(e);return Object.defineProperty(s,"actual",{value:n,enumerable:!0,configurable:!0,writable:!0}),Object.defineProperty(s,"expected",{value:r,enumerable:!0,configurable:!0,writable:!0}),Object.defineProperty(s,"diffOptions",{value:{expand:t}}),s}class gu{snapshotStateMap=new Map;constructor(t={}){this.options=t}async setup(t,n){this.snapshotStateMap.has(t)||this.snapshotStateMap.set(t,await as.create(t,n))}async finish(t){const r=await this.getSnapshotState(t).pack();return this.snapshotStateMap.delete(t),r}skipTest(t,n){this.getSnapshotState(t).markSnapshotsAsCheckedForTest(n)}clearTest(t,n){this.getSnapshotState(t).clearTest(n)}getSnapshotState(t){const n=this.snapshotStateMap.get(t);if(!n)throw new Error(`The snapshot state for '${t}' is not found. Did you call 'SnapshotClient.setup()'?`);return n}assert(t){const{filepath:n,name:r,testId:s=r,message:o,isInline:i=!1,properties:c,inlineSnapshot:u,error:a,errorMessage:l,rawSnapshot:h}=t;let{received:m}=t;if(!n)throw new Error("Snapshot cannot be used outside of test");const d=this.getSnapshotState(n);if(typeof c=="object"){if(typeof m!="object"||!m)throw new Error("Received value must be an object when the matcher has properties");try{var y,S;if(((y=(S=this.options).isEqual)===null||y===void 0?void 0:y.call(S,m,c))??!1)m=is(m,c);else throw ho("Snapshot properties mismatched",d.expand,m,c)}catch(N){throw N.message=l||"Snapshot mismatched",N}}const x=[r,...o?[o]:[]].join(" > "),{actual:M,expected:O,key:j,pass:T}=d.match({testId:s,testName:x,received:m,isInline:i,error:a,inlineSnapshot:u,rawSnapshot:h});if(!T)throw ho(`Snapshot \`${j||"unknown"}\` mismatched`,d.expand,h?M:M?.trim(),h?O:O?.trim())}async assertRaw(t){if(!t.rawSnapshot)throw new Error("Raw snapshot is required");const{filepath:n,rawSnapshot:r}=t;if(r.content==null){if(!n)throw new Error("Snapshot cannot be used outside of test");const s=this.getSnapshotState(n);t.filepath||(t.filepath=n),r.file=await s.environment.resolveRawPath(n,r.file),r.content=await s.environment.readSnapshotFile(r.file)??void 0}return this.assert(t)}clear(){this.snapshotStateMap.clear()}}var fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};const yu=["matchSnapshot","toMatchSnapshot","toMatchInlineSnapshot","toThrowErrorMatchingSnapshot","toThrowErrorMatchingInlineSnapshot","throws","Throw","throw","toThrow","toThrowError"];function bu(e){return function(n,r={}){const s=Lo().config.expect?.poll??{},{interval:o=s.interval??50,timeout:i=s.timeout??1e3,message:c}=r,u=e(null,c).withContext({poll:!0});n=n.bind(u);const a=ce.flag(u,"vitest-test");if(!a)throw new Error("expect.poll() must be called inside a test");const l=new Proxy(u,{get(h,m,d){const y=Reflect.get(h,m,d);if(typeof y!="function")return y instanceof p?l:y;if(m==="assert")return y;if(typeof m=="string"&&yu.includes(m))throw new SyntaxError(`expect.poll() is not supported in combination with .${m}(). Use vi.waitFor() if your assertion condition is unstable.`);return function(...S){const x=new Error("STACK_TRACE_ERROR"),M=()=>new Promise((T,N)=>{let A,P,B;const{setTimeout:se,clearTimeout:z}=ha(),X=async()=>{try{ce.flag(u,"_name",m);const Z=await n();ce.flag(u,"object",Z),T(await y.call(u,...S)),z(A),z(P)}catch(Z){B=Z,ce.flag(u,"_isLastPollAttempt")||(A=se(X,o))}};P=se(()=>{z(A),ce.flag(u,"_isLastPollAttempt",!0);const Z=ie=>{ie.cause==null&&(ie.cause=new Error("Matcher did not succeed in time.")),N(po(ie,x))};X().then(()=>Z(B)).catch(ie=>Z(ie))},i),X()});let O=!1;a.onFinished??=[],a.onFinished.push(()=>{if(!O){const T=ce.flag(u,"negate")?"not.":"",N=`expect.${ce.flag(u,"_poll.element")?"element(locator)":"poll(assertion)"}.${T}${String(m)}()`;throw po(new Error(`${N} was not awaited. This assertion is asynchronous and must be awaited; otherwise, it is not executed to avoid unhandled rejections:

await ${N}
`),x)}});let j;return{then(T,N){return O=!0,(j||=M()).then(T,N)},catch(T){return(j||=M()).catch(T)},finally(T){return(j||=M()).finally(T)},[Symbol.toStringTag]:"Promise"}}}});return l}}function po(e,t){return t.stack!==void 0&&(e.stack=t.stack.replace(t.message,e.message)),e}function wu(e,t,n){const r=e.flag(t,"negate")?"not.":"",s=`${e.flag(t,"_name")}(expected)`,o=e.flag(t,"promise");return`expect(actual)${o?`.${o}`:""}.${r}${s}`}function vu(e,t,n,r){const s=e;if(s&&t instanceof Promise){t=t.finally(()=>{if(!s.promises)return;const i=s.promises.indexOf(t);i!==-1&&s.promises.splice(i,1)}),s.promises||(s.promises=[]),s.promises.push(t);let o=!1;return s.onFinished??=[],s.onFinished.push(()=>{if(!o){const i=(globalThis.__vitest_worker__?.onFilterStackTrace||(c=>c||""))(r.stack);console.warn([`Promise returned by \`${n}\` was not awaited. `,"Vitest currently auto-awaits hanging assertions at the end of the test, but this will cause the test to fail in Vitest 3. ",`Please remember to await the assertion.
`,i].join(""))}}),{then(i,c){return o=!0,t.then(i,c)},catch(i){return t.catch(i)},finally(i){return t.finally(i)},[Symbol.toStringTag]:"Promise"}}return t}let Mn;function gt(){return Mn||(Mn=new gu({isEqual:(e,t)=>U(e,t,[xe,lt])})),Mn}function mo(e,t){if(typeof e!="function"){if(!t)throw new Error(`expected must be a function, received ${typeof e}`);return e}try{e()}catch(n){return n}throw new Error("snapshot function didn't throw")}function yt(e){return{filepath:e.file.filepath,name:pa(e).slice(1).join(" > "),testId:e.id}}const Su=(e,t)=>{function n(r,s){const o=t.flag(s,"vitest-test");if(!o)throw new Error(`'${r}' cannot be used without test context`);return o}for(const r of["matchSnapshot","toMatchSnapshot"])t.addMethod(e.Assertion.prototype,r,function(s,o){if(t.flag(this,"_name",r),t.flag(this,"negate"))throw new Error(`${r} cannot be used with "not"`);const i=t.flag(this,"object"),c=n(r,this);typeof s=="string"&&typeof o>"u"&&(o=s,s=void 0);const u=t.flag(this,"message");gt().assert({received:i,message:o,isInline:!1,properties:s,errorMessage:u,...yt(c)})});t.addMethod(e.Assertion.prototype,"toMatchFileSnapshot",function(r,s){if(t.flag(this,"_name","toMatchFileSnapshot"),t.flag(this,"negate"))throw new Error('toMatchFileSnapshot cannot be used with "not"');const o=new Error("resolves"),i=t.flag(this,"object"),c=n("toMatchFileSnapshot",this),u=t.flag(this,"message");return vu(c,gt().assertRaw({received:i,message:s,isInline:!1,rawSnapshot:{file:r},errorMessage:u,...yt(c)}),wu(t,this),o)}),t.addMethod(e.Assertion.prototype,"toMatchInlineSnapshot",function(s,o,i){if(t.flag(this,"_name","toMatchInlineSnapshot"),t.flag(this,"negate"))throw new Error('toMatchInlineSnapshot cannot be used with "not"');const c=n("toMatchInlineSnapshot",this);if(c.each||c.suite?.each)throw new Error("InlineSnapshot cannot be used inside of test.each or describe.each");const u=t.flag(this,"object"),a=t.flag(this,"error");typeof s=="string"&&(i=o,o=s,s=void 0),o&&(o=ao(o));const l=t.flag(this,"message");gt().assert({received:u,message:i,isInline:!0,properties:s,inlineSnapshot:o,error:a,errorMessage:l,...yt(c)})}),t.addMethod(e.Assertion.prototype,"toThrowErrorMatchingSnapshot",function(r){if(t.flag(this,"_name","toThrowErrorMatchingSnapshot"),t.flag(this,"negate"))throw new Error('toThrowErrorMatchingSnapshot cannot be used with "not"');const s=t.flag(this,"object"),o=n("toThrowErrorMatchingSnapshot",this),i=t.flag(this,"promise"),c=t.flag(this,"message");gt().assert({received:mo(s,i),message:r,errorMessage:c,...yt(o)})}),t.addMethod(e.Assertion.prototype,"toThrowErrorMatchingInlineSnapshot",function(s,o){if(t.flag(this,"negate"))throw new Error('toThrowErrorMatchingInlineSnapshot cannot be used with "not"');const i=n("toThrowErrorMatchingInlineSnapshot",this);if(i.each||i.suite?.each)throw new Error("InlineSnapshot cannot be used inside of test.each or describe.each");const c=t.flag(this,"object"),u=t.flag(this,"error"),a=t.flag(this,"promise"),l=t.flag(this,"message");s&&(s=ao(s)),gt().assert({received:mo(c,a),message:o,inlineSnapshot:s,isInline:!0,error:u,errorMessage:l,...yt(i)})}),t.addMethod(e.expect,"addSnapshotSerializer",ou)};He(nl);He(Qc);He(Su);He(Zc);function Eu(e){const t=((o,i)=>{const{assertionCalls:c}=Et(t);return vn({assertionCalls:c+1},t),Je(o,i)});Object.assign(t,Je),Object.assign(t,globalThis[es]),t.getState=()=>Et(t),t.setState=o=>vn(o,t);const n=Et(globalThis[an])||{};vn({...n,assertionCalls:0,isExpectingAssertions:!1,isExpectingAssertionsError:null,expectedAssertionsNumber:null,expectedAssertionsNumberErrorGen:null,get testPath(){return Lo().filepath},currentTestName:n.currentTestName},t),t.assert=f,t.extend=o=>Je.extend(t,o),t.addEqualityTesters=o=>jc(o),t.soft=(...o)=>t(...o).withContext({soft:!0}),t.poll=bu(t),t.unreachable=o=>{f.fail(`expected${o?` "${o}" `:" "}not to be reached`)};function r(o){const i=()=>new Error(`expected number of assertions to be ${o}, but got ${t.getState().assertionCalls}`);Error.captureStackTrace&&Error.captureStackTrace(i(),r),t.setState({expectedAssertionsNumber:o,expectedAssertionsNumberErrorGen:i})}function s(){const o=new Error("expected any number of assertion, but got none");Error.captureStackTrace&&Error.captureStackTrace(o,s),t.setState({isExpectingAssertions:!0,isExpectingAssertionsError:o})}return ce.addMethod(t,"assertions",r),ce.addMethod(t,"hasAssertions",s),t.extend(Mc),t}const ra=Eu();Object.defineProperty(globalThis,an,{value:ra,writable:!0,configurable:!0});var tt={},Tn,go;function xu(){if(go)return Tn;go=1;var e;return typeof fr<"u"?e=fr:typeof window<"u"?e=window:e=self,Tn=e,Tn}var On,yo;function Mu(){if(yo)return On;yo=1;let e;try{({}).__proto__,e=!1}catch{e=!0}return On=e,On}var $n,bo;function ut(){if(bo)return $n;bo=1;var e=Function.call,t=Mu(),n=["size","caller","callee","arguments"];return t&&n.push("__proto__"),$n=function(s){return Object.getOwnPropertyNames(s).reduce(function(o,i){return n.includes(i)||typeof s[i]!="function"||(o[i]=e.bind(s[i])),o},Object.create(null))},$n}var Pn,wo;function Kt(){if(wo)return Pn;wo=1;var e=ut();return Pn=e(Array.prototype),Pn}var Nn,vo;function Tu(){if(vo)return Nn;vo=1;var e=Kt().every;function t(s,o){return s[o.id]===void 0&&(s[o.id]=0),s[o.id]<o.callCount}function n(s,o,i,c){var u=!0;return i!==c.length-1&&(u=o.calledBefore(c[i+1])),t(s,o)&&u?(s[o.id]+=1,!0):!1}function r(s){var o={},i=arguments.length>1?arguments:s;return e(i,n.bind(null,o))}return Nn=r,Nn}var Cn,So;function Ou(){if(So)return Cn;So=1;function e(t){return t.constructor&&t.constructor.name||null}return Cn=e,Cn}var An={},Eo;function $u(){return Eo||(Eo=1,(function(e){e.wrap=function(t,n){var r=function(){return e.printWarning(n),t.apply(this,arguments)};return t.prototype&&(r.prototype=t.prototype),r},e.defaultMsg=function(t,n){return`${t}.${n} is deprecated and will be removed from the public API in a future version of ${t}.`},e.printWarning=function(t){typeof process=="object"&&process.emitWarning?process.emitWarning(t):console.info?console.info(t):console.log(t)}})(An)),An}var jn,xo;function Pu(){return xo||(xo=1,jn=function(t,n){var r=!0;try{t.forEach(function(){if(!n.apply(this,arguments))throw new Error})}catch{r=!1}return r}),jn}var In,Mo;function Nu(){return Mo||(Mo=1,In=function(t){if(!t)return"";try{return t.displayName||t.name||(String(t).match(/function ([^\s(]+)/)||[])[1]}catch{return""}}),In}var _n,To;function Cu(){if(To)return _n;To=1;var e=Kt().sort,t=Kt().slice;function n(s,o){var i=s.getCall(0),c=o.getCall(0),u=i&&i.callId||-1,a=c&&c.callId||-1;return u<a?-1:1}function r(s){return e(t(s),n)}return _n=r,_n}var Dn,Oo;function Au(){if(Oo)return Dn;Oo=1;var e=ut();return Dn=e(Function.prototype),Dn}var Fn,$o;function ju(){if($o)return Fn;$o=1;var e=ut();return Fn=e(Map.prototype),Fn}var qn,Po;function Iu(){if(Po)return qn;Po=1;var e=ut();return qn=e(Object.prototype),qn}var kn,No;function _u(){if(No)return kn;No=1;var e=ut();return kn=e(Set.prototype),kn}var Ln,Co;function Du(){if(Co)return Ln;Co=1;var e=ut();return Ln=e(String.prototype),Ln}var Rn,Ao;function Fu(){return Ao||(Ao=1,Rn={array:Kt(),function:Au(),map:ju(),object:Iu(),set:_u(),string:Du()}),Rn}var Ft={exports:{}},qu=Ft.exports,jo;function ku(){return jo||(jo=1,(function(e,t){(function(n,r){e.exports=r()})(qu,(function(){var n=typeof Promise=="function",r=typeof self=="object"?self:fr,s=typeof Symbol<"u",o=typeof Map<"u",i=typeof Set<"u",c=typeof WeakMap<"u",u=typeof WeakSet<"u",a=typeof DataView<"u",l=s&&typeof Symbol.iterator<"u",h=s&&typeof Symbol.toStringTag<"u",m=i&&typeof Set.prototype.entries=="function",d=o&&typeof Map.prototype.entries=="function",y=m&&Object.getPrototypeOf(new Set().entries()),S=d&&Object.getPrototypeOf(new Map().entries()),x=l&&typeof Array.prototype[Symbol.iterator]=="function",M=x&&Object.getPrototypeOf([][Symbol.iterator]()),O=l&&typeof String.prototype[Symbol.iterator]=="function",j=O&&Object.getPrototypeOf(""[Symbol.iterator]()),T=8,N=-1;function A(P){var B=typeof P;if(B!=="object")return B;if(P===null)return"null";if(P===r)return"global";if(Array.isArray(P)&&(h===!1||!(Symbol.toStringTag in P)))return"Array";if(typeof window=="object"&&window!==null){if(typeof window.location=="object"&&P===window.location)return"Location";if(typeof window.document=="object"&&P===window.document)return"Document";if(typeof window.navigator=="object"){if(typeof window.navigator.mimeTypes=="object"&&P===window.navigator.mimeTypes)return"MimeTypeArray";if(typeof window.navigator.plugins=="object"&&P===window.navigator.plugins)return"PluginArray"}if((typeof window.HTMLElement=="function"||typeof window.HTMLElement=="object")&&P instanceof window.HTMLElement){if(P.tagName==="BLOCKQUOTE")return"HTMLQuoteElement";if(P.tagName==="TD")return"HTMLTableDataCellElement";if(P.tagName==="TH")return"HTMLTableHeaderCellElement"}}var se=h&&P[Symbol.toStringTag];if(typeof se=="string")return se;var z=Object.getPrototypeOf(P);return z===RegExp.prototype?"RegExp":z===Date.prototype?"Date":n&&z===Promise.prototype?"Promise":i&&z===Set.prototype?"Set":o&&z===Map.prototype?"Map":u&&z===WeakSet.prototype?"WeakSet":c&&z===WeakMap.prototype?"WeakMap":a&&z===DataView.prototype?"DataView":o&&z===S?"Map Iterator":i&&z===y?"Set Iterator":x&&z===M?"Array Iterator":O&&z===j?"String Iterator":z===null?"Object":Object.prototype.toString.call(P).slice(T,N)}return A}))})(Ft)),Ft.exports}var Bn,Io;function Lu(){if(Io)return Bn;Io=1;var e=ku();return Bn=function(n){return e(n).toLowerCase()},Bn}var zn,_o;function Ru(){if(_o)return zn;_o=1;function e(t){return t&&t.toString?t.toString():String(t)}return zn=e,zn}var Vn,Do;function Bu(){return Do||(Do=1,Vn={global:xu(),calledInOrder:Tu(),className:Ou(),deprecated:$u(),every:Pu(),functionName:Nu(),orderByFirstCall:Cu(),prototypes:Fu(),typeOf:Lu(),valueToString:Ru()}),Vn}var Fo;function zu(){if(Fo)return tt;Fo=1;const e=Bu().global;let t,n;if(typeof __vitest_required__<"u"){try{t=__vitest_required__.timers}catch{}try{n=__vitest_required__.timersPromises}catch{}}function r(o){const i=Math.pow(2,31)-1,c=1e12,u=function(){},a=function(){return[]},l={};let h,m=!1;o.setTimeout&&(l.setTimeout=!0,h=o.setTimeout(u,0),m=typeof h=="object"),l.clearTimeout=!!o.clearTimeout,l.setInterval=!!o.setInterval,l.clearInterval=!!o.clearInterval,l.hrtime=o.process&&typeof o.process.hrtime=="function",l.hrtimeBigint=l.hrtime&&typeof o.process.hrtime.bigint=="function",l.nextTick=o.process&&typeof o.process.nextTick=="function";const d=o.process&&o.__vitest_required__&&o.__vitest_required__.util.promisify;l.performance=o.performance&&typeof o.performance.now=="function";const y=o.Performance&&(typeof o.Performance).match(/^(function|object)$/),S=o.performance&&o.performance.constructor&&o.performance.constructor.prototype;l.queueMicrotask=o.hasOwnProperty("queueMicrotask"),l.requestAnimationFrame=o.requestAnimationFrame&&typeof o.requestAnimationFrame=="function",l.cancelAnimationFrame=o.cancelAnimationFrame&&typeof o.cancelAnimationFrame=="function",l.requestIdleCallback=o.requestIdleCallback&&typeof o.requestIdleCallback=="function",l.cancelIdleCallbackPresent=o.cancelIdleCallback&&typeof o.cancelIdleCallback=="function",l.setImmediate=o.setImmediate&&typeof o.setImmediate=="function",l.clearImmediate=o.clearImmediate&&typeof o.clearImmediate=="function",l.Intl=o.Intl&&typeof o.Intl=="object",o.clearTimeout&&o.clearTimeout(h);const x=o.Date,M=l.Intl?Object.defineProperties(Object.create(null),Object.getOwnPropertyDescriptors(o.Intl)):void 0;let O=c;if(x===void 0)throw new Error("The global scope doesn't have a `Date` object (see https://github.com/sinonjs/sinon/issues/1852#issuecomment-419622780)");l.Date=!0;class j{constructor(E,$,I,g){this.name=E,this.entryType=$,this.startTime=I,this.duration=g}toJSON(){return JSON.stringify({...this})}}function T(w){return Number.isFinite?Number.isFinite(w):isFinite(w)}let N=!1;function A(w,E){w.loopLimit&&E===w.loopLimit-1&&(N=!0)}function P(){N=!1}function B(w){if(!w)return 0;const E=w.split(":"),$=E.length;let I=$,g=0,F;if($>3||!/^(\d\d:){0,2}\d\d?$/.test(w))throw new Error("tick only understands numbers, 'm:s' and 'h:m:s'. Each part must be two digits");for(;I--;){if(F=parseInt(E[I],10),F>=60)throw new Error(`Invalid time ${w}`);g+=F*Math.pow(60,$-I-1)}return g*1e3}function se(w){const $=w*1e6%1e6,I=$<0?$+1e6:$;return Math.floor(I)}function z(w){if(!w)return 0;if(typeof w.getTime=="function")return w.getTime();if(typeof w=="number")return w;throw new TypeError("now should be milliseconds since UNIX epoch")}function X(w,E,$){return $&&$.callAt>=w&&$.callAt<=E}function Z(w,E){const $=new Error(`Aborting after running ${w.loopLimit} timers, assuming an infinite loop!`);if(!E.error)return $;const I=/target\.*[<|(|[].*?[>|\]|)]\s*/;let g=new RegExp(String(Object.keys(w).join("|")));m&&(g=new RegExp(`\\s+at (Object\\.)?(?:${Object.keys(w).join("|")})\\s+`));let F=-1;E.error.stack.split(`
`).some(function(L,R){return L.match(I)?(F=R,!0):L.match(g)?(F=R,!1):F>=0});const W=`${$}
${E.type||"Microtask"} - ${E.func.name||"anonymous"}
${E.error.stack.split(`
`).slice(F+1).join(`
`)}`;try{Object.defineProperty($,"stack",{value:W})}catch{}return $}function ie(){class w extends x{constructor(I,g,F,W,L,R,D){arguments.length===0?super(w.clock.now):super(...arguments),Object.defineProperty(this,"constructor",{value:x,enumerable:!1})}static[Symbol.hasInstance](I){return I instanceof x}}return w.isFake=!0,x.now&&(w.now=function(){return w.clock.now}),x.toSource&&(w.toSource=function(){return x.toSource()}),w.toString=function(){return x.toString()},new Proxy(w,{apply(){if(this instanceof w)throw new TypeError("A Proxy should only capture `new` calls with the `construct` handler. This is not supposed to be possible, so check the logic.");return new x(w.clock.now).toString()}})}function de(){const w={};return Object.getOwnPropertyNames(M).forEach(E=>w[E]=M[E]),w.DateTimeFormat=function(...E){const $=new M.DateTimeFormat(...E),I={};return["formatRange","formatRangeToParts","resolvedOptions"].forEach(g=>{I[g]=$[g].bind($)}),["format","formatToParts"].forEach(g=>{I[g]=function(F){return $[g](F||w.clock.now)}}),I},w.DateTimeFormat.prototype=Object.create(M.DateTimeFormat.prototype),w.DateTimeFormat.supportedLocalesOf=M.DateTimeFormat.supportedLocalesOf,w}function H(w,E){w.jobs||(w.jobs=[]),w.jobs.push(E)}function G(w){if(w.jobs){for(let E=0;E<w.jobs.length;E++){const $=w.jobs[E];if($.func.apply(null,$.args),A(w,E),w.loopLimit&&E>w.loopLimit)throw Z(w,$)}P(),w.jobs=[]}}function Q(w,E){if(E.func===void 0)throw new Error("Callback must be provided to timer calls");if(m&&typeof E.func!="function")throw new TypeError(`[ERR_INVALID_CALLBACK]: Callback must be a function. Received ${E.func} of type ${typeof E.func}`);if(N&&(E.error=new Error),E.type=E.immediate?"Immediate":"Timeout",E.hasOwnProperty("delay")&&(typeof E.delay!="number"&&(E.delay=parseInt(E.delay,10)),T(E.delay)||(E.delay=0),E.delay=E.delay>i?1:E.delay,E.delay=Math.max(0,E.delay)),E.hasOwnProperty("interval")&&(E.type="Interval",E.interval=E.interval>i?1:E.interval),E.hasOwnProperty("animation")&&(E.type="AnimationFrame",E.animation=!0),E.hasOwnProperty("idleCallback")&&(E.type="IdleCallback",E.idleCallback=!0),w.timers||(w.timers={}),E.id=O++,E.createdAt=w.now,E.callAt=w.now+(parseInt(E.delay)||(w.duringTick?1:0)),w.timers[E.id]=E,m){const $={refed:!0,ref:function(){return this.refed=!0,$},unref:function(){return this.refed=!1,$},hasRef:function(){return this.refed},refresh:function(){return E.callAt=w.now+(parseInt(E.delay)||(w.duringTick?1:0)),w.timers[E.id]=E,$},[Symbol.toPrimitive]:function(){return E.id}};return $}return E.id}function ve(w,E){if(w.callAt<E.callAt)return-1;if(w.callAt>E.callAt)return 1;if(w.immediate&&!E.immediate)return-1;if(!w.immediate&&E.immediate)return 1;if(w.createdAt<E.createdAt)return-1;if(w.createdAt>E.createdAt)return 1;if(w.id<E.id)return-1;if(w.id>E.id)return 1}function oe(w,E,$){const I=w.timers;let g=null,F,W;for(F in I)I.hasOwnProperty(F)&&(W=X(E,$,I[F]),W&&(!g||ve(g,I[F])===1)&&(g=I[F]));return g}function fe(w){const E=w.timers;let $=null,I;for(I in E)E.hasOwnProperty(I)&&(!$||ve($,E[I])===1)&&($=E[I]);return $}function $e(w){const E=w.timers;let $=null,I;for(I in E)E.hasOwnProperty(I)&&(!$||ve($,E[I])===-1)&&($=E[I]);return $}function me(w,E){if(typeof E.interval=="number"?w.timers[E.id].callAt+=E.interval:delete w.timers[E.id],typeof E.func=="function")E.func.apply(null,E.args);else{const $=eval;(function(){$(E.func)})()}}function ye(w){return w==="IdleCallback"||w==="AnimationFrame"?`cancel${w}`:`clear${w}`}function Fe(w){return w==="IdleCallback"||w==="AnimationFrame"?`request${w}`:`set${w}`}function Me(){let w=0;return function(E){!w++&&console.warn(E)}}const be=Me();function we(w,E,$){if(!E)return;w.timers||(w.timers={});const I=Number(E);if(Number.isNaN(I)||I<c){const g=ye($);if(w.shouldClearNativeTimers===!0){const F=w[`_${g}`];return typeof F=="function"?F(E):void 0}be(`FakeTimers: ${g} was invoked to clear a native timer instead of one created by this library.
To automatically clean-up native timers, use \`shouldClearNativeTimers\`.`)}if(w.timers.hasOwnProperty(I)){const g=w.timers[I];if(g.type===$||g.type==="Timeout"&&$==="Interval"||g.type==="Interval"&&$==="Timeout")delete w.timers[I];else{const F=ye($),W=Fe(g.type);throw new Error(`Cannot clear timer: timer created with ${W}() but cleared with ${F}()`)}}}function et(w,E){let $,I,g;const F="_hrtime",W="_nextTick";for(I=0,g=w.methods.length;I<g;I++){if($=w.methods[I],$==="hrtime"&&o.process)o.process.hrtime=w[F];else if($==="nextTick"&&o.process)o.process.nextTick=w[W];else if($==="performance"){const L=Object.getOwnPropertyDescriptor(w,`_${$}`);L&&L.get&&!L.set?Object.defineProperty(o,$,L):L.configurable&&(o[$]=w[`_${$}`])}else if(o[$]&&o[$].hadOwnProperty)o[$]=w[`_${$}`];else try{delete o[$]}catch{}if(w.timersModuleMethods!==void 0)for(let L=0;L<w.timersModuleMethods.length;L++){const R=w.timersModuleMethods[L];t[R.methodName]=R.original}if(w.timersPromisesModuleMethods!==void 0)for(let L=0;L<w.timersPromisesModuleMethods.length;L++){const R=w.timersPromisesModuleMethods[L];n[R.methodName]=R.original}}E.shouldAdvanceTime===!0&&o.clearInterval(w.attachedInterval),w.methods=[];for(const[L,R]of w.abortListenerMap.entries())R.removeEventListener("abort",L),w.abortListenerMap.delete(L);return w.timers?Object.keys(w.timers).map(function(R){return w.timers[R]}):[]}function Ie(w,E,$){if($[E].hadOwnProperty=Object.prototype.hasOwnProperty.call(w,E),$[`_${E}`]=w[E],E==="Date")w[E]=$[E];else if(E==="Intl")w[E]=$[E];else if(E==="performance"){const I=Object.getOwnPropertyDescriptor(w,E);if(I&&I.get&&!I.set){Object.defineProperty($,`_${E}`,I);const g=Object.getOwnPropertyDescriptor($,E);Object.defineProperty(w,E,g)}else w[E]=$[E]}else w[E]=function(){return $[E].apply($,arguments)},Object.defineProperties(w[E],Object.getOwnPropertyDescriptors($[E]));w[E].clock=$}function ft(w,E){w.tick(E)}const he={setTimeout:o.setTimeout,clearTimeout:o.clearTimeout,setInterval:o.setInterval,clearInterval:o.clearInterval,Date:o.Date};l.setImmediate&&(he.setImmediate=o.setImmediate),l.clearImmediate&&(he.clearImmediate=o.clearImmediate),l.hrtime&&(he.hrtime=o.process.hrtime),l.nextTick&&(he.nextTick=o.process.nextTick),l.performance&&(he.performance=o.performance),l.requestAnimationFrame&&(he.requestAnimationFrame=o.requestAnimationFrame),l.queueMicrotask&&(he.queueMicrotask=o.queueMicrotask),l.cancelAnimationFrame&&(he.cancelAnimationFrame=o.cancelAnimationFrame),l.requestIdleCallback&&(he.requestIdleCallback=o.requestIdleCallback),l.cancelIdleCallback&&(he.cancelIdleCallback=o.cancelIdleCallback),l.Intl&&(he.Intl=M);const qe=o.setImmediate||o.setTimeout;function cs(w,E){w=Math.floor(z(w)),E=E||1e3;let $=0;const I=[0,0],g={now:w,Date:ie(),loopLimit:E};g.Date.clock=g;function F(){return 16-(g.now-w)%16}function W(D){const C=g.now-I[0]-w,_=Math.floor(C/1e3),q=(C-_*1e3)*1e6+$-I[1];if(Array.isArray(D)){if(D[1]>1e9)throw new TypeError("Number of nanoseconds can't exceed a billion");const J=D[0];let ee=q-D[1],ke=_-J;return ee<0&&(ee+=1e9,ke-=1),[ke,ee]}return[_,q]}function L(){const D=W();return D[0]*1e3+D[1]/1e6}l.hrtimeBigint&&(W.bigint=function(){const D=W();return BigInt(D[0])*BigInt(1e9)+BigInt(D[1])}),l.Intl&&(g.Intl=de(),g.Intl.clock=g),g.requestIdleCallback=function(C,_){let q=0;g.countTimers()>0&&(q=50);const J=Q(g,{func:C,args:Array.prototype.slice.call(arguments,2),delay:typeof _>"u"?q:Math.min(_,q),idleCallback:!0});return Number(J)},g.cancelIdleCallback=function(C){return we(g,C,"IdleCallback")},g.setTimeout=function(C,_){return Q(g,{func:C,args:Array.prototype.slice.call(arguments,2),delay:_})},typeof o.Promise<"u"&&d&&(g.setTimeout[d.custom]=function(C,_){return new o.Promise(function(J){Q(g,{func:J,args:[_],delay:C})})}),g.clearTimeout=function(C){return we(g,C,"Timeout")},g.nextTick=function(C){return H(g,{func:C,args:Array.prototype.slice.call(arguments,1),error:N?new Error:null})},g.queueMicrotask=function(C){return g.nextTick(C)},g.setInterval=function(C,_){return _=parseInt(_,10),Q(g,{func:C,args:Array.prototype.slice.call(arguments,2),delay:_,interval:_})},g.clearInterval=function(C){return we(g,C,"Interval")},l.setImmediate&&(g.setImmediate=function(C){return Q(g,{func:C,args:Array.prototype.slice.call(arguments,1),immediate:!0})},typeof o.Promise<"u"&&d&&(g.setImmediate[d.custom]=function(C){return new o.Promise(function(q){Q(g,{func:q,args:[C],immediate:!0})})}),g.clearImmediate=function(C){return we(g,C,"Immediate")}),g.countTimers=function(){return Object.keys(g.timers||{}).length+(g.jobs||[]).length},g.requestAnimationFrame=function(C){const _=Q(g,{func:C,delay:F(),get args(){return[L()]},animation:!0});return Number(_)},g.cancelAnimationFrame=function(C){return we(g,C,"AnimationFrame")},g.runMicrotasks=function(){G(g)};function R(D,C,_,q){const J=typeof D=="number"?D:B(D),ee=Math.floor(J),ke=se(J);let Pe=$+ke,ae=g.now+ee;if(J<0)throw new TypeError("Negative ticks are not supported");Pe>=1e6&&(ae+=1,Pe-=1e6),$=Pe;let Ne=g.now,Ke=g.now,Ce,ze,Se,ls,fn,hn;g.duringTick=!0,Se=g.now,G(g),Se!==g.now&&(Ne+=g.now-Se,ae+=g.now-Se);function us(){for(Ce=oe(g,Ne,ae);Ce&&Ne<=ae;){if(g.timers[Ce.id]){Ne=Ce.callAt,g.now=Ce.callAt,Se=g.now;try{G(g),me(g,Ce)}catch(ht){ze=ze||ht}if(C){qe(ls);return}fn()}hn()}if(Se=g.now,G(g),Se!==g.now&&(Ne+=g.now-Se,ae+=g.now-Se),g.duringTick=!1,Ce=oe(g,Ne,ae),Ce)try{g.tick(ae-g.now)}catch(ht){ze=ze||ht}else g.now=ae,$=Pe;if(ze)throw ze;if(C)_(g.now);else return g.now}return ls=C&&function(){try{fn(),hn(),us()}catch(ht){q(ht)}},fn=function(){Se!==g.now&&(Ne+=g.now-Se,ae+=g.now-Se,Ke+=g.now-Se)},hn=function(){Ce=oe(g,Ke,ae),Ke=Ne},us()}return g.tick=function(C){return R(C,!1)},typeof o.Promise<"u"&&(g.tickAsync=function(C){return new o.Promise(function(_,q){qe(function(){try{R(C,!0,_,q)}catch(J){q(J)}})})}),g.next=function(){G(g);const C=fe(g);if(!C)return g.now;g.duringTick=!0;try{return g.now=C.callAt,me(g,C),G(g),g.now}finally{g.duringTick=!1}},typeof o.Promise<"u"&&(g.nextAsync=function(){return new o.Promise(function(C,_){qe(function(){try{const q=fe(g);if(!q){C(g.now);return}let J;g.duringTick=!0,g.now=q.callAt;try{me(g,q)}catch(ee){J=ee}g.duringTick=!1,qe(function(){J?_(J):C(g.now)})}catch(q){_(q)}})})}),g.runAll=function(){let C,_;for(G(g),_=0;_<g.loopLimit;_++){if(!g.timers||(C=Object.keys(g.timers).length,C===0))return P(),g.now;g.next(),A(g,_)}const q=fe(g);throw Z(g,q)},g.runToFrame=function(){return g.tick(F())},typeof o.Promise<"u"&&(g.runAllAsync=function(){return new o.Promise(function(C,_){let q=0;function J(){qe(function(){try{G(g);let ee;if(q<g.loopLimit){if(!g.timers){P(),C(g.now);return}if(ee=Object.keys(g.timers).length,ee===0){P(),C(g.now);return}g.next(),q++,J(),A(g,q);return}const ke=fe(g);_(Z(g,ke))}catch(ee){_(ee)}})}J()})}),g.runToLast=function(){const C=$e(g);return C?g.tick(C.callAt-g.now):(G(g),g.now)},typeof o.Promise<"u"&&(g.runToLastAsync=function(){return new o.Promise(function(C,_){qe(function(){try{const q=$e(g);q||(G(g),C(g.now)),C(g.tickAsync(q.callAt-g.now))}catch(q){_(q)}})})}),g.reset=function(){$=0,g.timers={},g.jobs=[],g.now=w},g.setSystemTime=function(C){const _=z(C),q=_-g.now;let J,ee;I[0]=I[0]+q,I[1]=I[1]+$,g.now=_,$=0;for(J in g.timers)g.timers.hasOwnProperty(J)&&(ee=g.timers[J],ee.createdAt+=q,ee.callAt+=q)},g.jump=function(C){const _=typeof C=="number"?C:B(C),q=Math.floor(_);for(const J of Object.values(g.timers))g.now+q>J.callAt&&(J.callAt=g.now+q);g.tick(q)},l.performance&&(g.performance=Object.create(null),g.performance.now=L),l.hrtime&&(g.hrtime=W),g}function sa(w){if(arguments.length>1||w instanceof Date||Array.isArray(w)||typeof w=="number")throw new TypeError(`FakeTimers.install called with ${String(w)} install requires an object parameter`);if(o.Date.isFake===!0)throw new TypeError("Can't install fake timers twice on the same global object.");if(w=typeof w<"u"?w:{},w.shouldAdvanceTime=w.shouldAdvanceTime||!1,w.advanceTimeDelta=w.advanceTimeDelta||20,w.shouldClearNativeTimers=w.shouldClearNativeTimers||!1,w.target)throw new TypeError("config.target is no longer supported. Use `withGlobal(target)` instead.");function E(F){if(!w.ignoreMissingTimers)throw new ReferenceError(`non-existent timers and/or objects cannot be faked: '${F}'`)}let $,I;const g=cs(w.now,w.loopLimit);if(g.shouldClearNativeTimers=w.shouldClearNativeTimers,g.uninstall=function(){return et(g,w)},g.abortListenerMap=new Map,g.methods=w.toFake||[],g.methods.length===0&&(g.methods=Object.keys(he)),w.shouldAdvanceTime===!0){const F=ft.bind(null,g,w.advanceTimeDelta),W=o.setInterval(F,w.advanceTimeDelta);g.attachedInterval=W}if(g.methods.includes("performance")){const F=(()=>{if(S)return o.performance.constructor.prototype;if(y)return o.Performance.prototype})();if(F)Object.getOwnPropertyNames(F).forEach(function(W){W!=="now"&&(g.performance[W]=W.indexOf("getEntries")===0?a:u)}),g.performance.mark=W=>new j(W,"mark",0,0),g.performance.measure=W=>new j(W,"measure",0,100),g.performance.timeOrigin=z(w.now);else if((w.toFake||[]).includes("performance"))return E("performance")}for(o===e&&t&&(g.timersModuleMethods=[]),o===e&&n&&(g.timersPromisesModuleMethods=[]),$=0,I=g.methods.length;$<I;$++){const F=g.methods[$];if(!l[F]){E(F);continue}if(F==="hrtime"?o.process&&typeof o.process.hrtime=="function"&&Ie(o.process,F,g):F==="nextTick"?o.process&&typeof o.process.nextTick=="function"&&Ie(o.process,F,g):Ie(o,F,g),g.timersModuleMethods!==void 0&&t[F]){const W=t[F];g.timersModuleMethods.push({methodName:F,original:W}),t[F]=o[F]}g.timersPromisesModuleMethods!==void 0&&(F==="setTimeout"?(g.timersPromisesModuleMethods.push({methodName:"setTimeout",original:n.setTimeout}),n.setTimeout=(W,L,R={})=>new Promise((D,C)=>{const _=()=>{R.signal.removeEventListener("abort",_),g.abortListenerMap.delete(_),g.clearTimeout(q),C(R.signal.reason)},q=g.setTimeout(()=>{R.signal&&(R.signal.removeEventListener("abort",_),g.abortListenerMap.delete(_)),D(L)},W);R.signal&&(R.signal.aborted?_():(R.signal.addEventListener("abort",_),g.abortListenerMap.set(_,R.signal)))})):F==="setImmediate"?(g.timersPromisesModuleMethods.push({methodName:"setImmediate",original:n.setImmediate}),n.setImmediate=(W,L={})=>new Promise((R,D)=>{const C=()=>{L.signal.removeEventListener("abort",C),g.abortListenerMap.delete(C),g.clearImmediate(_),D(L.signal.reason)},_=g.setImmediate(()=>{L.signal&&(L.signal.removeEventListener("abort",C),g.abortListenerMap.delete(C)),R(W)});L.signal&&(L.signal.aborted?C():(L.signal.addEventListener("abort",C),g.abortListenerMap.set(C,L.signal)))})):F==="setInterval"&&(g.timersPromisesModuleMethods.push({methodName:"setInterval",original:n.setInterval}),n.setInterval=(W,L,R={})=>({[Symbol.asyncIterator]:()=>{const D=()=>{let ae,Ne;const Ke=new Promise((Ce,ze)=>{ae=Ce,Ne=ze});return Ke.resolve=ae,Ke.reject=Ne,Ke};let C=!1,_=!1,q,J=0;const ee=[],ke=g.setInterval(()=>{ee.length>0?ee.shift().resolve():J++},W),Pe=()=>{R.signal.removeEventListener("abort",Pe),g.abortListenerMap.delete(Pe),g.clearInterval(ke),C=!0;for(const ae of ee)ae.resolve()};return R.signal&&(R.signal.aborted?C=!0:(R.signal.addEventListener("abort",Pe),g.abortListenerMap.set(Pe,R.signal))),{next:async()=>{if(R.signal?.aborted&&!_)throw _=!0,R.signal.reason;if(C)return{done:!0,value:void 0};if(J>0)return J--,{done:!1,value:L};const ae=D();if(ee.push(ae),await ae,q&&ee.length===0&&q.resolve(),R.signal?.aborted&&!_)throw _=!0,R.signal.reason;return C?{done:!0,value:void 0}:{done:!1,value:L}},return:async()=>C?{done:!0,value:void 0}:(ee.length>0&&(q=D(),await q),g.clearInterval(ke),C=!0,R.signal&&(R.signal.removeEventListener("abort",Pe),g.abortListenerMap.delete(Pe)),{done:!0,value:void 0})}}})))}return g}return{timers:he,createClock:cs,install:sa,withGlobal:r}}const s=r(e);return tt.timers=s.timers,tt.createClock=s.createClock,tt.install=s.install,tt.withGlobal=r,tt}zu();function Vu(e,t){const n=hr.getCurrentTest();if(!n)throw new Error("`toMatchImageSnapshot()` must be called in a test.");if(n.concurrent)throw new Error("`toMatchImageSnapshot()` cannot be called in a concurrent test because concurrent tests run at the same time in the same iframe and affect each other's environment.");return qo(pr,Gt(n),e,t).then(()=>Wn)}ra.extend({toMatchImageSnapshot:Vu});function Wu(e){const t=hr.getCurrentTest();if(!t)throw new Error("`hasImageSnapshot()` must be called in a test.");if(t.concurrent)throw new Error("`hasImageSnapshot()` cannot be called in a concurrent test because concurrent tests run at the same time in the same iframe and affect each other's environment. ");return ia(pr,Gt(t),e)}function Uu(e){const t=hr.getCurrentTest();if(!t)throw new Error("`toMatchImageSnapshot()` must be called in a test.");if(t.concurrent)throw new Error("`toMatchImageSnapshot()` cannot be called in a concurrent test because concurrent tests run at the same time in the same iframe and affect each other's environment.");return oa(pr,Gt(t),e)}la.extend({hasImageSnapshot:Wu,toMatchImageSnapshot:Uu});
