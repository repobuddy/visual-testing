var qe=Object.defineProperty;var He=(e,t,n)=>t in e?qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var G=(e,t,n)=>He(e,typeof t!="symbol"?t+"":t,n);var Ke={reset:[0,0],bold:[1,22,"\x1B[22m\x1B[1m"],dim:[2,22,"\x1B[22m\x1B[2m"],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]},Ue=Object.entries(Ke);function se(e){return String(e)}se.open="";se.close="";function Ge(e=!1){let t=typeof process<"u"?process:void 0,n=(t==null?void 0:t.env)||{},i=(t==null?void 0:t.argv)||[];return!("NO_COLOR"in n||i.includes("--no-color"))&&("FORCE_COLOR"in n||i.includes("--color")||(t==null?void 0:t.platform)==="win32"||e&&n.TERM!=="dumb"||"CI"in n)||typeof window<"u"&&!!window.chrome}function Ze(e=!1){let t=Ge(e),n=(s,c,u,l)=>{let f="",g=0;do f+=s.substring(g,l)+u,g=l+c.length,l=s.indexOf(c,g);while(~l);return f+s.substring(g)},i=(s,c,u=s)=>{let l=f=>{let g=String(f),h=g.indexOf(c,s.length);return~h?s+n(g,c,u,h)+c:s+g+c};return l.open=s,l.close=c,l},r={isColorSupported:t},o=s=>`\x1B[${s}m`;for(let[s,c]of Ue)r[s]=t?i(o(c[0]),o(c[1]),c[2]):se;return r}Ze();const ae={bold:["1","22"],dim:["2","22"],italic:["3","23"],underline:["4","24"],inverse:["7","27"],hidden:["8","28"],strike:["9","29"],black:["30","39"],red:["31","39"],green:["32","39"],yellow:["33","39"],blue:["34","39"],magenta:["35","39"],cyan:["36","39"],white:["37","39"],brightblack:["30;1","39"],brightred:["31;1","39"],brightgreen:["32;1","39"],brightyellow:["33;1","39"],brightblue:["34;1","39"],brightmagenta:["35;1","39"],brightcyan:["36;1","39"],brightwhite:["37;1","39"],grey:["90","39"]},Ye={special:"cyan",number:"yellow",bigint:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",symbol:"green",date:"magenta",regexp:"red"},J="…";function Qe(e,t){const n=ae[Ye[t]]||ae[t]||"";return n?`\x1B[${n[0]}m${String(e)}\x1B[${n[1]}m`:String(e)}function et({showHidden:e=!1,depth:t=2,colors:n=!1,customInspect:i=!0,showProxy:r=!1,maxArrayLength:o=1/0,breakLength:s=1/0,seen:c=[],truncate:u=1/0,stylize:l=String}={},f){const g={showHidden:!!e,depth:Number(t),colors:!!n,customInspect:!!i,showProxy:!!r,maxArrayLength:Number(o),breakLength:Number(s),truncate:Number(u),seen:c,inspect:f,stylize:l};return g.colors&&(g.stylize=Qe),g}function tt(e){return e>="\uD800"&&e<="\uDBFF"}function R(e,t,n=J){e=String(e);const i=n.length,r=e.length;if(i>t&&r>i)return n;if(r>t&&r>i){let o=t-i;return o>0&&tt(e[o-1])&&(o=o-1),`${e.slice(0,o)}${n}`}return e}function E(e,t,n,i=", "){n=n||t.inspect;const r=e.length;if(r===0)return"";const o=t.truncate;let s="",c="",u="";for(let l=0;l<r;l+=1){const f=l+1===e.length,g=l+2===e.length;u=`${J}(${e.length-l})`;const h=e[l];t.truncate=o-s.length-(f?0:i.length);const b=c||n(h,t)+(f?"":i),w=s.length+b.length,x=w+u.length;if(f&&w>o&&s.length+u.length<=o||!f&&!g&&x>o||(c=f?"":n(e[l+1],t)+(g?"":i),!f&&g&&x>o&&w+c.length>o))break;if(s+=b,!f&&!g&&w+c.length>=o){u=`${J}(${e.length-l-1})`;break}u=""}return`${s}${u}`}function nt(e){return e.match(/^[a-zA-Z_][a-zA-Z_0-9]*$/)?e:JSON.stringify(e).replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'")}function V([e,t],n){return n.truncate-=2,typeof e=="string"?e=nt(e):typeof e!="number"&&(e=`[${n.inspect(e,n)}]`),n.truncate-=e.length,t=n.inspect(t,n),`${e}: ${t}`}function rt(e,t){const n=Object.keys(e).slice(e.length);if(!e.length&&!n.length)return"[]";t.truncate-=4;const i=E(e,t);t.truncate-=i.length;let r="";return n.length&&(r=E(n.map(o=>[o,e[o]]),t,V)),`[ ${i}${r?`, ${r}`:""} ]`}const it=e=>typeof Buffer=="function"&&e instanceof Buffer?"Buffer":e[Symbol.toStringTag]?e[Symbol.toStringTag]:e.constructor.name;function N(e,t){const n=it(e);t.truncate-=n.length+4;const i=Object.keys(e).slice(e.length);if(!e.length&&!i.length)return`${n}[]`;let r="";for(let s=0;s<e.length;s++){const c=`${t.stylize(R(e[s],t.truncate),"number")}${s===e.length-1?"":", "}`;if(t.truncate-=c.length,e[s]!==e.length&&t.truncate<=3){r+=`${J}(${e.length-e[s]+1})`;break}r+=c}let o="";return i.length&&(o=E(i.map(s=>[s,e[s]]),t,V)),`${n}[ ${r}${o?`, ${o}`:""} ]`}function st(e,t){const n=e.toJSON();if(n===null)return"Invalid Date";const i=n.split("T"),r=i[0];return t.stylize(`${r}T${R(i[1],t.truncate-r.length-1)}`,"date")}function fe(e,t){const n=e[Symbol.toStringTag]||"Function",i=e.name;return i?t.stylize(`[${n} ${R(i,t.truncate-11)}]`,"special"):t.stylize(`[${n}]`,"special")}function ot([e,t],n){return n.truncate-=4,e=n.inspect(e,n),n.truncate-=e.length,t=n.inspect(t,n),`${e} => ${t}`}function ct(e){const t=[];return e.forEach((n,i)=>{t.push([i,n])}),t}function ut(e,t){return e.size===0?"Map{}":(t.truncate-=7,`Map{ ${E(ct(e),t,ot)} }`)}const lt=Number.isNaN||(e=>e!==e);function de(e,t){return lt(e)?t.stylize("NaN","number"):e===1/0?t.stylize("Infinity","number"):e===-1/0?t.stylize("-Infinity","number"):e===0?t.stylize(1/e===1/0?"+0":"-0","number"):t.stylize(R(String(e),t.truncate),"number")}function he(e,t){let n=R(e.toString(),t.truncate-1);return n!==J&&(n+="n"),t.stylize(n,"bigint")}function at(e,t){const n=e.toString().split("/")[2],i=t.truncate-(2+n.length),r=e.source;return t.stylize(`/${R(r,i)}/${n}`,"regexp")}function ft(e){const t=[];return e.forEach(n=>{t.push(n)}),t}function dt(e,t){return e.size===0?"Set{}":(t.truncate-=7,`Set{ ${E(ft(e),t)} }`)}const ge=new RegExp("['\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]","g"),ht={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"},gt=16;function pt(e){return ht[e]||`\\u${`0000${e.charCodeAt(0).toString(gt)}`.slice(-4)}`}function pe(e,t){return ge.test(e)&&(e=e.replace(ge,pt)),t.stylize(`'${R(e,t.truncate-2)}'`,"string")}function me(e){return"description"in Symbol.prototype?e.description?`Symbol(${e.description})`:"Symbol()":e.toString()}let Ae=()=>"Promise{…}";try{const{getPromiseDetails:e,kPending:t,kRejected:n}=process.binding("util");Array.isArray(e(Promise.resolve()))&&(Ae=(i,r)=>{const[o,s]=e(i);return o===t?"Promise{<pending>}":`Promise${o===n?"!":""}{${r.inspect(s,r)}}`})}catch{}function H(e,t){const n=Object.getOwnPropertyNames(e),i=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[];if(n.length===0&&i.length===0)return"{}";if(t.truncate-=4,t.seen=t.seen||[],t.seen.includes(e))return"[Circular]";t.seen.push(e);const r=E(n.map(c=>[c,e[c]]),t,V),o=E(i.map(c=>[c,e[c]]),t,V);t.seen.pop();let s="";return r&&o&&(s=", "),`{ ${r}${s}${o} }`}const Z=typeof Symbol<"u"&&Symbol.toStringTag?Symbol.toStringTag:!1;function mt(e,t){let n="";return Z&&Z in e&&(n=e[Z]),n=n||e.constructor.name,(!n||n==="_class")&&(n="<Anonymous Class>"),t.truncate-=n.length,`${n}${H(e,t)}`}function yt(e,t){return e.length===0?"Arguments[]":(t.truncate-=13,`Arguments[ ${E(e,t)} ]`)}const bt=["stack","line","column","name","message","fileName","lineNumber","columnNumber","number","description","cause"];function St(e,t){const n=Object.getOwnPropertyNames(e).filter(s=>bt.indexOf(s)===-1),i=e.name;t.truncate-=i.length;let r="";if(typeof e.message=="string"?r=R(e.message,t.truncate):n.unshift("message"),r=r?`: ${r}`:"",t.truncate-=r.length+5,t.seen=t.seen||[],t.seen.includes(e))return"[Circular]";t.seen.push(e);const o=E(n.map(s=>[s,e[s]]),t,V);return`${i}${r}${o?` { ${o} }`:""}`}function It([e,t],n){return n.truncate-=3,t?`${n.stylize(String(e),"yellow")}=${n.stylize(`"${t}"`,"string")}`:`${n.stylize(String(e),"yellow")}`}function ne(e,t){return E(e,t,Ce,`
`)}function Ce(e,t){const n=e.getAttributeNames(),i=e.tagName.toLowerCase(),r=t.stylize(`<${i}`,"special"),o=t.stylize(">","special"),s=t.stylize(`</${i}>`,"special");t.truncate-=i.length*2+5;let c="";n.length>0&&(c+=" ",c+=E(n.map(f=>[f,e.getAttribute(f)]),t,It," ")),t.truncate-=c.length;const u=t.truncate;let l=ne(e.children,t);return l&&l.length>u&&(l=`${J}(${e.children.length})`),`${r}${c}${o}${l}${s}`}const wt=typeof Symbol=="function"&&typeof Symbol.for=="function",Y=wt?Symbol.for("chai/inspect"):"@@chai/inspect";let O=!1;try{const e=require("util");O=e.inspect?e.inspect.custom:!1}catch{O=!1}const ye=new WeakMap,be={},Se={undefined:(e,t)=>t.stylize("undefined","undefined"),null:(e,t)=>t.stylize("null","null"),boolean:(e,t)=>t.stylize(String(e),"boolean"),Boolean:(e,t)=>t.stylize(String(e),"boolean"),number:de,Number:de,bigint:he,BigInt:he,string:pe,String:pe,function:fe,Function:fe,symbol:me,Symbol:me,Array:rt,Date:st,Map:ut,Set:dt,RegExp:at,Promise:Ae,WeakSet:(e,t)=>t.stylize("WeakSet{…}","special"),WeakMap:(e,t)=>t.stylize("WeakMap{…}","special"),Arguments:yt,Int8Array:N,Uint8Array:N,Uint8ClampedArray:N,Int16Array:N,Uint16Array:N,Int32Array:N,Uint32Array:N,Float32Array:N,Float64Array:N,Generator:()=>"",DataView:()=>"",ArrayBuffer:()=>"",Error:St,HTMLCollection:ne,NodeList:ne},xt=(e,t,n)=>Y in e&&typeof e[Y]=="function"?e[Y](t):O&&O in e&&typeof e[O]=="function"?e[O](t.depth,t):"inspect"in e&&typeof e.inspect=="function"?e.inspect(t.depth,t):"constructor"in e&&ye.has(e.constructor)?ye.get(e.constructor)(e,t):be[n]?be[n](e,t):"",Tt=Object.prototype.toString;function re(e,t={}){const n=et(t,re),{customInspect:i}=n;let r=e===null?"null":typeof e;if(r==="object"&&(r=Tt.call(e).slice(8,-1)),r in Se)return Se[r](e,n);if(i&&e){const s=xt(e,n,r);if(s)return typeof s=="string"?s:re(s,n)}const o=e?Object.getPrototypeOf(e):!1;return o===Object.prototype||o===null?H(e,n):e&&typeof HTMLElement=="function"&&e instanceof HTMLElement?Ce(e,n):"constructor"in e?e.constructor!==Object?mt(e,n):H(e,n):e===Object(e)?H(e,n):n.stylize(String(e),r)}const $t=/%[sdjifoOc%]/g;function vt(...e){if(typeof e[0]!="string"){const o=[];for(let s=0;s<e.length;s++)o.push(M(e[s],{depth:0,colors:!1}));return o.join(" ")}const t=e.length;let n=1;const i=e[0];let r=String(i).replace($t,o=>{if(o==="%%")return"%";if(n>=t)return o;switch(o){case"%s":{const s=e[n++];return typeof s=="bigint"?`${s.toString()}n`:typeof s=="number"&&s===0&&1/s<0?"-0":typeof s=="object"&&s!==null?typeof s.toString=="function"&&s.toString!==Object.prototype.toString?s.toString():M(s,{depth:0,colors:!1}):String(s)}case"%d":{const s=e[n++];return typeof s=="bigint"?`${s.toString()}n`:Number(s).toString()}case"%i":{const s=e[n++];return typeof s=="bigint"?`${s.toString()}n`:Number.parseInt(String(s)).toString()}case"%f":return Number.parseFloat(String(e[n++])).toString();case"%o":return M(e[n++],{showHidden:!0,showProxy:!0});case"%O":return M(e[n++]);case"%c":return n++,"";case"%j":try{return JSON.stringify(e[n++])}catch(s){const c=s.message;if(c.includes("circular structure")||c.includes("cyclic structures")||c.includes("cyclic object"))return"[Circular]";throw s}default:return o}});for(let o=e[n];n<t;o=e[++n])o===null||typeof o!="object"?r+=` ${o}`:r+=` ${M(o)}`;return r}function M(e,t={}){return t.truncate===0&&(t.truncate=Number.POSITIVE_INFINITY),re(e,t)}function kt(e,t={}){typeof t.truncate>"u"&&(t.truncate=40);const n=M(e,t),i=Object.prototype.toString.call(e);if(t.truncate&&n.length>=t.truncate)if(i==="[object Function]"){const r=e;return r.name?`[Function: ${r.name}]`:"[Function]"}else{if(i==="[object Array]")return`[ Array(${e.length}) ]`;if(i==="[object Object]"){const r=Object.keys(e);return`{ Object (${r.length>2?`${r.splice(0,2).join(", ")}, ...`:r.join(", ")}) }`}else return n}return n}function Ne(e){return e==null&&(e=[]),Array.isArray(e)?e:[e]}function Pe(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}function _t(){}function Ie(e,t,n=void 0){const i=t.replace(/\[(\d+)\]/g,".$1").split(".");let r=e;for(const o of i)if(r=new Object(r)[o],r===void 0)return n;return r}function we(){let e=null,t=null;const n=new Promise((i,r)=>{e=i,t=r});return n.resolve=e,n.reject=t,n}function Et(e){if(!Number.isNaN(e))return!1;const t=new Float64Array(1);return t[0]=e,new Uint32Array(t.buffer)[1]>>>31===1}var Q,xe;function At(){if(xe)return Q;xe=1;var e,t,n,i,r,o,s,c,u,l,f,g,h,b,w,x,S,d,$;return h=/\/(?![*\/])(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\\]).|\\.)*(\/[$_\u200C\u200D\p{ID_Continue}]*|\\)?/yu,g=/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![\/*]))=?|[?~,:;[\](){}]/y,e=/(\x23?)(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/yu,w=/(['"])(?:(?!\1)[^\\\n\r]|\\(?:\r\n|[^]))*(\1)?/y,f=/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/y,x=/[`}](?:[^`\\$]|\\[^]|\$(?!\{))*(`|\$\{)?/y,$=/[\t\v\f\ufeff\p{Zs}]+/yu,c=/\r?\n|[\r\u2028\u2029]/y,u=/\/\*(?:[^*]|\*(?!\/))*(\*\/)?/y,b=/\/\/.*/y,n=/[<>.:={}]|\/(?![\/*])/y,t=/[$_\p{ID_Start}][$_\u200C\u200D\p{ID_Continue}-]*/yu,i=/(['"])(?:(?!\1)[^])*(\1)?/y,r=/[^<>{}]+/y,d=/^(?:[\/+-]|\.{3}|\?(?:InterpolationIn(?:JSX|Template)|NoLineTerminatorHere|NonExpressionParenEnd|UnaryIncDec))?$|[{}([,;<>=*%&|^!~?:]$/,S=/^(?:=>|[;\]){}]|else|\?(?:NoLineTerminatorHere|NonExpressionParenEnd))?$/,o=/^(?:await|case|default|delete|do|else|instanceof|new|return|throw|typeof|void|yield)$/,s=/^(?:return|throw|yield)$/,l=RegExp(c.source),Q=function*(m,{jsx:v=!1}={}){var k,P,q,p,y,X,a,C,le,_,z,I,W,T;for({length:X}=m,p=0,y="",T=[{tag:"JS"}],k=[],z=0,I=!1;p<X;){switch(C=T[T.length-1],C.tag){case"JS":case"JSNonExpressionParen":case"InterpolationInTemplate":case"InterpolationInJSX":if(m[p]==="/"&&(d.test(y)||o.test(y))&&(h.lastIndex=p,a=h.exec(m))){p=h.lastIndex,y=a[0],I=!0,yield{type:"RegularExpressionLiteral",value:a[0],closed:a[1]!==void 0&&a[1]!=="\\"};continue}if(g.lastIndex=p,a=g.exec(m)){switch(W=a[0],le=g.lastIndex,_=W,W){case"(":y==="?NonExpressionParenKeyword"&&T.push({tag:"JSNonExpressionParen",nesting:z}),z++,I=!1;break;case")":z--,I=!0,C.tag==="JSNonExpressionParen"&&z===C.nesting&&(T.pop(),_="?NonExpressionParenEnd",I=!1);break;case"{":g.lastIndex=0,q=!S.test(y)&&(d.test(y)||o.test(y)),k.push(q),I=!1;break;case"}":switch(C.tag){case"InterpolationInTemplate":if(k.length===C.nesting){x.lastIndex=p,a=x.exec(m),p=x.lastIndex,y=a[0],a[1]==="${"?(y="?InterpolationInTemplate",I=!1,yield{type:"TemplateMiddle",value:a[0]}):(T.pop(),I=!0,yield{type:"TemplateTail",value:a[0],closed:a[1]==="`"});continue}break;case"InterpolationInJSX":if(k.length===C.nesting){T.pop(),p+=1,y="}",yield{type:"JSXPunctuator",value:"}"};continue}}I=k.pop(),_=I?"?ExpressionBraceEnd":"}";break;case"]":I=!0;break;case"++":case"--":_=I?"?PostfixIncDec":"?UnaryIncDec";break;case"<":if(v&&(d.test(y)||o.test(y))){T.push({tag:"JSXTag"}),p+=1,y="<",yield{type:"JSXPunctuator",value:W};continue}I=!1;break;default:I=!1}p=le,y=_,yield{type:"Punctuator",value:W};continue}if(e.lastIndex=p,a=e.exec(m)){switch(p=e.lastIndex,_=a[0],a[0]){case"for":case"if":case"while":case"with":y!=="."&&y!=="?."&&(_="?NonExpressionParenKeyword")}y=_,I=!o.test(a[0]),yield{type:a[1]==="#"?"PrivateIdentifier":"IdentifierName",value:a[0]};continue}if(w.lastIndex=p,a=w.exec(m)){p=w.lastIndex,y=a[0],I=!0,yield{type:"StringLiteral",value:a[0],closed:a[2]!==void 0};continue}if(f.lastIndex=p,a=f.exec(m)){p=f.lastIndex,y=a[0],I=!0,yield{type:"NumericLiteral",value:a[0]};continue}if(x.lastIndex=p,a=x.exec(m)){p=x.lastIndex,y=a[0],a[1]==="${"?(y="?InterpolationInTemplate",T.push({tag:"InterpolationInTemplate",nesting:k.length}),I=!1,yield{type:"TemplateHead",value:a[0]}):(I=!0,yield{type:"NoSubstitutionTemplate",value:a[0],closed:a[1]==="`"});continue}break;case"JSXTag":case"JSXTagEnd":if(n.lastIndex=p,a=n.exec(m)){switch(p=n.lastIndex,_=a[0],a[0]){case"<":T.push({tag:"JSXTag"});break;case">":T.pop(),y==="/"||C.tag==="JSXTagEnd"?(_="?JSX",I=!0):T.push({tag:"JSXChildren"});break;case"{":T.push({tag:"InterpolationInJSX",nesting:k.length}),_="?InterpolationInJSX",I=!1;break;case"/":y==="<"&&(T.pop(),T[T.length-1].tag==="JSXChildren"&&T.pop(),T.push({tag:"JSXTagEnd"}))}y=_,yield{type:"JSXPunctuator",value:a[0]};continue}if(t.lastIndex=p,a=t.exec(m)){p=t.lastIndex,y=a[0],yield{type:"JSXIdentifier",value:a[0]};continue}if(i.lastIndex=p,a=i.exec(m)){p=i.lastIndex,y=a[0],yield{type:"JSXString",value:a[0],closed:a[2]!==void 0};continue}break;case"JSXChildren":if(r.lastIndex=p,a=r.exec(m)){p=r.lastIndex,y=a[0],yield{type:"JSXText",value:a[0]};continue}switch(m[p]){case"<":T.push({tag:"JSXTag"}),p++,y="<",yield{type:"JSXPunctuator",value:"<"};continue;case"{":T.push({tag:"InterpolationInJSX",nesting:k.length}),p++,y="?InterpolationInJSX",I=!1,yield{type:"JSXPunctuator",value:"{"};continue}}if($.lastIndex=p,a=$.exec(m)){p=$.lastIndex,yield{type:"WhiteSpace",value:a[0]};continue}if(c.lastIndex=p,a=c.exec(m)){p=c.lastIndex,I=!1,s.test(y)&&(y="?NoLineTerminatorHere"),yield{type:"LineTerminatorSequence",value:a[0]};continue}if(u.lastIndex=p,a=u.exec(m)){p=u.lastIndex,l.test(a[0])&&(I=!1,s.test(y)&&(y="?NoLineTerminatorHere")),yield{type:"MultiLineComment",value:a[0],closed:a[1]!==void 0};continue}if(b.lastIndex=p,a=b.exec(m)){p=b.lastIndex,I=!1,yield{type:"SingleLineComment",value:a[0]};continue}P=String.fromCodePoint(m.codePointAt(p)),p+=P.length,y=P,I=!1,yield{type:C.tag.startsWith("JSX")?"JSXInvalid":"Invalid",value:P}}},Q}At();var je={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"]};new Set(je.keyword);new Set(je.strict);const Te=Symbol("vitest:SAFE_TIMERS");function Ct(){const{setTimeout:e,setInterval:t,clearInterval:n,clearTimeout:i,setImmediate:r,clearImmediate:o,queueMicrotask:s}=globalThis[Te]||globalThis,{nextTick:c}=globalThis[Te]||globalThis.process||{nextTick:u=>u()};return{nextTick:c,setTimeout:e,setInterval:t,clearInterval:n,clearTimeout:i,setImmediate:r,clearImmediate:o,queueMicrotask:s}}const $e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nt=new Uint8Array(64),Pt=new Uint8Array(128);for(let e=0;e<$e.length;e++){const t=$e.charCodeAt(e);Nt[e]=t,Pt[t]=e}var ve;(function(e){e[e.Empty=1]="Empty",e[e.Hash=2]="Hash",e[e.Query=3]="Query",e[e.RelativePath=4]="RelativePath",e[e.AbsolutePath=5]="AbsolutePath",e[e.SchemeRelative=6]="SchemeRelative",e[e.Absolute=7]="Absolute"})(ve||(ve={}));const jt=/^[A-Za-z]:\//;function Ft(e=""){return e&&e.replace(/\\/g,"/").replace(jt,t=>t.toUpperCase())}const Rt=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/;function Lt(){return typeof process<"u"&&typeof process.cwd=="function"?process.cwd().replace(/\\/g,"/"):"/"}const Mt=function(...e){e=e.map(i=>Ft(i));let t="",n=!1;for(let i=e.length-1;i>=-1&&!n;i--){const r=i>=0?e[i]:Lt();!r||r.length===0||(t=`${r}/${t}`,n=ke(r))}return t=Ot(t,!n),n&&!ke(t)?`/${t}`:t.length>0?t:"."};function Ot(e,t){let n="",i=0,r=-1,o=0,s=null;for(let c=0;c<=e.length;++c){if(c<e.length)s=e[c];else{if(s==="/")break;s="/"}if(s==="/"){if(!(r===c-1||o===1))if(o===2){if(n.length<2||i!==2||n[n.length-1]!=="."||n[n.length-2]!=="."){if(n.length>2){const u=n.lastIndexOf("/");u===-1?(n="",i=0):(n=n.slice(0,u),i=n.length-1-n.lastIndexOf("/")),r=c,o=0;continue}else if(n.length>0){n="",i=0,r=c,o=0;continue}}t&&(n+=n.length>0?"/..":"..",i=2)}else n.length>0?n+=`/${e.slice(r+1,c)}`:n=e.slice(r+1,c),i=c-r-1;r=c,o=0}else s==="."&&o!==-1?++o:o=-1}return n}const ke=function(e){return Rt.test(e)},Fe=/^\s*at .*(?:\S:\d+|\(native\))/m,Bt=/^(?:eval@)?(?:\[native code\])?$/;function Re(e){if(!e.includes(":"))return[e];const n=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/^\(|\)$/g,""));if(!n)return[e];let i=n[1];if(i.startsWith("async ")&&(i=i.slice(6)),i.startsWith("http:")||i.startsWith("https:")){const r=new URL(i);r.searchParams.delete("import"),r.searchParams.delete("browserv"),i=r.pathname+r.hash+r.search}if(i.startsWith("/@fs/")){const r=/^\/@fs\/[a-zA-Z]:\//.test(i);i=i.slice(r?5:4)}return[i,n[2]||void 0,n[3]||void 0]}function Jt(e){let t=e.trim();if(Bt.test(t)||(t.includes(" > eval")&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),!t.includes("@")&&!t.includes(":")))return null;const n=/((.*".+"[^@]*)?[^@]*)(@)/,i=t.match(n),r=i&&i[1]?i[1]:void 0,[o,s,c]=Re(t.replace(n,""));return!o||!s||!c?null:{file:o,method:r||"",line:Number.parseInt(s),column:Number.parseInt(c)}}function Xt(e){const t=e.trim();return Fe.test(t)?zt(t):Jt(t)}function zt(e){let t=e.trim();if(!Fe.test(t))return null;t.includes("(eval ")&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));let n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,"");const i=n.match(/ (\(.+\)$)/);n=i?n.replace(i[0],""):n;const[r,o,s]=Re(i?i[1]:n);let c=i&&n||"",u=r&&["eval","<anonymous>"].includes(r)?void 0:r;return!u||!o||!s?null:(c.startsWith("async ")&&(c=c.slice(6)),u.startsWith("file://")&&(u=u.slice(7)),u=u.startsWith("node:")||u.startsWith("internal:")?u:Mt(u),c&&(c=c.replace(/__vite_ssr_import_\d+__\./g,"")),{method:c,file:u,line:Number.parseInt(o),column:Number.parseInt(s)})}function oe(e,t){function n(r){const o=function(...s){return t.apply(r,s)};Object.assign(o,t),o.withContext=()=>o.bind(r),o.setContext=(s,c)=>{r[s]=c},o.mergeContext=s=>{Object.assign(r,s)};for(const s of e)Object.defineProperty(o,s,{get(){return n({...r,[s]:!0})}});return o}const i=n({});return i.fn=t,i}class Wt extends Error{constructor(n,i,r){super(n);G(this,"code","VITEST_PENDING");G(this,"taskId");this.message=n,this.note=r,this.taskId=i.id}}const Le=new WeakMap,Me=new WeakMap,Oe=new WeakMap;function Dt(e,t){Le.set(e,t)}function yn(e){return Le.get(e)}function Vt(e,t){Me.set(e,t)}function qt(e){return Me.get(e)}function Ht(e,t){Oe.set(e,t)}function Kt(e){return Oe.get(e)}function Ut(e,t){const n=t.reduce((o,s)=>(o[s.prop]=s,o),{}),i={};e.forEach(o=>{const s=n[o.prop]||{...o};i[s.prop]=s});for(const o in i){var r;const s=i[o];s.deps=(r=s.deps)===null||r===void 0?void 0:r.map(c=>i[c.prop])}return Object.values(i)}function Be(e,t,n){const i=["auto","injected"],r=Object.entries(e).map(([o,s])=>{const c={value:s};if(Array.isArray(s)&&s.length>=2&&Pe(s[1])&&Object.keys(s[1]).some(u=>i.includes(u))){Object.assign(c,s[1]);const u=s[0];c.value=c.injected?n(o)??u:u}return c.prop=o,c.isFn=typeof c.value=="function",c});return Array.isArray(t.fixtures)?t.fixtures=t.fixtures.concat(r):t.fixtures=r,r.forEach(o=>{if(o.isFn){const s=Xe(o.value);s.length&&(o.deps=t.fixtures.filter(({prop:c})=>c!==o.prop&&s.includes(c)))}}),t}const ee=new Map,te=new Map;function Gt(e,t){return n=>{const i=n||t;if(!i)return e({});const r=qt(i);if(!(r!=null&&r.length))return e(i);const o=Xe(e),s=r.some(({auto:h})=>h);if(!o.length&&!s)return e(i);ee.get(i)||ee.set(i,new Map);const c=ee.get(i);te.has(i)||te.set(i,[]);const u=te.get(i),l=r.filter(({prop:h,auto:b})=>b||o.includes(h)),f=Je(l);if(!f.length)return e(i);async function g(){for(const h of f){if(c.has(h))continue;const b=h.isFn?await Zt(h.value,i,u):h.value;i[h.prop]=b,c.set(h,b),u.unshift(()=>{c.delete(h)})}}return g().then(()=>e(i))}}async function Zt(e,t,n){const i=we();let r=!1;const o=e(t,async s=>{r=!0,i.resolve(s);const c=we();n.push(async()=>{c.resolve(),await o}),await c}).catch(s=>{if(!r){i.reject(s);return}throw s});return i}function Je(e,t=new Set,n=[]){return e.forEach(i=>{if(!n.includes(i)){if(!i.isFn||!i.deps){n.push(i);return}if(t.has(i))throw new Error(`Circular fixture dependency detected: ${i.prop} <- ${[...t].reverse().map(r=>r.prop).join(" <- ")}`);t.add(i),Je(i.deps,t,n),n.push(i),t.clear()}}),n}function Xe(e){let t=e.toString();/__async\((?:this|null), (?:null|arguments|\[[_0-9, ]*\]), function\*/.test(t)&&(t=t.split(/__async\((?:this|null),/)[1]);const n=t.match(/[^(]*\(([^)]*)/);if(!n)return[];const i=_e(n[1]);if(!i.length)return[];let r=i[0];if("__VITEST_FIXTURE_INDEX__"in e&&(r=i[e.__VITEST_FIXTURE_INDEX__],!r))return[];if(!(r.startsWith("{")&&r.endsWith("}")))throw new Error(`The first argument inside a fixture must use object destructuring pattern, e.g. ({ test } => {}). Instead, received "${r}".`);const o=r.slice(1,-1).replace(/\s/g,""),s=_e(o).map(u=>u.replace(/:.*|=.*/g,"")),c=s.at(-1);if(c&&c.startsWith("..."))throw new Error(`Rest parameters are not supported in fixtures, received "${c}".`);return s}function _e(e){const t=[],n=[];let i=0;for(let o=0;o<e.length;o++)if(e[o]==="{"||e[o]==="[")n.push(e[o]==="{"?"}":"]");else if(e[o]===n[n.length-1])n.pop();else if(!n.length&&e[o]===","){const s=e.substring(i,o).trim();s&&t.push(s),i=o+1}const r=e.substring(i).trim();return r&&t.push(r),t}let Yt;function bn(){return Yt}const D=sn();ue(function(e,t,n){K().test.fn.call(this,j(e),t,n)});let L,ze,Qt;function We(e,t){if(!e)throw new Error(`Vitest failed to find ${t}. This is a bug in Vitest. Please, open an issue with reproduction.`)}function en(){return Qt}function ce(){return We(L,"the runner"),L}function K(){const e=F.currentSuite||ze;return We(e,"the current suite"),e}function tn(){return{beforeAll:[],afterAll:[],beforeEach:[],afterEach:[]}}function B(e,t){let n={},i=()=>{};if(typeof t=="object"){if(typeof e=="object")throw new TypeError("Cannot use two objects as arguments. Please provide options and a function callback in that order.");console.warn("Using an object as a third argument is deprecated. Vitest 4 will throw an error if the third argument is not a timeout number. Please use the second argument for options. See more at https://vitest.dev/guide/migration"),n=t}else typeof t=="number"?n={timeout:t}:typeof e=="object"&&(n=e);if(typeof e=="function"){if(typeof t=="function")throw new TypeError("Cannot use two functions as arguments. Please use the second argument for options.");i=e}else typeof t=="function"&&(i=t);return{options:n,handler:i}}function nn(e,t=()=>{},n,i,r,o){const s=[];let c;b();const u=function(S="",d={}){var $;const m=(d==null?void 0:d.timeout)??L.config.testTimeout,v={id:"",name:S,suite:($=F.currentSuite)===null||$===void 0?void 0:$.suite,each:d.each,fails:d.fails,context:void 0,type:"test",file:void 0,timeout:m,retry:d.retry??L.config.retry,repeats:d.repeats,mode:d.only?"only":d.skip?"skip":d.todo?"todo":"run",meta:d.meta??Object.create(null)},k=d.handler;(d.concurrent||!d.sequential&&L.config.sequence.concurrent)&&(v.concurrent=!0),v.shuffle=r==null?void 0:r.shuffle;const P=an(v,L);Object.defineProperty(v,"context",{value:P,enumerable:!1}),Vt(P,d.fixtures);const q=Error.stackTraceLimit;Error.stackTraceLimit=15;const p=new Error("STACK_TRACE_ERROR");if(Error.stackTraceLimit=q,k&&Dt(v,ie(rn(Gt(k,P),v),m,!1,p)),L.config.includeTaskLocation){const y=p.stack,X=cn(y,v.each??!1);X&&(v.location=X)}return s.push(v),v},l=ue(function(S,d,$){let{options:m,handler:v}=B(d,$);typeof r=="object"&&(m=Object.assign({},r,m)),m.concurrent=this.concurrent||!this.sequential&&(m==null?void 0:m.concurrent),m.sequential=this.sequential||!this.concurrent&&(m==null?void 0:m.sequential);const k=u(j(S),{...this,...m,handler:v});k.type="test"});let f=o;const g={type:"collector",name:e,mode:n,suite:c,options:r,test:l,tasks:s,collect:x,task:u,clear:w,on:h,fixtures(){return f},scoped(S){const d=Be(S,{fixtures:f},$=>{var m,v;return(m=(v=ce()).injectValue)===null||m===void 0?void 0:m.call(v,$)});d.fixtures&&(f=d.fixtures)}};function h(S,...d){Kt(c)[S].push(...d)}function b(S){var d;typeof r=="number"&&(r={timeout:r}),c={id:"",type:"suite",name:e,suite:(d=F.currentSuite)===null||d===void 0?void 0:d.suite,mode:n,each:i,file:void 0,shuffle:r==null?void 0:r.shuffle,tasks:[],meta:Object.create(null),concurrent:r==null?void 0:r.concurrent},Ht(c,tn())}function w(){s.length=0,b()}async function x(S){if(!S)throw new TypeError("File is required to collect tasks.");t&&await ln(g,()=>t(l));const d=[];for(const $ of s)d.push($.type==="collector"?await $.collect(S):$);return c.file=S,c.tasks=d,d.forEach($=>{$.file=S}),c}return un(g),g}function rn(e,t){return async(...n)=>{const i=await e(...n);if(t.promises){const o=(await Promise.allSettled(t.promises)).map(s=>s.status==="rejected"?s.reason:void 0).filter(Boolean);if(o.length)throw o}return i}}function sn(){function e(t,n,i){var r;const o=this.only?"only":this.skip?"skip":this.todo?"todo":"run",s=F.currentSuite||ze;let{options:c,handler:u}=B(n,i);const l=c.concurrent||this.concurrent||c.sequential===!1,f=c.sequential||this.sequential||c.concurrent===!1;c={...s==null?void 0:s.options,...c,shuffle:this.shuffle??c.shuffle??(s==null||(r=s.options)===null||r===void 0?void 0:r.shuffle)??void 0};const g=l||c.concurrent&&!f,h=f||c.sequential&&!l;return c.concurrent=g&&!h,c.sequential=h&&!g,nn(j(t),u,o,this.each,c,s==null?void 0:s.fixtures())}return e.each=function(t,...n){const i=this.withContext();return this.setContext("each",!0),Array.isArray(t)&&n.length&&(t=U(t,n)),(r,o,s)=>{const c=j(r),u=t.every(Array.isArray),{options:l,handler:f}=B(o,s),g=typeof o=="function"&&typeof s=="object";t.forEach((h,b)=>{const w=Array.isArray(h)?h:[h];g?u?i(A(c,w,b),()=>f(...w),l):i(A(c,w,b),()=>f(h),l):u?i(A(c,w,b),l,()=>f(...w)):i(A(c,w,b),l,()=>f(h))}),this.setContext("each",void 0)}},e.for=function(t,...n){return Array.isArray(t)&&n.length&&(t=U(t,n)),(i,r,o)=>{const s=j(i),{options:c,handler:u}=B(r,o);t.forEach((l,f)=>{D(A(s,Ne(l),f),c,()=>u(l))})}},e.skipIf=t=>t?D.skip:D,e.runIf=t=>t?D:D.skip,oe(["concurrent","sequential","shuffle","skip","only","todo"],e)}function on(e,t){const n=e;n.each=function(r,...o){const s=this.withContext();return this.setContext("each",!0),Array.isArray(r)&&o.length&&(r=U(r,o)),(c,u,l)=>{const f=j(c),g=r.every(Array.isArray),{options:h,handler:b}=B(u,l),w=typeof u=="function"&&typeof l=="object";r.forEach((x,S)=>{const d=Array.isArray(x)?x:[x];w?g?s(A(f,d,S),()=>b(...d),h):s(A(f,d,S),()=>b(x),h):g?s(A(f,d,S),h,()=>b(...d)):s(A(f,d,S),h,()=>b(x))}),this.setContext("each",void 0)}},n.for=function(r,...o){const s=this.withContext();return Array.isArray(r)&&o.length&&(r=U(r,o)),(c,u,l)=>{const f=j(c),{options:g,handler:h}=B(u,l);r.forEach((b,w)=>{const x=S=>h(b,S);x.__VITEST_FIXTURE_INDEX__=1,x.toString=()=>h.toString(),s(A(f,Ne(b),w),g,x)})}},n.skipIf=function(r){return r?this.skip:this},n.runIf=function(r){return r?this:this.skip},n.scoped=function(r){K().scoped(r)},n.extend=function(r){const o=Be(r,t||{},s=>{var c,u;return(c=(u=ce()).injectValue)===null||c===void 0?void 0:c.call(u,s)});return ue(function(c,u,l){const f=K(),g=f.fixtures(),h={...this};g&&(h.fixtures=Ut(h.fixtures||[],g)),f.test.fn.call(h,j(c),u,l)},o)};const i=oe(["concurrent","sequential","skip","only","todo","fails"],n);return t&&i.mergeContext(t),i}function ue(e,t){return on(e,t)}function j(e){return typeof e=="string"?e:typeof e=="function"?e.name||"<anonymous>":String(e)}function A(e,t,n){(e.includes("%#")||e.includes("%$"))&&(e=e.replace(/%%/g,"__vitest_escaped_%__").replace(/%#/g,`${n}`).replace(/%\$/g,`${n+1}`).replace(/__vitest_escaped_%__/g,"%%"));const i=e.split("%").length-1;e.includes("%f")&&(e.match(/%f/g)||[]).forEach((c,u)=>{if(Et(t[u])||Object.is(t[u],-0)){let l=0;e=e.replace(/%f/g,f=>(l++,l===u+1?"-%f":f))}});let r=vt(e,...t.slice(0,i));const o=Pe(t[0]);return r=r.replace(/\$([$\w.]+)/g,(s,c)=>{const u=/^\d+$/.test(c);if(!o&&!u)return`$${c}`;const l=u?Ie(t,c):void 0,f=o?Ie(t[0],c,l):l;return kt(f,{truncate:void 0})}),r}function U(e,t){const n=e.join("").trim().replace(/ /g,"").split(`
`).map(r=>r.split("|"))[0],i=[];for(let r=0;r<Math.floor(t.length/n.length);r++){const o={};for(let s=0;s<n.length;s++)o[n[s]]=t[r*n.length+s];i.push(o)}return i}function cn(e,t){const n=e.split(`
`).slice(1);for(const i of n){const r=Xt(i);if(r&&r.file===en())return{line:r.line,column:t?r.column+1:r.column}}}const Ee=Date.now,F={currentSuite:null};function un(e){var t;(t=F.currentSuite)===null||t===void 0||t.tasks.push(e)}async function ln(e,t){const n=F.currentSuite;F.currentSuite=e,await t(),F.currentSuite=n}function ie(e,t,n=!1,i){if(t<=0||t===Number.POSITIVE_INFINITY)return e;const{setTimeout:r,clearTimeout:o}=Ct();return function(...c){const u=Ee(),l=ce();return l._currentTaskStartTime=u,l._currentTaskTimeout=t,new Promise((f,g)=>{var h;const b=r(()=>{o(b),w()},t);(h=b.unref)===null||h===void 0||h.call(b);function w(){g(fn(n,t,i))}function x(d){if(l._currentTaskStartTime=void 0,l._currentTaskTimeout=void 0,o(b),Ee()-u>=t){w();return}f(d)}function S(d){l._currentTaskStartTime=void 0,l._currentTaskTimeout=void 0,o(b),g(d)}try{const d=e(...c);typeof d=="object"&&d!=null&&typeof d.then=="function"?d.then(x,S):x(d)}catch(d){S(d)}})}}function an(e,t){var n;const i=function(){throw new Error("done() callback is deprecated, use promise instead")};return i.task=e,i.skip=(r,o)=>{if(r!==!1)throw e.result??(e.result={state:"skip"}),e.result.pending=!0,new Wt("test is skipped; abort execution",e,typeof r=="string"?r:o)},i.onTestFailed=(r,o)=>{e.onFailed||(e.onFailed=[]),e.onFailed.push(ie(r,o??t.config.hookTimeout,!0,new Error("STACK_TRACE_ERROR")))},i.onTestFinished=(r,o)=>{e.onFinished||(e.onFinished=[]),e.onFinished.push(ie(r,o??t.config.hookTimeout,!0,new Error("STACK_TRACE_ERROR")))},((n=t.extendTaskContext)===null||n===void 0?void 0:n.call(t,i))||i}function fn(e,t,n){const i=`${e?"Hook":"Test"} timed out in ${t}ms.
If this is a long-running ${e?"hook":"test"}, pass a timeout value as the last argument or configure it globally with "${e?"hookTimeout":"testTimeout"}".`,r=new Error(i);return n!=null&&n.stack&&(r.stack=n.stack.replace(r.message,n.message)),r}globalThis.performance?globalThis.performance.now.bind(globalThis.performance):Date.now;globalThis.performance?globalThis.performance.now.bind(globalThis.performance):Date.now;const dn="__vitest_worker__";function hn(){const e=globalThis[dn];if(!e){const t=`Vitest failed to access its internal state.

One of the following is possible:
- "vitest" is imported directly without running "vitest" command
- "vitest" is imported inside "globalSetup" (to fix this, use "setupFiles" instead, because "globalSetup" runs in a different context)
- "vitest" is imported inside Vite / Vitest config file
- Otherwise, it might be a Vitest bug. Please report it to https://github.com/vitest-dev/vitest/issues
`;throw new Error(t)}return e}const De=new WeakMap,Ve=new WeakMap;function Sn(e){return Ve.get(e)}function In(e){return De.get(e)}gn(function(e,t=_t,n={}){if(hn().config.mode!=="benchmark")throw new Error("`bench()` is only available in benchmark mode.");const i=K().task(pn(e),{...this,meta:{benchmark:!0}});De.set(i,t),Ve.set(i,n)});function gn(e){const t=oe(["skip","only","todo"],e);return t.skipIf=n=>n?t.skip:t,t.runIf=n=>n?t:t.skip,t}function pn(e){return typeof e=="string"?e:typeof e=="function"?e.name||"<anonymous>":String(e)}export{oe as createChainable,on as createTaskCollector,In as getBenchFn,Sn as getBenchOptions,K as getCurrentSuite,bn as getCurrentTest,yn as getFn,Kt as getHooks,Dt as setFn,Ht as setHooks};
