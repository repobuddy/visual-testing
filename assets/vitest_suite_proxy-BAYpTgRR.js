import{_ as F}from"./iframe-B_cy3Fgk.js";function N(O,A){var x=Object.keys(O);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(O);A&&(E=E.filter(function(P){return Object.getOwnPropertyDescriptor(O,P).enumerable})),x.push.apply(x,E)}return x}function U(O){for(var A=1;A<arguments.length;A++){var x=arguments[A]!=null?arguments[A]:{};A%2?N(Object(x),!0).forEach(function(E){J(O,E,x[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(x)):N(Object(x)).forEach(function(E){Object.defineProperty(O,E,Object.getOwnPropertyDescriptor(x,E))})}return O}function J(O,A,x){return A=Q(A),A in O?Object.defineProperty(O,A,{value:x,enumerable:!0,configurable:!0,writable:!0}):O[A]=x,O}function Q(O){var A=X(O,"string");return typeof A=="symbol"?A:String(A)}function X(O,A){if(typeof O!="object"||O===null)return O;var x=O[Symbol.toPrimitive];if(x!==void 0){var E=x.call(O,A);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(O)}const tt=G({});function G(O){return A.withOptions=x=>G(U(U({},O),x)),A;function A(x,...E){const P=typeof x=="string"?[x]:x.raw,{escapeSpecialCharacters:e=Array.isArray(x),trimWhitespace:c=!0}=O;let i="";for(let g=0;g<P.length;g++){let a=P[g];e&&(a=a.replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`").replace(/\\\$/g,"$").replace(/\\\{/g,"{")),i+=a,g<E.length&&(i+=E[g])}const w=i.split(`
`);let m=null;for(const g of w){const a=g.match(/^(\s+)\S+/);if(a){const h=a[1].length;m?m=Math.min(m,h):m=h}}if(m!==null){const g=m;i=w.map(a=>a[0]===" "||a[0]==="	"?a.slice(g):a).join(`
`)}return c&&(i=i.trim()),e&&(i=i.replace(/\\n/g,`
`)),i}}var B={exports:{}},W;function Y(){return W||(W=1,function(O,A){(function(x,E){O.exports=E()})(self,function(){return(()=>{var x={132:(P,e,c)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.bezkrovnySsim=void 0;var i=c(490),w=c(971);function m(g,a,h){var f=g.data,t=a.data,d=h.bitDepth,r=h.k1,n=h.k2,v=Math.pow(2,d)-1,l=Math.pow(r*v,2),s=Math.pow(n*v,2),o=i.average(f),u=i.average(t),p=i.variance(f,o),_=i.variance(t,u);return(2*o*u+l)*(2*i.covariance(f,t,o,u)+s)/((Math.pow(o,2)+Math.pow(u,2)+l)*(p+_+s))}e.bezkrovnySsim=function(g,a,h){for(var f=h.windowSize,t=Math.ceil(g.width/f),d=Math.ceil(g.height/f),r=new Array(t*d),n=0,v=0;v<g.height;v+=f)for(var l=0;l<g.width;l+=f){var s=Math.min(f,g.width-l),o=Math.min(f,g.height-v),u=w.sub(g,l,o,v,s),p=w.sub(a,l,o,v,s);r[n++]=m(u,p,h)}return{data:r,width:t,height:d}}},63:(P,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.defaults=void 0,e.defaults={windowSize:11,k1:.01,k2:.03,bitDepth:8,downsample:"original",ssim:"weber",maxSize:256,rgb2grayVersion:"integer"}},441:(P,e,c)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.downsample=void 0;var i=c(490),w=c(971);function m(g,a,h){var f=w.imfilter(g,a,"symmetric","same");return w.skip2d(f,[0,h,f.height],[0,h,f.width])}e.downsample=function(g,a){return a.downsample==="original"?function(h,f,t){t===void 0&&(t=256);var d=Math.min(h.width,f.height)/t,r=Math.round(d);if(r>1){var n=w.ones(r);h=m(h,n=i.divide2d(n,i.sum2d(n)),r),f=m(f,n,r)}return[h,f]}(g[0],g[1],a.maxSize):g}},607:function(P,e,c){var i=this&&this.__assign||function(){return(i=Object.assign||function(l){for(var s,o=1,u=arguments.length;o<u;o++)for(var p in s=arguments[o])Object.prototype.hasOwnProperty.call(s,p)&&(l[p]=s[p]);return l}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ssim=e.getOptions=void 0;var w=c(971),m=c(490),g=c(773),a=c(595),h=c(132),f=c(441),t=c(63),d=c(535),r={fast:g.ssim,original:a.originalSsim,bezkrovny:h.bezkrovnySsim,weber:d.weberSsim};function n(l){var s=i(i({},t.defaults),l);return function(o){if(Object.keys(o).forEach(function(u){if(!(u in t.defaults))throw new Error('"'+u+'" is not a valid option')}),"k1"in o&&(typeof o.k1!="number"||o.k1<0))throw new Error("Invalid k1 value. Default is "+t.defaults.k1);if("k2"in o&&(typeof o.k2!="number"||o.k2<0))throw new Error("Invalid k2 value. Default is "+t.defaults.k2);if(!(o.ssim in r))throw new Error("Invalid ssim option (use: "+Object.keys(r).join(", ")+")")}(s),s}function v(l,s,o){var u,p,_,b,y=new Date().getTime(),M=function(j){var S=j[0],k=j[1],D=j[2];return r[D.ssim](S,k,D)}(function(j){var S=j[0],k=j[1],D=j[2],z=f.downsample([S,k],D);return[z[0],z[1],D]}((u=function(j){var S=j[0],k=j[1],D=j[2];if(S.width!==k.width||S.height!==k.height)throw new Error("Image dimensions do not match");return[S,k,D]}([l,s,n(o)]),p=u[0],_=u[1],(b=u[2]).rgb2grayVersion==="original"?[w.rgb2gray(p),w.rgb2gray(_),b]:[w.rgb2grayInteger(p),w.rgb2grayInteger(_),b])));return{mssim:M.mssim!==void 0?M.mssim:m.mean2d(M),ssim_map:M,performance:new Date().getTime()-y}}e.getOptions=n,e.ssim=v,e.default=v},490:(P,e)=>{function c(a){return i(a)/a.length}function i(a){for(var h=0,f=0;f<a.length;f++)h+=a[f];return h}function w(a){for(var h=a.data,f=0,t=0;t<h.length;t++)f+=h[t];return f}function m(a,h){for(var f=a.data,t=a.width,d=a.height,r=new Array(f.length),n=0;n<f.length;n++)r[n]=f[n]+h;return{data:r,width:t,height:d}}function g(a,h){return typeof h=="number"?function(f,t){for(var d=f.data,r=f.width,n=f.height,v=new Array(d.length),l=0;l<d.length;l++)v[l]=d[l]*t;return{data:v,width:r,height:n}}(a,h):function(f,t){for(var d=f.data,r=f.width,n=f.height,v=t.data,l=new Array(d.length),s=0;s<d.length;s++)l[s]=d[s]*v[s];return{data:l,width:r,height:n}}(a,h)}Object.defineProperty(e,"__esModule",{value:!0}),e.covariance=e.variance=e.mean2d=e.square2d=e.multiply2d=e.divide2d=e.subtract2d=e.add2d=e.sum2d=e.floor=e.sum=e.average=void 0,e.average=c,e.sum=i,e.floor=function(a){for(var h=new Array(a.length),f=0;f<a.length;f++)h[f]=Math.floor(a[f]);return h},e.sum2d=w,e.add2d=function(a,h){return typeof h=="number"?m(a,h):function(f,t){for(var d=f.data,r=f.width,n=f.height,v=t.data,l=new Array(d.length),s=0;s<n;s++)for(var o=s*r,u=0;u<r;u++)l[o+u]=d[o+u]+v[o+u];return{data:l,width:r,height:n}}(a,h)},e.subtract2d=function(a,h){return typeof h=="number"?m(a,-h):function(f,t){for(var d=f.data,r=f.width,n=f.height,v=t.data,l=new Array(d.length),s=0;s<n;s++)for(var o=s*r,u=0;u<r;u++)l[o+u]=d[o+u]-v[o+u];return{data:l,width:r,height:n}}(a,h)},e.divide2d=function(a,h){return typeof h=="number"?function(f,t){for(var d=f.data,r=f.width,n=f.height,v=new Array(d.length),l=0;l<d.length;l++)v[l]=d[l]/t;return{data:v,width:r,height:n}}(a,h):function(f,t){for(var d=f.data,r=f.width,n=f.height,v=t.data,l=new Array(d.length),s=0;s<d.length;s++)l[s]=d[s]/v[s];return{data:l,width:r,height:n}}(a,h)},e.multiply2d=g,e.square2d=function(a){return g(a,a)},e.mean2d=function(a){return w(a)/a.data.length},e.variance=function(a,h){h===void 0&&(h=c(a));for(var f=0,t=a.length;t--;)f+=Math.pow(a[t]-h,2);return f/a.length},e.covariance=function(a,h,f,t){f===void 0&&(f=c(a)),t===void 0&&(t=c(h));for(var d=0,r=a.length;r--;)d+=(a[r]-f)*(h[r]-t);return d/a.length}},687:(P,e,c)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.conv2=void 0;var i=c(490),w=c(298),m=c(118),g=c(799);function a(r,n,v){var l=r.data,s=r.width,o=r.height;v===void 0&&(v="full");for(var u=s+n.width-1,p=o+n.height-1,_=g.zeros(p,u).data,b=0;b<n.height;b++)for(var y=0;y<n.width;y++){var M=n.data[b*n.width+y];if(M)for(var j=0;j<o;j++)for(var S=0;S<s;S++)_[(j+b)*u+S+y]+=l[j*s+S]*M}return d({data:_,width:u,height:p},v,o,n.height,s,n.width)}function h(r,n,v){var l=n.data,s=n.width,o=n.height;v===void 0&&(v="full");var u=t(r,w.ones(o,1),w.ones(1,s),v);return i.multiply2d(u,l[0])}function f(r){for(var n=r.data,v=n[0],l=1;l<n.length;l++)if(n[l]!==v)return!1;return!0}function t(r,n,v,l){l===void 0&&(l="full");var s=Math.max(n.height,n.width),o=Math.max(v.height,v.width),u=a(r,n,"full");return d(a(u,v,"full"),l,r.height,s,r.width,o)}function d(r,n,v,l,s,o){if(n==="full")return r;if(n==="same"){var u=Math.ceil((r.height-v)/2),p=Math.ceil((r.width-s)/2);return m.sub(r,u,v,p,s)}return m.sub(r,l-1,v-l+1,o-1,s-o+1)}e.conv2=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r[2]&&r[2].data?t.apply(void 0,r):f(r[1])?h.apply(void 0,r):a.apply(void 0,r)}},346:(P,e,c)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.filter2=void 0;var i=c(687);e.filter2=function(w,m,g){return g===void 0&&(g="same"),i.conv2(m,function(a){for(var h=a.data,f=a.width,t=a.height,d=new Array(h.length),r=0;r<t;r++)for(var n=0;n<f;n++)d[r*f+n]=h[(t-1-r)*f+f-1-n];return{data:d,width:f,height:t}}(w),g)}},470:(P,e,c)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fspecial=void 0;var i=c(490);e.fspecial=function(w,m,g){m===void 0&&(m=3),g===void 0&&(g=1.5);var a=function(f,t){for(var d=f.data,r=f.width,n=f.height,v=new Array(d.length),l=0;l<d.length;l++)v[l]=Math.exp(-d[l]/(2*Math.pow(t,2)));return{data:v,width:r,height:n}}(function(f){for(var t=2*f+1,d=new Array(Math.pow(t,2)),r=0;r<t;r++)for(var n=0;n<t;n++)d[r*t+n]=Math.pow(r-f,2)+Math.pow(n-f,2);return{data:d,width:t,height:t}}(m=(m-1)/2),g),h=i.sum2d(a);return i.divide2d(a,h)}},521:(P,e,c)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.imfilter=void 0;var i=c(20),w=c(389),m=c(490),g=c(346);e.imfilter=function(a,h,f,t){return f===void 0&&(f="symmetric"),t===void 0&&(t="same"),a=function(d,r,n,v){if(d=w.padarray(d,m.floor([r/2,n/2]),v),i.mod(r,2)===0&&(d.data=d.data.slice(0,-d.width),d.height--),i.mod(n,2)===0){for(var l=[],s=0;s<d.data.length;s++)(s+1)%d.width!=0&&l.push(d.data[s]);d.data=l,d.width--}return d}(a,h.width,h.height,f),t=function(d){return d==="same"&&(d="valid"),d}(t),g.filter2(h,a,t)}},971:function(P,e,c){var i=this&&this.__createBinding||(Object.create?function(m,g,a,h){h===void 0&&(h=a),Object.defineProperty(m,h,{enumerable:!0,get:function(){return g[a]}})}:function(m,g,a,h){h===void 0&&(h=a),m[h]=g[a]}),w=this&&this.__exportStar||function(m,g){for(var a in m)a==="default"||Object.prototype.hasOwnProperty.call(g,a)||i(g,m,a)};Object.defineProperty(e,"__esModule",{value:!0}),w(c(687),e),w(c(346),e),w(c(470),e),w(c(521),e),w(c(150),e),w(c(298),e),w(c(389),e),w(c(582),e),w(c(439),e),w(c(118),e),w(c(240),e),w(c(799),e)},928:(P,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.numbers=void 0,e.numbers=function(c,i,w){for(var m=i*c,g=new Array(m),a=0;a<m;a++)g[a]=w;return{data:g,width:i,height:c}}},20:(P,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mod=void 0,e.mod=function(c,i){return c-i*Math.floor(c/i)}},150:(P,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.normpdf=void 0,e.normpdf=function(c,i,w){var m=c.data,g=c.width,a=c.height;i===void 0&&(i=0),w===void 0&&(w=1);for(var h=new Array(m.length),f=0;f<m.length;f++){var t=(m[f]-i)/w;h[f]=Math.exp(-Math.pow(t,2)/2)/(2.5066282746310007*w)}return{data:h,width:g,height:a}}},298:(P,e,c)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ones=void 0;var i=c(928);e.ones=function(w,m){return m===void 0&&(m=w),i.numbers(w,m,1)}},389:(P,e,c)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.padarray=void 0;var i=c(20);e.padarray=function(w,m,g,a){var h=m[0],f=m[1];return w.height>=h&&w.width>=f?function(t,d){for(var r=d[0],n=d[1],v=t.width+2*n,l=t.height+2*r,s=new Array(v*l),o=-r;o<0;o++){for(var u=-n;u<0;u++)s[(o+r)*v+u+n]=t.data[(Math.abs(o)-1)*t.width+Math.abs(u)-1];for(u=0;u<t.width;u++)s[(o+r)*v+u+n]=t.data[(Math.abs(o)-1)*t.width+u];for(u=t.width;u<t.width+n;u++)s[(o+r)*v+u+n]=t.data[(Math.abs(o)-1)*t.width+2*t.width-u-1]}for(o=0;o<t.height;o++){for(u=-n;u<0;u++)s[(o+r)*v+u+n]=t.data[o*t.width+Math.abs(u)-1];for(u=0;u<t.width;u++)s[(o+r)*v+u+n]=t.data[o*t.width+u];for(u=t.width;u<t.width+n;u++)s[(o+r)*v+u+n]=t.data[o*t.width+2*t.width-u-1]}for(o=t.height;o<t.height+r;o++){for(u=-n;u<0;u++)s[(o+r)*v+u+n]=t.data[(2*t.height-o-1)*t.width+Math.abs(u)-1];for(u=0;u<t.width;u++)s[(o+r)*v+u+n]=t.data[(2*t.height-o-1)*t.width+u];for(u=t.width;u<t.width+n;u++)s[(o+r)*v+u+n]=t.data[(2*t.height-o-1)*t.width+2*t.width-u-1]}return{data:s,width:v,height:l}}(w,[h,f]):function(t,d){for(var r=function(o,u){return{data:o.data.concat(u.data),height:o.height+u.height,width:o.width}}(t,function(o){for(var u=o.data,p=o.width,_=o.height,b=new Array(u.length),y=0;y<_;y++)for(var M=0;M<p;M++)b[y*p+M]=u[(_-1-y)*p+M];return{data:b,width:p,height:_}}(t)),n=t.height+2*d,v=new Array(t.width*n),l=-d;l<t.height+d;l++)for(var s=0;s<t.width;s++)v[(l+d)*t.width+s]=r.data[i.mod(l,r.height)*t.width+s];return{data:v,width:t.width,height:n}}(function(t,d){for(var r=t.width+2*d,n=new Array(r*t.height),v=function(o,u){for(var p=o.width+u.width,_=new Array(o.height*p),b=0;b<o.height;b++){for(var y=0;y<o.width;y++)_[b*p+y]=o.data[b*o.width+y];for(y=0;y<u.width;y++)_[b*p+y+o.width]=u.data[b*u.width+y]}return{data:_,width:p,height:o.height}}(t,function(o){for(var u=o.data,p=o.width,_=o.height,b=new Array(u.length),y=0;y<_;y++)for(var M=0;M<p;M++)b[y*p+M]=u[y*p+p-1-M];return{data:b,width:p,height:_}}(t)),l=0;l<t.height;l++)for(var s=-d;s<t.width+d;s++)n[l*r+s+d]=v.data[l*v.width+i.mod(s,v.width)];return{data:n,width:r,height:t.height}}(w,f),h)}},582:(P,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.rgb2grayInteger=e.rgb2gray=void 0,e.rgb2gray=function(c){for(var i=c.data,w=c.width,m=c.height,g=new Uint8Array(w*m),a=0;a<i.length;a+=4)g[a/4]=.29894*i[a]+.58704*i[a+1]+.11402*i[a+2]+.5;return{data:Array.from(g),width:w,height:m}},e.rgb2grayInteger=function(c){for(var i=c.data,w=c.width,m=c.height,g=new Array(w*m),a=0;a<i.length;a+=4)g[a/4]=77*i[a]+150*i[a+1]+29*i[a+2]+128>>8;return{data:g,width:w,height:m}}},439:(P,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.skip2d=void 0,e.skip2d=function(c,i,w){for(var m=i[0],g=i[1],a=i[2],h=w[0],f=w[1],t=w[2],d=Math.ceil((t-h)/f),r=Math.ceil((a-m)/g),n=new Array(d*r),v=0;v<r;v++)for(var l=0;l<d;l++){var s=m+v*g,o=h+l*f;n[v*d+l]=c.data[s*c.width+o]}return{data:n,width:d,height:r}}},118:(P,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.sub=void 0,e.sub=function(c,i,w,m,g){for(var a=c.data,h=c.width,f=new Array(g*w),t=0;t<w;t++)for(var d=0;d<g;d++)f[t*g+d]=a[(m+t)*h+i+d];return{data:f,width:g,height:w}}},240:(P,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.transpose=void 0,e.transpose=function(c){for(var i=c.data,w=c.width,m=c.height,g=new Array(w*m),a=0;a<m;a++)for(var h=0;h<w;h++)g[h*m+a]=i[a*w+h];return{data:g,height:w,width:m}}},799:(P,e,c)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.zeros=void 0;var i=c(928);e.zeros=function(w,m){return m===void 0&&(m=w),i.numbers(w,m,0)}},595:(P,e,c)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.originalSsim=void 0;var i=c(490),w=c(971);e.originalSsim=function(m,g,a){var h=w.fspecial("gaussian",a.windowSize,1.5),f=Math.pow(2,a.bitDepth)-1,t=Math.pow(a.k1*f,2),d=Math.pow(a.k2*f,2);h=i.divide2d(h,i.sum2d(h));var r=w.filter2(h,m,"valid"),n=w.filter2(h,g,"valid"),v=i.square2d(r),l=i.square2d(n),s=i.multiply2d(r,n),o=i.square2d(m),u=i.square2d(g),p=i.subtract2d(w.filter2(h,o,"valid"),v),_=i.subtract2d(w.filter2(h,u,"valid"),l),b=i.subtract2d(w.filter2(h,i.multiply2d(m,g),"valid"),s);if(t>0&&d>0){var y=i.add2d(i.multiply2d(s,2),t),M=i.add2d(i.multiply2d(b,2),d),j=i.add2d(i.add2d(v,l),t),S=i.add2d(i.add2d(p,_),d);return i.divide2d(i.multiply2d(y,M),i.multiply2d(j,S))}var k=i.multiply2d(s,2),D=i.multiply2d(b,2),z=i.add2d(v,l),q=i.add2d(p,_);return i.divide2d(i.multiply2d(k,D),i.multiply2d(z,q))}},773:(P,e,c)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ssim=void 0;var i=c(490),w=c(971);e.ssim=function(m,g,a){var h=w.normpdf(function(M){for(var j=Math.floor(M/2),S=new Array(2*j+1),k=-j;k<=j;k++)S[k+j]=Math.abs(k);return{data:S,width:S.length,height:1}}(a.windowSize),0,1.5),f=Math.pow(2,a.bitDepth)-1,t=Math.pow(a.k1*f,2),d=Math.pow(a.k2*f,2);h=i.divide2d(h,i.sum2d(h));var r=w.transpose(h),n=w.conv2(m,h,r,"valid"),v=w.conv2(g,h,r,"valid"),l=i.square2d(n),s=i.square2d(v),o=i.multiply2d(n,v),u=i.square2d(m),p=i.square2d(g),_=i.subtract2d(w.conv2(u,h,r,"valid"),l),b=i.subtract2d(w.conv2(p,h,r,"valid"),s),y=i.subtract2d(w.conv2(i.multiply2d(m,g),h,r,"valid"),o);return t>0&&d>0?function(M,j,S,k,D,z,q,T){var I=i.add2d(i.multiply2d(M,2),q),R=i.add2d(i.multiply2d(j,2),T),V=i.add2d(i.add2d(S,k),q),K=i.add2d(i.add2d(D,z),T);return i.divide2d(i.multiply2d(I,R),i.multiply2d(V,K))}(o,y,l,s,_,b,t,d):function(M,j,S,k,D,z){var q=i.multiply2d(M,2),T=i.multiply2d(j,2),I=i.add2d(S,k),R=i.add2d(D,z);return i.divide2d(i.multiply2d(q,T),i.multiply2d(I,R))}(o,y,l,s,_,b)}},535:function(P,e){var c=this&&this.__assign||function(){return(c=Object.assign||function(t){for(var d,r=1,n=arguments.length;r<n;r++)for(var v in d=arguments[r])Object.prototype.hasOwnProperty.call(d,v)&&(t[v]=d[v]);return t}).apply(this,arguments)};function i(t,d,r,n){return{rightEdge:r[d*n+t+1],bottomEdge:r[(d+1)*n+t],bottomRightEdge:r[(d+1)*n+t+1]}}function w(t,d){for(var r=t.width,n=t.height,v=t.data,l=r+1,s=n+1,o=new Int32Array(l*s),u=n-1;u>=0;--u)for(var p=r-1;p>=0;--p){var _=i(p,u,o,l),b=_.rightEdge,y=_.bottomEdge,M=_.bottomRightEdge;o[u*l+p]=d(v[u*r+p],p,u)+b+y-M}return{data:o,height:s,width:l}}function m(t,d,r){for(var n=t.width,v=t.height,l=t.data,s=d.data,o=n+1,u=v+1,p=new Int32Array(o*u),_=v-1;_>=0;--_)for(var b=n-1;b>=0;--b){var y=i(b,_,p,o),M=y.rightEdge,j=y.bottomEdge,S=y.bottomRightEdge,k=_*n+b;p[_*o+b]=r(l[k],s[k],b,_)+M+j-S}return{data:p,height:u,width:o}}function g(t,d,r){for(var n=t.width,v=t.height,l=t.data,s=n-1,o=v-1,u=s-d+1,p=o-d+1,_=new Int32Array(u*p),b=0;b<o;++b)for(var y=0;y<s;++y)if(y<u&&b<p){var M=l[n*b+y]-l[n*b+y+d]-l[n*(b+d)+y]+l[n*(b+d)+y+d];_[b*u+y]=M/r}return{height:p,width:u,data:_}}function a(t,d){return g(w(t,function(r){return r}),d,1)}function h(t,d,r){for(var n=r*r,v=g(w(t,function(p){return p*p}),r,1),l=0;l<d.data.length;++l){var s=d.data[l]/n,o=v.data[l]/n,u=s*s;v.data[l]=1024*(o-u)}return v}function f(t,d,r,n,v){for(var l=v*v,s=g(m(t,d,function(u,p){return u*p}),v,1),o=0;o<r.data.length;++o)s.data[o]=1024*(s.data[o]/l-r.data[o]/l*(n.data[o]/l));return s}Object.defineProperty(e,"__esModule",{value:!0}),e.weberSsim=e.windowCovariance=e.windowVariance=e.windowSums=e.windowMatrix=e.partialSumMatrix2=e.partialSumMatrix1=void 0,e.partialSumMatrix1=w,e.partialSumMatrix2=m,e.windowMatrix=g,e.windowSums=a,e.windowVariance=h,e.windowCovariance=f,e.weberSsim=function(t,d,r){for(var n=r.bitDepth,v=r.k1,l=r.k2,s=r.windowSize,o=Math.pow(2,n)-1,u=v*o*(v*o),p=l*o*(l*o),_=s*s,b=c(c({},t),{data:Int32Array.from(t.data,function($){return $+.5})}),y=c(c({},d),{data:Int32Array.from(d.data,function($){return $+.5})}),M=a(b,s),j=h(b,M,s),S=a(y,s),k=h(y,S,s),D=f(b,y,M,S,s),z=M.data.length,q=0,T=new Array(z),I=0;I<z;++I){var R=M.data[I]/_,V=S.data[I]/_,K=j.data[I]/1024,H=k.data[I]/1024,L=(2*R*V+u)*(D.data[I]/1024*2+p)/(R*R+V*V+u)/(K+H+p);T[I]=L,I==0?q=L:q+=(L-q)/(I+1)}return{data:T,width:M.width,height:M.height,mssim:q}}}},E={};return function P(e){if(E[e])return E[e].exports;var c=E[e]={exports:{}};return x[e].call(c.exports,c,c.exports,P),c.exports}(607)})()})}(B)),B.exports}var et=Y();let C;globalThis.__vitest_browser__&&F(()=>import("./context-Bznrny0g.js"),[],import.meta.url).then(O=>{C=O});const rt=new Proxy({},{get(O,A){return O[A]??(C==null?void 0:C.server)[A]}});globalThis.__vitest_browser__&&F(()=>import("./suite-elaAuslL.js"),[],import.meta.url).then(O=>{});export{rt as a,tt as d,et as s};
