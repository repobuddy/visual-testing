try{
(()=>{var ke="storybook/interactions",B=`${ke}/panel`,Pe="writing-tests/integrations/vitest-addon",Dt=`${Pe}#what-happens-when-there-are-different-test-results-in-multiple-environments`,_="storybook/a11y",U=`${_}/panel`,Bt=`${_}/ui`,Ut=`${_}/result`,Mt=`${_}/request`,jt=`${_}/running`,$t=`${_}/error`,Ht=`${_}/manual`,Ft=`${_}/select`,Le="writing-tests/accessibility-testing",Gt=`${Le}#why-are-my-tests-failing-in-different-environments`,y="storybook/test",q=`${y}/test-provider`,Z=`${y}/channel`,Ne="writing-tests/integrations/vitest-addon",Q=`${Ne}#what-happens-if-vitest-itself-has-an-error`,M={id:y,initialState:{config:{coverage:!1,a11y:!1},watching:!1,cancelling:!1,fatalError:void 0,indexUrl:void 0,previewAnnotations:[],currentRun:{triggeredBy:void 0,config:{coverage:!1,a11y:!1},componentTestCount:{success:0,error:0},a11yCount:{success:0,warning:0,error:0},storyIds:void 0,totalTestCount:void 0,startedAt:void 0,finishedAt:void 0,unhandledErrors:[],coverageSummary:void 0}}},J=["global","run-all"],Kt=`UNIVERSAL_STORE:${M.id}`,j="storybook/component-test",$="storybook/a11y";var n=__REACT__,{Children:qt,Component:Zt,Fragment:Qt,Profiler:Jt,PureComponent:Xt,StrictMode:en,Suspense:tn,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:nn,act:on,cloneElement:rn,createContext:an,createElement:sn,createFactory:ln,createRef:cn,forwardRef:un,isValidElement:dn,lazy:mn,memo:pn,startTransition:gn,unstable_act:In,useCallback:H,useContext:X,useDebugValue:hn,useDeferredValue:fn,useEffect:P,useId:_n,useImperativeHandle:bn,useInsertionEffect:vn,useLayoutEffect:Tn,useMemo:ee,useReducer:En,useRef:te,useState:C,useSyncExternalStore:Sn,useTransition:yn,version:Cn}=__REACT__;var kn=__STORYBOOK_TYPES__,{Addon_TypesEnum:ne,CoreWebpackCompiler:Pn,Feature:Ln,SupportedBuilder:oe,SupportedFramework:Nn,SupportedLanguage:xn,SupportedRenderer:Dn}=__STORYBOOK_TYPES__;var $n=__STORYBOOK_API__,{ActiveTabs:Hn,Consumer:Fn,ManagerContext:Gn,Provider:Kn,RequestResponseError:Wn,addons:O,combineParameters:Yn,controlOrMetaKey:zn,controlOrMetaSymbol:Vn,eventMatchesShortcut:qn,eventToShortcut:Zn,experimental_MockUniversalStore:Qn,experimental_UniversalStore:re,experimental_getStatusStore:F,experimental_getTestProviderStore:ae,experimental_requestResponse:Jn,experimental_useStatusStore:G,experimental_useTestProviderStore:se,experimental_useUniversalStore:le,internal_checklistStore:Xn,internal_fullStatusStore:eo,internal_fullTestProviderStore:to,internal_universalChecklistStore:no,internal_universalStatusStore:oo,internal_universalTestProviderStore:ro,isMacLike:ao,isShortcutTaken:so,keyToSymbol:lo,merge:co,mockChannel:io,optionOrAltSymbol:uo,shortcutMatchesShortcut:mo,shortcutToAriaKeyshortcuts:po,shortcutToHumanString:go,types:Io,useAddonState:ho,useArgTypes:fo,useArgs:_o,useChannel:bo,useGlobalTypes:vo,useGlobals:To,useParameter:Eo,useSharedState:So,useStoryPrepared:yo,useStorybookApi:ce,useStorybookState:Co}=__STORYBOOK_API__;var ko=__STORYBOOK_COMPONENTS__,{A:Po,AbstractToolbar:Lo,ActionBar:No,ActionList:p,AddonPanel:xo,Badge:Do,Bar:Bo,Blockquote:Uo,Button:A,Card:Mo,ClipboardCode:jo,Code:$o,Collapsible:Ho,DL:Fo,Div:Go,DocumentWrapper:Ko,EmptyTabContent:Wo,ErrorFormatter:Yo,FlexBar:zo,Form:L,H1:Vo,H2:qo,H3:Zo,H4:Qo,H5:Jo,H6:Xo,HR:er,IconButton:tr,Img:nr,LI:or,Link:K,ListItem:rr,Loader:ar,Modal:N,ModalDecorator:sr,OL:lr,P:cr,Placeholder:ir,Popover:ur,PopoverProvider:dr,Pre:mr,ProgressSpinner:ie,ResetWrapper:pr,ScrollArea:gr,Select:Ir,Separator:hr,Spaced:fr,Span:_r,StatelessTab:br,StatelessTabList:vr,StatelessTabPanel:Tr,StatelessTabsView:Er,StorybookIcon:Sr,StorybookLogo:yr,SyntaxHighlighter:Cr,TT:Ar,TabBar:wr,TabButton:Or,TabList:Rr,TabPanel:kr,TabWrapper:Pr,Table:Lr,Tabs:Nr,TabsState:xr,TabsView:Dr,ToggleButton:ue,Toolbar:Br,Tooltip:Ur,TooltipLinkList:Mr,TooltipMessage:jr,TooltipNote:$r,TooltipProvider:Hr,UL:Fr,WithTooltip:Gr,WithTooltipPure:Kr,Zoom:Wr,codeCommon:Yr,components:zr,convertToReactAriaPlacement:Vr,createCopyToClipboardFunction:qr,getStoryHref:Zr,interleaveSeparators:Qr,nameSpaceClassNames:Jr,resetComponents:Xr,useTabsState:ea,withReset:ta}=__STORYBOOK_COMPONENTS__;var sa=__STORYBOOK_ICONS__,{AccessibilityAltIcon:la,AccessibilityIcon:ca,AccessibilityIgnoredIcon:ia,AddIcon:ua,AdminIcon:da,AlertAltIcon:ma,AlertIcon:pa,AlignLeftIcon:ga,AlignRightIcon:Ia,AppleIcon:ha,ArrowBottomLeftIcon:fa,ArrowBottomRightIcon:_a,ArrowDownIcon:ba,ArrowLeftIcon:va,ArrowRightIcon:Ta,ArrowSolidDownIcon:Ea,ArrowSolidLeftIcon:Sa,ArrowSolidRightIcon:ya,ArrowSolidUpIcon:Ca,ArrowTopLeftIcon:Aa,ArrowTopRightIcon:wa,ArrowUpIcon:Oa,AzureDevOpsIcon:Ra,BackIcon:ka,BasketIcon:Pa,BatchAcceptIcon:La,BatchDenyIcon:Na,BeakerIcon:xa,BellIcon:Da,BitbucketIcon:Ba,BoldIcon:Ua,BookIcon:Ma,BookmarkHollowIcon:ja,BookmarkIcon:$a,BottomBarIcon:Ha,BottomBarToggleIcon:Fa,BoxIcon:Ga,BranchIcon:Ka,BrowserIcon:Wa,BugIcon:Ya,ButtonIcon:za,CPUIcon:Va,CalendarIcon:qa,CameraIcon:Za,CameraStabilizeIcon:Qa,CategoryIcon:Ja,CertificateIcon:Xa,ChangedIcon:es,ChatIcon:ts,CheckIcon:ns,ChevronDownIcon:os,ChevronLeftIcon:rs,ChevronRightIcon:as,ChevronSmallDownIcon:ss,ChevronSmallLeftIcon:ls,ChevronSmallRightIcon:cs,ChevronSmallUpIcon:is,ChevronUpIcon:us,ChromaticIcon:ds,ChromeIcon:ms,CircleHollowIcon:ps,CircleIcon:gs,ClearIcon:Is,CloseAltIcon:hs,CloseIcon:fs,CloudHollowIcon:_s,CloudIcon:bs,CogIcon:vs,CollapseIcon:Ts,CommandIcon:Es,CommentAddIcon:Ss,CommentIcon:ys,CommentsIcon:Cs,CommitIcon:As,CompassIcon:ws,ComponentDrivenIcon:Os,ComponentIcon:Rs,ContrastIcon:ks,ContrastIgnoredIcon:Ps,ControlsIcon:Ls,CopyIcon:Ns,CreditIcon:xs,CrossIcon:Ds,DashboardIcon:Bs,DatabaseIcon:Us,DeleteIcon:Ms,DiamondIcon:js,DirectionIcon:$s,DiscordIcon:Hs,DocChartIcon:Fs,DocListIcon:Gs,DocumentIcon:Ks,DownloadIcon:Ws,DragIcon:Ys,EditIcon:zs,EditorIcon:Vs,EllipsisIcon:qs,EmailIcon:Zs,ExpandAltIcon:Qs,ExpandIcon:Js,EyeCloseIcon:Xs,EyeIcon:de,FaceHappyIcon:el,FaceNeutralIcon:tl,FaceSadIcon:nl,FacebookIcon:ol,FailedIcon:rl,FastForwardIcon:al,FigmaIcon:sl,FilterIcon:ll,FlagIcon:cl,FolderIcon:il,FormIcon:ul,GDriveIcon:dl,GiftIcon:ml,GithubIcon:pl,GitlabIcon:gl,GlobeIcon:Il,GoogleIcon:hl,GraphBarIcon:fl,GraphLineIcon:_l,GraphqlIcon:bl,GridAltIcon:vl,GridIcon:Tl,GrowIcon:El,HeartHollowIcon:Sl,HeartIcon:yl,HomeIcon:Cl,HourglassIcon:Al,InfoIcon:me,ItalicIcon:wl,JumpToIcon:Ol,KeyIcon:Rl,LightningIcon:kl,LightningOffIcon:Pl,LinkBrokenIcon:Ll,LinkIcon:Nl,LinkedinIcon:xl,LinuxIcon:Dl,ListOrderedIcon:Bl,ListUnorderedIcon:Ul,LocationIcon:Ml,LockIcon:jl,MarkdownIcon:$l,MarkupIcon:Hl,MediumIcon:Fl,MemoryIcon:Gl,MenuIcon:Kl,MergeIcon:Wl,MirrorIcon:Yl,MobileIcon:zl,MoonIcon:Vl,NutIcon:ql,OutboxIcon:Zl,OutlineIcon:Ql,PaintBrushAltIcon:Jl,PaintBrushIcon:Xl,PaperClipIcon:ec,ParagraphIcon:tc,PassedIcon:nc,PhoneIcon:oc,PhotoDragIcon:rc,PhotoIcon:ac,PhotoStabilizeIcon:sc,PinAltIcon:lc,PinIcon:cc,PlayAllHollowIcon:ic,PlayBackIcon:uc,PlayHollowIcon:pe,PlayIcon:dc,PlayNextIcon:mc,PlusIcon:pc,PointerDefaultIcon:gc,PointerHandIcon:Ic,PowerIcon:hc,PrintIcon:fc,ProceedIcon:_c,ProfileIcon:bc,PullRequestIcon:vc,QuestionIcon:Tc,RSSIcon:Ec,RedirectIcon:Sc,ReduxIcon:yc,RefreshIcon:Cc,ReplyIcon:Ac,RepoIcon:wc,RequestChangeIcon:Oc,RewindIcon:Rc,RulerIcon:kc,SaveIcon:Pc,SearchIcon:Lc,ShareAltIcon:Nc,ShareIcon:xc,ShieldIcon:Dc,SideBySideIcon:Bc,SidebarAltIcon:Uc,SidebarAltToggleIcon:Mc,SidebarIcon:jc,SidebarToggleIcon:$c,SortDownIcon:Hc,SortUpIcon:Fc,SpeakerIcon:Gc,StackedIcon:Kc,StarHollowIcon:Wc,StarIcon:Yc,StatusFailIcon:zc,StatusIcon:Vc,StatusPassIcon:qc,StatusWarnIcon:Zc,StickerIcon:Qc,StopAltHollowIcon:Jc,StopAltIcon:ge,StopIcon:Xc,StorybookIcon:ei,StructureIcon:ti,SubtractIcon:ni,SunIcon:oi,SupportIcon:ri,SweepIcon:ai,SwitchAltIcon:si,SyncIcon:Ie,TabletIcon:li,ThumbsUpIcon:ci,TimeIcon:ii,TimerIcon:ui,TransferIcon:di,TrashIcon:mi,TwitterIcon:pi,TypeIcon:gi,UbuntuIcon:Ii,UndoIcon:hi,UnfoldIcon:fi,UnlockIcon:_i,UnpinIcon:bi,UploadIcon:vi,UserAddIcon:Ti,UserAltIcon:Ei,UserIcon:Si,UsersIcon:yi,VSCodeIcon:Ci,VerifiedIcon:Ai,VideoIcon:wi,WandIcon:Oi,WatchIcon:Ri,WindowsIcon:ki,WrenchIcon:Pi,XIcon:Li,YoutubeIcon:Ni,ZoomIcon:xi,ZoomOutIcon:Di,ZoomResetIcon:Bi,iconList:Ui}=__STORYBOOK_ICONS__;var Fi=__STORYBOOK_THEMING__,{CacheProvider:Gi,ClassNames:Ki,Global:Wi,ThemeProvider:Yi,background:zi,color:Vi,convert:qi,create:Zi,createCache:Qi,createGlobal:Ji,createReset:Xi,css:eu,darken:tu,ensure:nu,getPreferredColorScheme:ou,ignoreSsrWarning:ru,isPropValid:au,jsx:su,keyframes:lu,lighten:cu,styled:g,themes:iu,tokens:uu,typography:du,useTheme:mu,withTheme:pu}=__STORYBOOK_THEMING__;var b=re.create({...M,leader:globalThis.CONFIG_TYPE==="PRODUCTION"}),xe=F(j),De=F($),Se=ae(y),Be=g.div({display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 6px 6px 20px"}),Ue=g.div({display:"flex",justifyContent:"space-between",alignItems:"center"}),Me=g(N.Title)(({theme:{typography:e}})=>({fontSize:e.size.s2,fontWeight:e.weight.bold})),je=g.pre(({theme:e})=>({whiteSpace:"pre-wrap",wordWrap:"break-word",overflow:"auto",maxHeight:"60vh",margin:0,padding:"20px",fontFamily:e.typography.fonts.mono,fontSize:"12px",borderTop:`1px solid ${e.appBorderColor}`,borderRadius:0})),$e=g.a(({theme:e})=>({color:e.color.defaultText})),z=n.createContext({isModalOpen:!1,setModalOpen:void 0});function Y({error:e}){return e?n.createElement("div",null,n.createElement("h4",null,"Caused by: ",e.name||"Error",": ",e.message),e.stack&&n.createElement("pre",null,e.stack),e.cause&&n.createElement(Y,{error:e.cause})):null}function He({onRerun:e,storeState:t}){let o=ce(),{isModalOpen:l,setModalOpen:i}=X(z),r=o.getDocsUrl({subpath:Q,versioned:!0,renderer:!0}),{fatalError:a,currentRun:{unhandledErrors:d}}=t,c=a?n.createElement(n.Fragment,null,n.createElement("p",null,a.error.name||"Error"),a.message&&n.createElement("p",null,a.message),a.error.message&&n.createElement("p",null,a.error.message),a.error.stack&&n.createElement("p",null,a.error.stack),a.error.cause&&n.createElement(Y,{error:a.error.cause})):d.length>0?n.createElement("ol",null,d.map(s=>n.createElement("li",{key:s.name+s.message},n.createElement("p",null,s.name,": ",s.message),s.VITEST_TEST_PATH&&n.createElement("p",null,'This error originated in "',n.createElement("b",null,s.VITEST_TEST_PATH),`". It doesn't mean the error was thrown inside the file itself, but while it was running.`),s.VITEST_TEST_NAME&&n.createElement(n.Fragment,null,n.createElement("p",null,`The latest test that might've caused the error is "`,n.createElement("b",null,s.VITEST_TEST_NAME),'". It might mean one of the following:'),n.createElement("ul",null,n.createElement("li",null,"The error was thrown, while Vitest was running this test."),n.createElement("li",null,"If the error occurred after the test had been completed, this was the last documented test before it was thrown."))),s.stacks&&n.createElement(n.Fragment,null,n.createElement("p",null,n.createElement("b",null,"Stacks:")),n.createElement("ul",null,s.stacks.map(u=>n.createElement("li",{key:u.file+u.line+u.column},u.file,":",u.line,":",u.column," - ",u.method||"unknown method")))),s.stack&&n.createElement("p",null,s.stack),s.cause?n.createElement(Y,{error:s.cause}):null))):null;return n.createElement(N,{ariaLabel:"Storybook Tests error details",onOpenChange:i,open:l},n.createElement(Be,null,n.createElement(Me,null,"Storybook Tests error details"),n.createElement(Ue,null,n.createElement(A,{onClick:e,variant:"ghost",ariaLabel:!1},n.createElement(Ie,null),"Rerun"),n.createElement(A,{variant:"ghost",ariaLabel:!1,asChild:!0},n.createElement("a",{target:"_blank",href:r,rel:"noreferrer"},"Troubleshoot")),n.createElement(N.Close,null))),n.createElement(je,null,c,n.createElement("br",null),n.createElement("br",null),"Troubleshoot:"," ",n.createElement($e,{target:"_blank",href:r},r)))}function he(e){if(!e||typeof e!="object")return!1;let t=Object.getPrototypeOf(e);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(e)==="[object Object]":!1}function fe(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function _e(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var Fe="[object RegExp]",Ge="[object String]",Ke="[object Number]",We="[object Boolean]",be="[object Arguments]",Ye="[object Symbol]",ze="[object Date]",Ve="[object Map]",qe="[object Set]",Ze="[object Array]",Qe="[object Function]",Je="[object ArrayBuffer]",W="[object Object]",Xe="[object Error]",et="[object DataView]",tt="[object Uint8Array]",nt="[object Uint8ClampedArray]",ot="[object Uint16Array]",rt="[object Uint32Array]",at="[object BigUint64Array]",st="[object Int8Array]",lt="[object Int16Array]",ct="[object Int32Array]",it="[object BigInt64Array]",ut="[object Float32Array]",dt="[object Float64Array]";function mt(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function pt(e,t,o){return R(e,t,void 0,void 0,void 0,void 0,o)}function R(e,t,o,l,i,r,a){let d=a(e,t,o,l,i,r);if(d!==void 0)return d;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return e===t;case"number":return e===t||Object.is(e,t);case"function":return e===t;case"object":return k(e,t,r,a)}return k(e,t,r,a)}function k(e,t,o,l){if(Object.is(e,t))return!0;let i=_e(e),r=_e(t);if(i===be&&(i=W),r===be&&(r=W),i!==r)return!1;switch(i){case Ge:return e.toString()===t.toString();case Ke:{let c=e.valueOf(),s=t.valueOf();return mt(c,s)}case We:case ze:case Ye:return Object.is(e.valueOf(),t.valueOf());case Fe:return e.source===t.source&&e.flags===t.flags;case Qe:return e===t}o=o??new Map;let a=o.get(e),d=o.get(t);if(a!=null&&d!=null)return a===t;o.set(e,t),o.set(t,e);try{switch(i){case Ve:{if(e.size!==t.size)return!1;for(let[c,s]of e.entries())if(!t.has(c)||!R(s,t.get(c),c,e,t,o,l))return!1;return!0}case qe:{if(e.size!==t.size)return!1;let c=Array.from(e.values()),s=Array.from(t.values());for(let u=0;u<c.length;u++){let I=c[u],m=s.findIndex(h=>R(I,h,void 0,e,t,o,l));if(m===-1)return!1;s.splice(m,1)}return!0}case Ze:case tt:case nt:case ot:case rt:case at:case st:case lt:case ct:case it:case ut:case dt:{if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let c=0;c<e.length;c++)if(!R(e[c],t[c],c,e,t,o,l))return!1;return!0}case Je:return e.byteLength!==t.byteLength?!1:k(new Uint8Array(e),new Uint8Array(t),o,l);case et:return e.byteLength!==t.byteLength||e.byteOffset!==t.byteOffset?!1:k(new Uint8Array(e),new Uint8Array(t),o,l);case Xe:return e.name===t.name&&e.message===t.message;case W:{if(!(k(e.constructor,t.constructor,o,l)||he(e)&&he(t)))return!1;let c=[...Object.keys(e),...fe(e)],s=[...Object.keys(t),...fe(t)];if(c.length!==s.length)return!1;for(let u=0;u<c.length;u++){let I=c[u],m=e[I];if(!Object.hasOwn(t,I))return!1;let h=t[I];if(!R(m,h,I,e,t,o,l))return!1}return!0}default:return!1}}finally{o.delete(e),o.delete(t)}}function gt(){}function It(e,t){return pt(e,t,gt)}var ve=(e,t,o)=>{let l={"status-value:pending":[],"status-value:success":[],"status-value:error":[],"status-value:warning":[],"status-value:unknown":[]};return(o?o.map(i=>e[i]).filter(Boolean):Object.values(e)).forEach(i=>{let r=i[t];r&&l[r.value].push(r.storyId)}),l},ye=(e,t)=>{let o=se(h=>h[y]),[l,i]=le(b),[r,a]=C(!1),d=te();P(()=>{let h=b.onStateChange((w,D)=>{It(w.config,D.config)||(Se.settingsChanged(),a(!0),clearTimeout(d.current),d.current=setTimeout(()=>{a(!1)},1e3))});return()=>{h(),clearTimeout(d.current)}},[]);let c=ee(()=>t?e.findAllLeafStoryIds(t):void 0,[t,e]),s=H(h=>ve(h,j,c),[c]),u=G(s),I=H(h=>ve(h,$,c),[c]),m=G(I);return{storeState:l,setStoreState:i,testProviderState:o,componentTestStatusValueToStoryIds:u,a11yStatusValueToStoryIds:m,isSettingsUpdated:r}},ht=({timestamp:e})=>{let[t,o]=C(null);if(P(()=>{if(e){o(Date.now()-e);let d=setInterval(()=>o(Date.now()-e),1e4);return()=>clearInterval(d)}},[e]),t===null)return null;let l=Math.round(t/1e3);if(l<60)return"just now";let i=Math.floor(l/60);if(i<60)return i===1?"a minute ago":`${i} minutes ago`;let r=Math.floor(i/60);if(r<24)return r===1?"an hour ago":`${r} hours ago`;let a=Math.floor(r/24);return a===1?"yesterday":`${a} days ago`},ft=g.div(({theme:e})=>({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",fontSize:e.typography.size.s1,color:e.textMutedColor})),_t=g.span(({theme:e})=>({color:e.color.positiveText}));function bt({entryId:e,storeState:t,testProviderState:o,isSettingsUpdated:l,...i}){let{setModalOpen:r}=n.useContext(z),{componentTestCount:a,totalTestCount:d,unhandledErrors:c,finishedAt:s}=t.currentRun,u=a.success+a.error,I="Not run";if(!e&&l)I=n.createElement(_t,null,"Settings updated");else if(o==="test-provider-state:running")I=(u??0)===0?"Starting...":`Testing... ${u}/${d}`;else if(!e&&o==="test-provider-state:crashed")I=r?n.createElement(K,{isButton:!0,onClick:()=>r(!0)},"View full error"):"Crashed";else if(!e&&c.length>0){let m=`View ${c.length} unhandled error${c?.length>1?"s":""}`;I=r?n.createElement(K,{isButton:!0,onClick:()=>r(!0)},m):m}else e&&d?I=`Ran ${d} ${d===1?"test":"tests"}`:s?I=n.createElement(n.Fragment,null,"Ran ",d," ",d===1?"test":"tests"," ",n.createElement(ht,{timestamp:s})):t.watching&&(I="Watching for file changes");return n.createElement(ft,{...i},I)}var x=g.div(({percentage:e})=>({width:e?12:6,height:e?12:6,margin:e?1:4,background:e?`conic-gradient(var(--status-color) ${e}%, var(--status-background) ${e+1}%)`:"var(--status-color)",borderRadius:"50%"}),({isRunning:e,theme:t})=>e&&{animation:`${t.animation.glow} 1.5s ease-in-out infinite`},({status:e,theme:t})=>e==="positive"&&{"--status-color":t.color.positive,"--status-background":`${t.color.positive}66`},({status:e,theme:t})=>e==="warning"&&{"--status-color":t.color.gold,"--status-background":`${t.color.gold}66`},({status:e,theme:t})=>e==="negative"&&{"--status-color":t.color.negative,"--status-background":`${t.color.negative}66`},({status:e,theme:t})=>e==="critical"&&{"--status-color":t.color.defaultText,"--status-background":`${t.color.defaultText}66`},({status:e,theme:t})=>e==="unknown"&&{"--status-color":t.textMutedColor,"--status-background":`${t.textMutedColor}66`}),vt=g.div(({inContextMenu:e})=>({display:"flex",flexDirection:"column",paddingBottom:e?0:1})),Tt=g.div({display:"flex",justifyContent:"space-between",padding:"8px 0",gap:12}),Et=g.div({display:"flex",flexDirection:"column",marginLeft:8,minWidth:0}),Te=g.div(({crashed:e,theme:t})=>({fontSize:t.typography.size.s1,fontWeight:e?"bold":"normal",color:e?t.color.negativeText:t.color.defaultText})),St=g.div({display:"flex",gap:4}),yt=g(p)({padding:0}),Ct=g.span(({theme:e})=>({color:e.textMutedColor})),At=g(ie)({margin:4}),wt=g(ge)({width:10}),Ee=({api:e,panelId:t,entryId:o})=>{let l=o?e.findAllLeafStoryIds(o)[0]:void 0;l&&e.selectStory(l),e.setSelectedPanel(t),e.togglePanel(!0)},Ce=({api:e,entry:t,testProviderState:o,storeState:l,setStoreState:i,componentTestStatusValueToStoryIds:r,a11yStatusValueToStoryIds:a,isSettingsUpdated:d,...c})=>{let{config:s,watching:u,cancelling:I,currentRun:m,fatalError:h}=l,w=m.componentTestCount.success+m.componentTestCount.error,D=O.experimental_getRegisteredAddons().includes(_),f=o==="test-provider-state:running",Ae=f&&w===0,[we,V]=h?["critical","Component tests crashed"]:r["status-value:error"].length>0?["negative","Component tests failed"]:f?["unknown","Testing in progress"]:r["status-value:success"].length>0?["positive","Component tests passed"]:["unknown","Run tests to see results"],[Oe,Re]=h?["critical","Component tests crashed"]:a["status-value:error"].length>0?["negative","Accessibility tests failed"]:a["status-value:warning"].length>0?["warning","Accessibility tests failed"]:f?["unknown","Testing in progress"]:a["status-value:success"].length>0?["positive","Accessibility tests passed"]:["unknown","Run tests to see accessibility results"];return n.createElement(vt,{...c,inContextMenu:!!t},n.createElement(Tt,null,n.createElement(Et,null,t?n.createElement(Te,{id:"testing-module-title"},"Run component tests"):n.createElement(Te,{id:"testing-module-title",crashed:o==="test-provider-state:crashed"||h!==void 0||m.unhandledErrors.length>0},m.unhandledErrors.length===1?"Component tests completed with an error":m.unhandledErrors.length>1?"Component tests completed with errors":h?"Component tests didn\u2019t complete":"Run component tests"),n.createElement(bt,{id:"testing-module-description",storeState:l,testProviderState:o,entryId:t?.id,isSettingsUpdated:d})),n.createElement(St,null,!t&&n.createElement(ue,{ariaLabel:f?"Watch mode (cannot toggle while running)":"Watch mode",tooltip:f?"Watch mode unavailable while running":`Watch mode is ${u?"enabled":"disabled"}`,padding:"small",size:"medium",variant:"ghost",pressed:u,onClick:()=>b.send({type:"TOGGLE_WATCHING",payload:{to:!u}}),disabled:f},n.createElement(de,null)),f?n.createElement(A,{ariaLabel:I?"Stop test run (already stopping...)":"Stop test run",padding:"none",size:"medium",variant:"ghost",onClick:()=>b.send({type:"CANCEL_RUN"}),disabled:I||Ae},n.createElement(At,{percentage:w&&l.currentRun.totalTestCount?w/l.currentRun.totalTestCount*100:void 0},n.createElement(wt,null))):n.createElement(A,{ariaLabel:"Start test run",padding:"small",size:"medium",variant:"ghost",onClick:()=>{let S;t&&(S=t.type==="story"?[t.id]:e.findAllLeafStoryIds(t.id)),b.send({type:"TRIGGER_RUN",payload:{storyIds:S,triggeredBy:t?.type??"global"}})}},n.createElement(pe,null)))),n.createElement(yt,null,n.createElement(p.Item,null,t?n.createElement(p.Text,null,"Interactions"):n.createElement(p.Action,{as:"label",readOnly:!0},n.createElement(p.Icon,null,n.createElement(L.Checkbox,{name:"Interactions",checked:!0,disabled:!0})),n.createElement(p.Text,null,"Interactions")),n.createElement(p.Button,{ariaLabel:`${V}${r["status-value:error"].length+r["status-value:warning"].length>0?` (${r["status-value:error"].length+r["status-value:warning"].length} errors or warnings so far)`:""}`,tooltip:V,disabled:r["status-value:error"].length===0&&r["status-value:warning"].length===0&&r["status-value:success"].length===0,onClick:()=>{Ee({api:e,panelId:B,entryId:r["status-value:error"][0]??r["status-value:warning"][0]??r["status-value:success"][0]??t?.id})}},n.createElement(x,{status:we,isRunning:f}),r["status-value:error"].length+r["status-value:warning"].length||null)),!t&&n.createElement(p.Item,null,n.createElement(p.Action,{as:"label",readOnly:f,ariaLabel:!1},n.createElement(p.Icon,null,n.createElement(L.Checkbox,{name:"Coverage",checked:s.coverage,disabled:f,onChange:()=>i(S=>({...S,config:{...S.config,coverage:!s.coverage}}))})),n.createElement(p.Text,null,u?n.createElement(Ct,null,"Coverage (unavailable)"):"Coverage")),u||m.triggeredBy&&!J.includes(m.triggeredBy)?n.createElement(p.Button,{disabled:!0,ariaLabel:u?"Coverage unavailable in watch mode":"Coverage only available after running all tests"},n.createElement(me,null)):m.coverageSummary?n.createElement(p.Button,{asChild:!0,ariaLabel:f?"Open coverage report (testing still in progress)":`Open coverage report (${m.coverageSummary.percentage}% coverage)`},n.createElement("a",{href:"/coverage/index.html",target:"_blank"},n.createElement(x,{isRunning:f,percentage:m.coverageSummary.percentage,status:m.coverageSummary.status}),m.coverageSummary.percentage,"%")):n.createElement(p.Button,{disabled:!0,ariaLabel:f?"Coverage unavailable, testing still in progress":h?"Coverage unavailable, component tests crashed":"Coverage unavailable, run tests first"},n.createElement(x,{isRunning:f,status:h?"critical":"unknown"}))),D&&n.createElement(p.Item,null,t?n.createElement(p.Text,null,"Accessibility"):n.createElement(p.Action,{as:"label",readOnly:f,ariaLabel:!1},n.createElement(p.Icon,null,n.createElement(L.Checkbox,{name:"Accessibility",checked:s.a11y,disabled:f,onChange:()=>i(S=>({...S,config:{...S.config,a11y:!s.a11y}}))})),n.createElement(p.Text,null,"Accessibility")),n.createElement(p.Button,{ariaLabel:Re,disabled:a["status-value:error"].length===0&&a["status-value:warning"].length===0&&a["status-value:success"].length===0,onClick:()=>{Ee({api:e,entryId:a["status-value:error"][0]??a["status-value:warning"][0]??a["status-value:success"][0]??t?.id,panelId:U})}},n.createElement(x,{status:Oe,isRunning:f}),a["status-value:error"].length+a["status-value:warning"].length||null))))},Ot=({context:e,api:t})=>{let{testProviderState:o,componentTestStatusValueToStoryIds:l,a11yStatusValueToStoryIds:i,storeState:r,setStoreState:a}=ye(t,e.id);return n.createElement(Ce,{api:t,entry:e,style:{minWidth:240},testProviderState:o,componentTestStatusValueToStoryIds:l,a11yStatusValueToStoryIds:i,storeState:r,setStoreState:a,isSettingsUpdated:!1})};O.register(y,e=>{if(globalThis.STORYBOOK_BUILDER===oe.VITE){let t=o=>{e.setSelectedPanel(o),e.togglePanel(!0)};xe.onSelect(()=>{t(B)}),De.onSelect(()=>{t(U)}),Se.onRunAll(()=>{b.send({type:"TRIGGER_RUN",payload:{triggeredBy:"run-all"}})}),b.untilReady().then(()=>{b.setState(o=>({...o,indexUrl:new URL("index.json",window.location.href).toString()})),b.subscribe("TEST_RUN_COMPLETED",({payload:o})=>{e.emit(Z,{type:"test-run-completed",payload:o})})}),O.add(q,{type:ne.experimental_TEST_PROVIDER,render:()=>{let[o,l]=C(!1),{storeState:i,setStoreState:r,testProviderState:a,componentTestStatusValueToStoryIds:d,a11yStatusValueToStoryIds:c,isSettingsUpdated:s}=ye(e);return n.createElement(z.Provider,{value:{isModalOpen:o,setModalOpen:l}},n.createElement(Ce,{api:e,storeState:i,setStoreState:r,isSettingsUpdated:s,testProviderState:a,componentTestStatusValueToStoryIds:d,a11yStatusValueToStoryIds:c}),n.createElement(He,{storeState:i,onRerun:()=>{l(!1),b.send({type:"TRIGGER_RUN",payload:{triggeredBy:"global"}})}}))},sidebarContextMenu:({context:o})=>o.type==="docs"||o.type==="story"&&!o.tags.includes("test")?null:n.createElement(Ot,{context:o,api:e})})}});})();
}catch(e){ console.error("[Storybook] One of your manager-entries failed: " + import.meta.url, e); }
